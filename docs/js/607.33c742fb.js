(self["webpackChunkvue_strategy_front_backend"]=self["webpackChunkvue_strategy_front_backend"]||[]).push([[607],{659:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=659,e.exports=t},8918:function(e,t,n){"use strict";n.d(t,{$k:function(){return o},OD:function(){return c},PQ:function(){return s},Zz:function(){return i},jX:function(){return a},tu:function(){return l}});var r=n(3512);function i(e){return(0,r.Z)({url:"/article/list",method:"get",params:e})}function o(e){return(0,r.Z)({url:"/article/sort",method:"post",data:e})}function a(e){return(0,r.Z)({url:`/article/delete/${e}`,method:"get"})}function s(e){return(0,r.Z)({url:`/article/${e}`,method:"get"})}function l(e){return(0,r.Z)({url:"/article/create",method:"post",data:e})}const c=e=>(0,r.Z)({url:"/article/edit",method:"post",data:e})},2987:function(e,t,n){n(1703),n(6699),n(8675),n(3462),n(2801),
/*!
 * TOAST UI Chart 4th Edition
 * @version 4.4.3 | Wed Apr 27 2022
 * @author NHN Cloud. FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
function(t,n){e.exports=n()}(self,(function(){return function(){var e={3819:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},8505:function(e,t,n){var r=n(5052);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},9736:function(e,t,n){var r=n(95),i=n(2391),o=n(1787),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},6637:function(e,t,n){"use strict";var r=n(966).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},7728:function(e){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},1176:function(e,t,n){var r=n(5052);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},3339:function(e){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},9918:function(e,t,n){"use strict";var r,i=n(3339),o=n(7400),a=n(9859),s=n(5052),l=n(816),c=n(1589),u=n(5762),f=n(7487),d=n(1787).f,h=n(7567),p=n(6540),v=n(95),m=n(1441),y=a.Int8Array,g=y&&y.prototype,b=a.Uint8ClampedArray,w=b&&b.prototype,x=y&&h(y),k=g&&h(g),S=Object.prototype,O=S.isPrototypeOf,C=v("toStringTag"),E=m("TYPED_ARRAY_TAG"),M=i&&!!p&&"Opera"!==c(a.opera),A=!1,T={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},R=function(e){if(!s(e))return!1;var t=c(e);return"DataView"===t||l(T,t)||l(P,t)},D=function(e){if(!s(e))return!1;var t=c(e);return l(T,t)||l(P,t)},_=function(e){if(D(e))return e;throw TypeError("Target is not a typed array")},j=function(e){if(p){if(O.call(x,e))return e}else for(var t in T)if(l(T,r)){var n=a[t];if(n&&(e===n||O.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},L=function(e,t,n){if(o){if(n)for(var r in T){var i=a[r];if(i&&l(i.prototype,e))try{delete i.prototype[e]}catch(s){}}k[e]&&!n||f(k,e,n?t:M&&g[e]||t)}},I=function(e,t,n){var r,i;if(o){if(p){if(n)for(r in T)if(i=a[r],i&&l(i,e))try{delete i[e]}catch(s){}if(x[e]&&!n)return;try{return f(x,e,n?t:M&&x[e]||t)}catch(s){}}for(r in T)i=a[r],!i||i[e]&&!n||f(i,e,t)}};for(r in T)a[r]||(M=!1);if((!M||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},M))for(r in T)a[r]&&p(a[r],x);if((!M||!k||k===S)&&(k=x.prototype,M))for(r in T)a[r]&&p(a[r].prototype,k);if(M&&h(w)!==k&&p(w,k),o&&!l(k,C))for(r in A=!0,d(k,C,{get:function(){return s(this)?this[E]:void 0}}),T)a[r]&&u(a[r],E,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:A&&E,aTypedArray:_,aTypedArrayConstructor:j,exportTypedArrayMethod:L,exportTypedArrayStaticMethod:I,isView:R,isTypedArray:D,TypedArray:x,TypedArrayPrototype:k}},3816:function(e,t,n){"use strict";var r=n(9859),i=n(7400),o=n(3339),a=n(5762),s=n(8787),l=n(4229),c=n(7728),u=n(6051),f=n(4237),d=n(7331),h=n(6201),p=n(7567),v=n(6540),m=n(8151).f,y=n(1787).f,g=n(7065),b=n(4555),w=n(6407),x=w.get,k=w.set,S="ArrayBuffer",O="DataView",C="prototype",E="Wrong length",M="Wrong index",A=r[S],T=A,P=r[O],R=P&&P[C],D=Object.prototype,_=r.RangeError,j=h.pack,L=h.unpack,I=function(e){return[255&e]},N=function(e){return[255&e,e>>8&255]},B=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},H=function(e){return j(e,23,4)},W=function(e){return j(e,52,8)},F=function(e,t){y(e[C],t,{get:function(){return x(this)[t]}})},U=function(e,t,n,r){var i=d(n),o=x(e);if(i+t>o.byteLength)throw _(M);var a=x(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+t);return r?l:l.reverse()},V=function(e,t,n,r,i,o){var a=d(n),s=x(e);if(a+t>s.byteLength)throw _(M);for(var l=x(s.buffer).bytes,c=a+s.byteOffset,u=r(+i),f=0;f<t;f++)l[c+f]=u[o?f:t-f-1]};if(o){if(!l((function(){A(1)}))||!l((function(){new A(-1)}))||l((function(){return new A,new A(1.5),new A(NaN),A.name!=S}))){T=function(e){return c(this,T),new A(d(e))};for(var q,Y=T[C]=A[C],$=m(A),G=0;$.length>G;)(q=$[G++])in T||a(T,q,A[q]);Y.constructor=T}v&&p(R)!==D&&v(R,D);var X=new P(new T(2)),K=R.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||s(R,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,S);var t=d(e);k(this,{bytes:g.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},P=function(e,t,n){c(this,P,O),c(e,T,O);var r=x(e).byteLength,o=u(t);if(o<0||o>r)throw _("Wrong offset");if(n=void 0===n?r-o:f(n),o+n>r)throw _(E);k(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},i&&(F(T,"byteLength"),F(P,"buffer"),F(P,"byteLength"),F(P,"byteOffset")),s(P[C],{getInt8:function(e){return U(this,1,e)[0]<<24>>24},getUint8:function(e){return U(this,1,e)[0]},getInt16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(U(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(U(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(U(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(U(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){V(this,1,e,I,t)},setUint8:function(e,t){V(this,1,e,I,t)},setInt16:function(e,t){V(this,2,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){V(this,2,e,N,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){V(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){V(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){V(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){V(this,8,e,W,t,arguments.length>2?arguments[2]:void 0)}});b(T,S),b(P,O),e.exports={ArrayBuffer:T,DataView:P}},7154:function(e,t,n){"use strict";var r=n(2991),i=n(3231),o=n(4237),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=o(n.length),l=i(e,s),c=i(t,s),u=arguments.length>2?arguments[2]:void 0,f=a((void 0===u?s:i(u,s))-c,s-l),d=1;c<l&&l<c+f&&(d=-1,c+=f-1,l+=f-1);while(f-- >0)c in n?n[l]=n[c]:delete n[l],l+=d,c+=d;return n}},7065:function(e,t,n){"use strict";var r=n(2991),i=n(3231),o=n(4237);e.exports=function(e){var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);while(c>s)t[s++]=e;return t}},6570:function(e,t,n){"use strict";var r=n(9996).forEach,i=n(6038),o=i("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},507:function(e,t,n){"use strict";var r=n(7636),i=n(2991),o=n(4960),a=n(1943),s=n(4237),l=n(2324),c=n(8830);e.exports=function(e){var t,n,u,f,d,h,p=i(e),v="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,g=void 0!==y,b=c(p),w=0;if(g&&(y=r(y,m>2?arguments[2]:void 0,2)),void 0==b||v==Array&&a(b))for(t=s(p.length),n=new v(t);t>w;w++)h=g?y(p[w],w):p[w],l(n,w,h);else for(f=b.call(p),d=f.next,n=new v;!(u=d.call(f)).done;w++)h=g?o(f,y,[u.value,w],!0):u.value,l(n,w,h);return n.length=w,n}},9540:function(e,t,n){var r=n(905),i=n(4237),o=n(3231),a=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),u=o(a,c);if(e&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},9996:function(e,t,n){var r=n(7636),i=n(9337),o=n(2991),a=n(4237),s=n(7501),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,f=6==e,d=7==e,h=5==e||f;return function(p,v,m,y){for(var g,b,w=o(p),x=i(w),k=r(v,m,3),S=a(x.length),O=0,C=y||s,E=t?C(p,S):n||d?C(p,0):void 0;S>O;O++)if((h||O in x)&&(g=x[O],b=k(g,O,w),e))if(t)E[O]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return O;case 2:l.call(E,g)}else switch(e){case 4:return!1;case 7:l.call(E,g)}return f?-1:c||u?u:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},6462:function(e,t,n){"use strict";var r=n(905),i=n(6051),o=n(4237),a=n(6038),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=a("lastIndexOf"),f=c||!u;e.exports=f?function(e){if(c)return l.apply(this,arguments)||0;var t=r(this),n=o(t.length),a=n-1;for(arguments.length>1&&(a=s(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:l},1460:function(e,t,n){var r=n(4229),i=n(95),o=n(6358),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},6038:function(e,t,n){"use strict";var r=n(4229);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},3143:function(e,t,n){var r=n(3819),i=n(2991),o=n(9337),a=n(4237),s=function(e){return function(t,n,s,l){r(n);var c=i(t),u=o(c),f=a(c.length),d=e?f-1:0,h=e?-1:1;if(s<2)while(1){if(d in u){l=u[d],d+=h;break}if(d+=h,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=h)d in u&&(l=n(l,u[d],d,c));return l}};e.exports={left:s(!1),right:s(!0)}},7501:function(e,t,n){var r=n(5052),i=n(3718),o=n(95),a=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},4960:function(e,t,n){var r=n(1176),i=n(7281);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){throw i(e),a}}},4575:function(e,t,n){var r=n(95),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},7079:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},1589:function(e,t,n){var r=n(1601),i=n(7079),o=n(95),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),a))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},8081:function(e,t,n){"use strict";var r=n(1787).f,i=n(2391),o=n(8787),a=n(7636),s=n(7728),l=n(9003),c=n(7675),u=n(1832),f=n(7400),d=n(5926).fastKey,h=n(6407),p=h.set,v=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){s(e,u,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&l(r,e[c],{that:e,AS_ENTRIES:n})})),h=v(t),m=function(e,t,n){var r,i,o=h(e),a=y(e,t);return a?a.value=n:(o.last=a={index:i=d(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function(e,t){var n,r=h(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(u.prototype,{clear:function(){var e=this,t=h(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),r=y(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=h(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),o(u.prototype,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&r(u.prototype,"size",{get:function(){return h(this).size}}),u},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),o=v(r);c(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},9789:function(e,t,n){"use strict";var r=n(3103),i=n(9859),o=n(6541),a=n(7487),s=n(5926),l=n(9003),c=n(7728),u=n(5052),f=n(4229),d=n(4575),h=n(4555),p=n(835);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),y=v?"set":"add",g=i[e],b=g&&g.prototype,w=g,x={},k=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})},S=o(e,"function"!=typeof g||!(m||b.forEach&&!f((function(){(new g).entries().next()}))));if(S)w=n.getConstructor(t,e,v,y),s.REQUIRED=!0;else if(o(e,!0)){var O=new w,C=O[y](m?{}:-0,1)!=O,E=f((function(){O.has(1)})),M=d((function(e){new g(e)})),A=!m&&f((function(){var e=new g,t=5;while(t--)e[y](t,t);return!e.has(-0)}));M||(w=t((function(t,n){c(t,w,e);var r=p(new g,t,w);return void 0!=n&&l(n,r[y],{that:r,AS_ENTRIES:v}),r})),w.prototype=b,b.constructor=w),(E||A)&&(k("delete"),k("has"),v&&k("get")),(A||C)&&k(y),m&&b.clear&&delete b.clear}return x[e]=w,r({global:!0,forced:w!=g},x),h(w,e),m||n.setStrong(w,e,v),w}},7081:function(e,t,n){var r=n(816),i=n(4826),o=n(7933),a=n(1787);e.exports=function(e,t){for(var n=i(t),s=a.f,l=o.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||s(e,u,l(t,u))}}},8127:function(e,t,n){var r=n(95),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},7528:function(e,t,n){var r=n(4229);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1720:function(e,t,n){var r=n(8885),i=/"/g;e.exports=function(e,t,n,o){var a=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"}},3723:function(e,t,n){"use strict";var r=n(693).IteratorPrototype,i=n(2391),o=n(5358),a=n(4555),s=n(5495),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),s[c]=l,e}},5762:function(e,t,n){var r=n(7400),i=n(1787),o=n(5358);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},5358:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2324:function(e,t,n){"use strict";var r=n(2066),i=n(1787),o=n(5358);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},7675:function(e,t,n){"use strict";var r=n(3103),i=n(3723),o=n(7567),a=n(6540),s=n(4555),l=n(5762),c=n(7487),u=n(95),f=n(4231),d=n(5495),h=n(693),p=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,m=u("iterator"),y="keys",g="values",b="entries",w=function(){return this};e.exports=function(e,t,n,u,h,x,k){i(n,t,u);var S,O,C,E=function(e){if(e===h&&R)return R;if(!v&&e in T)return T[e];switch(e){case y:return function(){return new n(this,e)};case g:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",A=!1,T=e.prototype,P=T[m]||T["@@iterator"]||h&&T[h],R=!v&&P||E(h),D="Array"==t&&T.entries||P;if(D&&(S=o(D.call(new e)),p!==Object.prototype&&S.next&&(f||o(S)===p||(a?a(S,p):"function"!=typeof S[m]&&l(S,m,w)),s(S,M,!0,!0),f&&(d[M]=w))),h==g&&P&&P.name!==g&&(A=!0,R=function(){return P.call(this)}),f&&!k||T[m]===R||l(T,m,R),d[t]=R,h)if(O={values:E(g),keys:x?R:E(y),entries:E(b)},k)for(C in O)(v||A||!(C in T))&&c(T,C,O[C]);else r({target:t,proto:!0,forced:v||A},O);return O}},8423:function(e,t,n){var r=n(9276),i=n(816),o=n(5391),a=n(1787).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},7400:function(e,t,n){var r=n(4229);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2635:function(e,t,n){var r=n(9859),i=n(5052),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},5694:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8801:function(e,t,n){var r=n(7079),i=n(9859);e.exports="process"==r(i.process)},598:function(e,t,n){var r=n(1333);e.exports=r("navigator","userAgent")||""},6358:function(e,t,n){var r,i,o=n(9859),a=n(598),s=o.process,l=s&&s.versions,c=l&&l.v8;c?(r=c.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},3837:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:function(e,t,n){var r=n(9859),i=n(7933).f,o=n(5762),a=n(7487),s=n(2079),l=n(7081),c=n(6541);e.exports=function(e,t){var n,u,f,d,h,p,v=e.target,m=e.global,y=e.stat;if(u=m?r:y?r[v]||s(v,{}):(r[v]||{}).prototype,u)for(f in t){if(h=t[f],e.noTargetGet?(p=i(u,f),d=p&&p.value):d=u[f],n=c(m?f:v+(y?".":"#")+f,e.forced),!n&&void 0!==d){if(typeof h===typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),a(u,f,h,e)}}},4229:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},4954:function(e,t,n){"use strict";n(7950);var r=n(7487),i=n(4229),o=n(95),a=n(5762),s=o("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),f=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),d=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var h=o(e),p=!i((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),v=p&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!p||!v||"replace"===e&&(!l||!c||f)||"split"===e&&!d){var m=/./[h],y=n(h,""[e],(function(e,t,n,r,i){return t.exec===RegExp.prototype.exec?p&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),g=y[0],b=y[1];r(String.prototype,e,g),r(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&a(RegExp.prototype[h],"sham",!0)}},4990:function(e,t,n){"use strict";var r=n(3718),i=n(4237),o=n(7636),a=function(e,t,n,s,l,c,u,f){var d,h=l,p=0,v=!!u&&o(u,f,3);while(p<s){if(p in n){if(d=v?v(n[p],p,t):n[p],c>0&&r(d))h=a(e,t,d,i(d.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=d}h++}p++}return h};e.exports=a},8476:function(e,t,n){var r=n(4229);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},7636:function(e,t,n){var r=n(3819);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},4128:function(e,t,n){"use strict";var r=n(3819),i=n(5052),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(a.prototype=t.prototype),a}},1333:function(e,t,n){var r=n(9276),i=n(9859),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},8830:function(e,t,n){var r=n(1589),i=n(5495),o=n(95),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},17:function(e,t,n){var r=n(2991),i=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,l,c,u){var f=n+e.length,d=l.length,h=s;return void 0!==c&&(c=r(c),h=a),o.call(u,h,(function(r,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":a=c[o.slice(1,-1)];break;default:var s=+o;if(0===s)return r;if(s>d){var u=i(s/10);return 0===u?r:u<=d?void 0===l[u-1]?o.charAt(1):l[u-1]+o.charAt(1):r}a=l[s-1]}return void 0===a?"":a}))}},9859:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},816:function(e,t,n){var r=n(2991),i={}.hasOwnProperty;e.exports=function(e,t){return i.call(r(e),t)}},5977:function(e){e.exports={}},3777:function(e,t,n){var r=n(1333);e.exports=r("document","documentElement")},4394:function(e,t,n){var r=n(7400),i=n(4229),o=n(2635);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},6201:function(e){var t=Math.abs,n=Math.pow,r=Math.floor,i=Math.log,o=Math.LN2,a=function(e,a,s){var l,c,u,f=new Array(s),d=8*s-a-1,h=(1<<d)-1,p=h>>1,v=23===a?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for(e=t(e),e!=e||e===1/0?(c=e!=e?1:0,l=h):(l=r(i(e)/o),e*(u=n(2,-l))<1&&(l--,u*=2),e+=l+p>=1?v/u:v*n(2,1-p),e*u>=2&&(l++,u/=2),l+p>=h?(c=0,l=h):l+p>=1?(c=(e*u-1)*n(2,a),l+=p):(c=e*n(2,p-1)*n(2,a),l=0));a>=8;f[y++]=255&c,c/=256,a-=8);for(l=l<<a|c,d+=a;d>0;f[y++]=255&l,l/=256,d-=8);return f[--y]|=128*m,f},s=function(e,t){var r,i=e.length,o=8*i-t-1,a=(1<<o)-1,s=a>>1,l=o-7,c=i-1,u=e[c--],f=127&u;for(u>>=7;l>0;f=256*f+e[c],c--,l-=8);for(r=f&(1<<-l)-1,f>>=-l,l+=t;l>0;r=256*r+e[c],c--,l-=8);if(0===f)f=1-s;else{if(f===a)return r?NaN:u?-1/0:1/0;r+=n(2,t),f-=s}return(u?-1:1)*r*n(2,f-t)};e.exports={pack:a,unpack:s}},9337:function(e,t,n){var r=n(4229),i=n(7079),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},835:function(e,t,n){var r=n(5052),i=n(6540);e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},8511:function(e,t,n){var r=n(5353),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},5926:function(e,t,n){var r=n(5977),i=n(5052),o=n(816),a=n(1787).f,s=n(1441),l=n(8476),c=s("meta"),u=0,f=Object.isExtensible||function(){return!0},d=function(e){a(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},p=function(e,t){if(!o(e,c)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},v=function(e){return l&&m.REQUIRED&&f(e)&&!o(e,c)&&d(e),e},m=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:v};r[c]=!0},6407:function(e,t,n){var r,i,o,a=n(8694),s=n(9859),l=n(5052),c=n(5762),u=n(816),f=n(5353),d=n(4399),h=n(5977),p="Object already initialized",v=s.WeakMap,m=function(e){return o(e)?i(e):r(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var g=f.state||(f.state=new v),b=g.get,w=g.has,x=g.set;r=function(e,t){if(w.call(g,e))throw new TypeError(p);return t.facade=e,x.call(g,e,t),t},i=function(e){return b.call(g,e)||{}},o=function(e){return w.call(g,e)}}else{var k=d("state");h[k]=!0,r=function(e,t){if(u(e,k))throw new TypeError(p);return t.facade=e,c(e,k,t),t},i=function(e){return u(e,k)?e[k]:{}},o=function(e){return u(e,k)}}e.exports={set:r,get:i,has:o,enforce:m,getterFor:y}},1943:function(e,t,n){var r=n(95),i=n(5495),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},3718:function(e,t,n){var r=n(7079);e.exports=Array.isArray||function(e){return"Array"==r(e)}},6541:function(e,t,n){var r=n(4229),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},5052:function(e){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},4231:function(e){e.exports=!1},8311:function(e,t,n){var r=n(5052),i=n(7079),o=n(95),a=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},9003:function(e,t,n){var r=n(1176),i=n(1943),o=n(4237),a=n(7636),s=n(8830),l=n(7281),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,f,d,h,p,v,m,y=n&&n.that,g=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),x=a(t,y,1+g+w),k=function(e){return u&&l(u),new c(!0,e)},S=function(e){return g?(r(e),w?x(e[0],e[1],k):x(e[0],e[1])):w?x(e,k):x(e)};if(b)u=e;else{if(f=s(e),"function"!=typeof f)throw TypeError("Target is not iterable");if(i(f)){for(d=0,h=o(e.length);h>d;d++)if(p=S(e[d]),p&&p instanceof c)return p;return new c(!1)}u=f.call(e)}v=u.next;while(!(m=v.call(u)).done){try{p=S(m.value)}catch(O){throw l(u),O}if("object"==typeof p&&p&&p instanceof c)return p}return new c(!1)}},7281:function(e,t,n){var r=n(1176);e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},693:function(e,t,n){"use strict";var r,i,o,a=n(4229),s=n(7567),l=n(5762),c=n(816),u=n(95),f=n(4231),d=u("iterator"),h=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=s(s(o)),i!==Object.prototype&&(r=i)):h=!0);var v=void 0==r||a((function(){var e={};return r[d].call(e)!==e}));v&&(r={}),f&&!v||c(r,d)||l(r,d,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},5495:function(e){e.exports={}},3839:function(e,t,n){var r=n(8801),i=n(6358),o=n(4229);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(r?38===i:i>37&&i<41)}))},8694:function(e,t,n){var r=n(9859),i=n(8511),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},7272:function(e,t,n){var r=n(8311);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},2391:function(e,t,n){var r,i=n(1176),o=n(219),a=n(3837),s=n(5977),l=n(3777),c=n(2635),u=n(4399),f=">",d="<",h="prototype",p="script",v=u("IE_PROTO"),m=function(){},y=function(e){return d+p+f+e+d+"/"+p+f},g=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},w=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}w=r?g(r):b();var e=a.length;while(e--)delete w[h][a[e]];return w()};s[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[h]=i(e),n=new m,m[h]=null,n[v]=e):n=w(),void 0===t?n:o(n,t)}},219:function(e,t,n){var r=n(7400),i=n(1787),o=n(1176),a=n(5632);e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=a(t),s=r.length,l=0;while(s>l)i.f(e,n=r[l++],t[n]);return e}},1787:function(e,t,n){var r=n(7400),i=n(4394),o=n(1176),a=n(2066),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7933:function(e,t,n){var r=n(7400),i=n(9195),o=n(5358),a=n(905),s=n(2066),l=n(816),c=n(4394),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},166:function(e,t,n){var r=n(905),i=n(8151).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},8151:function(e,t,n){var r=n(140),i=n(3837),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},894:function(e,t){t.f=Object.getOwnPropertySymbols},7567:function(e,t,n){var r=n(816),i=n(2991),o=n(4399),a=n(7528),s=o("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},140:function(e,t,n){var r=n(816),i=n(905),o=n(9540).indexOf,a=n(5977);e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);while(t.length>l)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},5632:function(e,t,n){var r=n(140),i=n(3837);e.exports=Object.keys||function(e){return r(e,i)}},9195:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},6540:function(e,t,n){var r=n(1176),i=n(8505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},7664:function(e,t,n){var r=n(7400),i=n(5632),o=n(905),a=n(9195).f,s=function(e){return function(t){var n,s=o(t),l=i(s),c=l.length,u=0,f=[];while(c>u)n=l[u++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},4059:function(e,t,n){"use strict";var r=n(1601),i=n(1589);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},4826:function(e,t,n){var r=n(1333),i=n(8151),o=n(894),a=n(1176);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},9276:function(e,t,n){var r=n(9859);e.exports=r},8787:function(e,t,n){var r=n(7487);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},7487:function(e,t,n){var r=n(9859),i=n(5762),o=n(816),a=n(2079),s=n(8511),l=n(6407),c=l.get,u=l.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var l,c=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l=u(n),l.source||(l.source=f.join("string"==typeof t?t:""))),e!==r?(c?!h&&e[t]&&(d=!0):delete e[t],d?e[t]=n:i(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},8115:function(e,t,n){var r=n(7079),i=n(3466);e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},3466:function(e,t,n){"use strict";var r=n(895),i=n(5650),o=n(3036),a=RegExp.prototype.exec,s=o("native-string-replace",String.prototype.replace),l=a,c=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,f=void 0!==/()??/.exec("")[1],d=c||f||u;d&&(l=function(e){var t,n,i,o,l=this,d=u&&l.sticky,h=r.call(l),p=l.source,v=0,m=e;return d&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),m=String(e).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,v++),n=new RegExp("^(?:"+p+")",h)),f&&(n=new RegExp("^"+p+"$(?!\\s)",h)),c&&(t=l.lastIndex),i=a.call(d?n:l,m),d?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:c&&i&&(l.lastIndex=l.global?i.index+i[0].length:t),f&&i&&i.length>1&&s.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=l},895:function(e,t,n){"use strict";var r=n(1176);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},5650:function(e,t,n){"use strict";var r=n(4229);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},8885:function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},2079:function(e,t,n){var r=n(9859),i=n(5762);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},1832:function(e,t,n){"use strict";var r=n(1333),i=n(1787),o=n(95),a=n(7400),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},4555:function(e,t,n){var r=n(1787).f,i=n(816),o=n(95),a=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},4399:function(e,t,n){var r=n(3036),i=n(1441),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5353:function(e,t,n){var r=n(9859),i=n(2079),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},3036:function(e,t,n){var r=n(4231),i=n(5353);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.11.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},7942:function(e,t,n){var r=n(1176),i=n(3819),o=n(95),a=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},3689:function(e,t,n){var r=n(4229);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},966:function(e,t,n){var r=n(6051),i=n(8885),o=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},3124:function(e,t,n){"use strict";var r=n(6051),i=n(8885);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},1017:function(e,t,n){var r=n(8885),i=n(1647),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},143:function(e,t,n){var r=n(7079);e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},3231:function(e,t,n){var r=n(6051),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},7331:function(e,t,n){var r=n(6051),i=n(4237);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},905:function(e,t,n){var r=n(9337),i=n(8885);e.exports=function(e){return r(i(e))}},6051:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},4237:function(e,t,n){var r=n(6051),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},2991:function(e,t,n){var r=n(8885);e.exports=function(e){return Object(r(e))}},4262:function(e,t,n){var r=n(2002);e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},2002:function(e,t,n){var r=n(6051);e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},2066:function(e,t,n){var r=n(5052);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},1601:function(e,t,n){var r=n(95),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},2574:function(e,t,n){"use strict";var r=n(3103),i=n(9859),o=n(7400),a=n(8200),s=n(9918),l=n(3816),c=n(7728),u=n(5358),f=n(5762),d=n(4237),h=n(7331),p=n(4262),v=n(2066),m=n(816),y=n(1589),g=n(5052),b=n(2391),w=n(6540),x=n(8151).f,k=n(5215),S=n(9996).forEach,O=n(1832),C=n(1787),E=n(7933),M=n(6407),A=n(835),T=M.get,P=M.set,R=C.f,D=E.f,_=Math.round,j=i.RangeError,L=l.ArrayBuffer,I=l.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,z=s.TypedArray,H=s.TypedArrayPrototype,W=s.aTypedArrayConstructor,F=s.isTypedArray,U="BYTES_PER_ELEMENT",V="Wrong length",q=function(e,t){var n=0,r=t.length,i=new(W(e))(r);while(r>n)i[n]=t[n++];return i},Y=function(e,t){R(e,t,{get:function(){return T(this)[t]}})},$=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},G=function(e,t){return F(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},X=function(e,t){return G(e,t=v(t,!0))?u(2,e[t]):D(e,t)},K=function(e,t,n){return!(G(e,t=v(t,!0))&&g(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?R(e,t,n):(e[t]=n.value,e)};o?(N||(E.f=X,C.f=K,Y(H,"buffer"),Y(H,"byteOffset"),Y(H,"byteLength"),Y(H,"length")),r({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:X,defineProperty:K}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",l="get"+e,u="set"+e,v=i[s],m=v,y=m&&m.prototype,C={},E=function(e,t){var n=T(e);return n.view[l](t*o+n.byteOffset,!0)},M=function(e,t,r){var i=T(e);n&&(r=(r=_(r))<0?0:r>255?255:255&r),i.view[u](t*o+i.byteOffset,r,!0)},D=function(e,t){R(e,t,{get:function(){return E(this,t)},set:function(e){return M(this,t,e)},enumerable:!0})};N?a&&(m=t((function(e,t,n,r){return c(e,m,s),A(function(){return g(t)?$(t)?void 0!==r?new v(t,p(n,o),r):void 0!==n?new v(t,p(n,o)):new v(t):F(t)?q(m,t):k.call(m,t):new v(h(t))}(),e,m)})),w&&w(m,z),S(x(v),(function(e){e in m||f(m,e,v[e])})),m.prototype=y):(m=t((function(e,t,n,r){c(e,m,s);var i,a,l,u=0,f=0;if(g(t)){if(!$(t))return F(t)?q(m,t):k.call(m,t);i=t,f=p(n,o);var v=t.byteLength;if(void 0===r){if(v%o)throw j(V);if(a=v-f,a<0)throw j(V)}else if(a=d(r)*o,a+f>v)throw j(V);l=a/o}else l=h(t),a=l*o,i=new L(a);P(e,{buffer:i,byteOffset:f,byteLength:a,length:l,view:new I(i)});while(u<l)D(e,u++)})),w&&w(m,z),y=m.prototype=b(H)),y.constructor!==m&&f(y,"constructor",m),B&&f(y,B,s),C[s]=m,r({global:!0,forced:m!=v,sham:!N},C),U in m||f(m,U,o),U in y||f(y,U,o),O(s)}):e.exports=function(){}},8200:function(e,t,n){var r=n(9859),i=n(4229),o=n(4575),a=n(9918).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!a||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},8874:function(e,t,n){var r=n(9918).aTypedArrayConstructor,i=n(7942);e.exports=function(e,t){var n=i(e,e.constructor),o=0,a=t.length,s=new(r(n))(a);while(a>o)s[o]=t[o++];return s}},5215:function(e,t,n){var r=n(2991),i=n(4237),o=n(8830),a=n(1943),s=n(7636),l=n(9918).aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,f,d,h=r(e),p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,y=o(h);if(void 0!=y&&!a(y)){f=y.call(h),d=f.next,h=[];while(!(u=d.call(f)).done)h.push(u.value)}for(m&&p>2&&(v=s(v,arguments[2],2)),n=i(h.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=m?v(h[t],t):h[t];return c}},1441:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},6969:function(e,t,n){var r=n(3839);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5391:function(e,t,n){var r=n(95);t.f=r},95:function(e,t,n){var r=n(9859),i=n(3036),o=n(816),a=n(1441),s=n(3839),l=n(6969),c=i("wks"),u=r.Symbol,f=l?u:u&&u.withoutSetter||a;e.exports=function(e){return o(c,e)&&(s||"string"==typeof c[e])||(s&&o(u,e)?c[e]=u[e]:c[e]=f("Symbol."+e)),c[e]}},1647:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2994:function(e,t,n){"use strict";var r=n(3103),i=n(4229),o=n(3816),a=n(1176),s=n(3231),l=n(4237),c=n(7942),u=o.ArrayBuffer,f=o.DataView,d=u.prototype.slice,h=i((function(){return!new u(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:h},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(a(this),e);var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(c(this,u))(l(i-r)),h=new f(this),p=new f(o),v=0;while(r<i)p.setUint8(v++,h.getUint8(r++));return o}})},8178:function(e,t,n){"use strict";var r=n(3103),i=n(4229),o=n(3718),a=n(5052),s=n(2991),l=n(4237),c=n(2324),u=n(7501),f=n(1460),d=n(95),h=n(6358),p=d("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",y=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=f("concat"),b=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},w=!y||!g;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,i,o,a=s(this),f=u(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],b(o)){if(i=l(o.length),d+i>v)throw TypeError(m);for(n=0;n<i;n++,d++)n in o&&c(f,d,o[n])}else{if(d>=v)throw TypeError(m);c(f,d++,o)}return f.length=d,f}})},2656:function(e,t,n){var r=n(3103),i=n(7065),o=n(9736);r({target:"Array",proto:!0},{fill:i}),o("fill")},5342:function(e,t,n){"use strict";var r=n(3103),i=n(9996).filter,o=n(1460),a=o("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},9949:function(e,t,n){"use strict";var r=n(3103),i=n(9996).findIndex,o=n(9736),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},9228:function(e,t,n){"use strict";var r=n(3103),i=n(9996).find,o=n(9736),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},4870:function(e,t,n){"use strict";var r=n(3103),i=n(4990),o=n(2991),a=n(4237),s=n(3819),l=n(7501);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=a(n.length);return s(e),t=l(n,0),t.length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},7233:function(e,t,n){var r=n(3103),i=n(507),o=n(4575),a=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:i})},9529:function(e,t,n){"use strict";var r=n(3103),i=n(9540).includes,o=n(9736);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},5735:function(e,t,n){"use strict";var r=n(905),i=n(9736),o=n(5495),a=n(6407),s=n(7675),l="Array Iterator",c=a.set,u=a.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},6781:function(e,t,n){"use strict";var r=n(3103),i=n(9337),o=n(905),a=n(6038),s=[].join,l=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},3450:function(e,t,n){"use strict";var r=n(3103),i=n(9996).map,o=n(1460),a=o("map");r({target:"Array",proto:!0,forced:!a},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2501:function(e,t,n){"use strict";var r=n(3103),i=n(5052),o=n(3718),a=n(3231),s=n(4237),l=n(905),c=n(2324),u=n(95),f=n(1460),d=f("slice"),h=u("species"),p=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var n,r,u,f=l(this),d=s(f.length),m=a(e,d),y=a(void 0===t?d:t,d);if(o(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(f,m,y);for(r=new(void 0===n?Array:n)(v(y-m,0)),u=0;m<y;m++,u++)m in f&&c(r,u,f[m]);return r.length=u,r}})},9805:function(e,t,n){"use strict";var r=n(3103),i=n(3231),o=n(6051),a=n(4237),s=n(2991),l=n(7501),c=n(2324),u=n(1460),f=u("splice"),d=Math.max,h=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,u,f,m,y,g=s(this),b=a(g.length),w=i(e,b),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=b-w):(n=x-2,r=h(d(o(t),0),b-w)),b+n-r>p)throw TypeError(v);for(u=l(g,r),f=0;f<r;f++)m=w+f,m in g&&c(u,f,g[m]);if(u.length=r,n<r){for(f=w;f<b-r;f++)m=f+r,y=f+n,m in g?g[y]=g[m]:delete g[y];for(f=b;f>b-r+n;f--)delete g[f-1]}else if(n>r)for(f=b-r;f>w;f--)m=f+r-1,y=f+n-1,m in g?g[y]=g[m]:delete g[y];for(f=0;f<n;f++)g[f+w]=arguments[f+2];return g.length=b-r+n,u}})},3985:function(e,t,n){var r=n(9736);r("flatMap")},6936:function(e,t,n){var r=n(7400),i=n(1787).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,l="name";r&&!(l in o)&&i(o,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},1245:function(e,t,n){"use strict";var r=n(7400),i=n(9859),o=n(6541),a=n(7487),s=n(816),l=n(7079),c=n(835),u=n(2066),f=n(4229),d=n(2391),h=n(8151).f,p=n(7933).f,v=n(1787).f,m=n(1017).trim,y="Number",g=i[y],b=g.prototype,w=l(d(b))==y,x=function(e){var t,n,r,i,o,a,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=m(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=c.slice(2),a=o.length,s=0;s<a;s++)if(l=o.charCodeAt(s),l<48||l>i)return NaN;return parseInt(o,r)}return+c};if(o(y,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var k,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(w?f((function(){b.valueOf.call(n)})):l(n)!=y)?c(new g(x(t)),n,S):x(t)},O=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;O.length>C;C++)s(g,k=O[C])&&!s(S,k)&&v(S,k,p(g,k));S.prototype=b,b.constructor=S,a(i,y,S)}},8143:function(e,t,n){var r=n(3103);r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},2023:function(e,t,n){var r=n(3103);r({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},1321:function(e,t,n){"use strict";var r=n(3103),i=n(6051),o=n(143),a=n(3124),s=n(4229),l=1..toFixed,c=Math.floor,u=function(e,t,n){return 0===t?n:t%2===1?u(e,t-1,n*e):u(e*e,t/2,n)},f=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},d=function(e,t,n){var r=-1,i=n;while(++r<6)i+=t*e[r],e[r]=i%1e7,i=c(i/1e7)},h=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=c(r/t),r=r%t*1e7},p=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=String(e[t]);n=""===n?r:n+a.call("0",7-r.length)+r}return n},v=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));r({target:"Number",proto:!0,forced:v},{toFixed:function(e){var t,n,r,s,l=o(this),c=i(e),v=[0,0,0,0,0,0],m="",y="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(t=f(l*u(2,69,1))-69,n=t<0?l*u(2,-t,1):l/u(2,t,1),n*=4503599627370496,t=52-t,t>0){d(v,0,n),r=c;while(r>=7)d(v,1e7,0),r-=7;d(v,u(10,r,1),0),r=t-1;while(r>=23)h(v,1<<23),r-=23;h(v,1<<r),d(v,1,1),h(v,2),y=p(v)}else d(v,0,n),d(v,1<<-t,0),y=p(v)+a.call("0",c);return c>0?(s=y.length,y=m+(s<=c?"0."+a.call("0",c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c))):y=m+y,y}})},2144:function(e,t,n){var r=n(3103),i=n(8476),o=n(4229),a=n(5052),s=n(5926).onFreeze,l=Object.freeze,c=o((function(){l(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},8625:function(e,t,n){var r=n(3103),i=n(4229),o=n(905),a=n(7933).f,s=n(7400),l=i((function(){a(1)})),c=!s||l;r({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},2775:function(e,t,n){var r=n(3103),i=n(7400),o=n(4826),a=n(905),s=n(7933),l=n(2324);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=a(e),i=s.f,c=o(r),u={},f=0;while(c.length>f)n=i(r,t=c[f++]),void 0!==n&&l(u,t,n);return u}})},6928:function(e,t,n){var r=n(3103),i=n(4229),o=n(2991),a=n(7567),s=n(7528),l=i((function(){a(1)}));r({target:"Object",stat:!0,forced:l,sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},4769:function(e,t,n){var r=n(3103),i=n(2991),o=n(5632),a=n(4229),s=a((function(){o(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(e){return o(i(e))}})},2506:function(e,t,n){var r=n(3103),i=n(6540);r({target:"Object",stat:!0},{setPrototypeOf:i})},8188:function(e,t,n){var r=n(1601),i=n(7487),o=n(4059);r||i(Object.prototype,"toString",o,{unsafe:!0})},7890:function(e,t,n){var r=n(3103),i=n(7664).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},1229:function(e,t,n){var r=n(3103),i=n(1333),o=n(3819),a=n(1176),s=n(5052),l=n(2391),c=n(4128),u=n(4229),f=i("Reflect","construct"),d=u((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),h=!u((function(){f((function(){}))})),p=d||h;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!d)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,u=l(s(i)?i:Object.prototype),p=Function.apply.call(e,u,t);return s(p)?p:u}})},4565:function(e,t,n){var r=n(3103),i=n(5052),o=n(1176),a=n(816),s=n(7933),l=n(7567);function c(e,t){var n,r,u=arguments.length<3?e:arguments[2];return o(e)===u?e[t]:(n=s.f(e,t))?a(n,"value")?n.value:void 0===n.get?void 0:n.get.call(u):i(r=l(e))?c(r,t,u):void 0}r({target:"Reflect",stat:!0},{get:c})},7368:function(e,t,n){var r=n(7400),i=n(9859),o=n(6541),a=n(835),s=n(1787).f,l=n(8151).f,c=n(8311),u=n(895),f=n(5650),d=n(7487),h=n(4229),p=n(6407).enforce,v=n(1832),m=n(95),y=m("match"),g=i.RegExp,b=g.prototype,w=/a/g,x=/a/g,k=new g(w)!==w,S=f.UNSUPPORTED_Y,O=r&&o("RegExp",!k||S||h((function(){return x[y]=!1,g(w)!=w||g(x)==x||"/a/i"!=g(w,"i")})));if(O){var C=function(e,t){var n,r=this instanceof C,i=c(e),o=void 0===t;if(!r&&i&&e.constructor===C&&o)return e;k?i&&!o&&(e=e.source):e instanceof C&&(o&&(t=u.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var s=a(k?new g(e,t):g(e,t),r?this:b,C);if(S&&n){var l=p(s);l.sticky=!0}return s},E=function(e){e in C||s(C,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},M=l(g),A=0;while(M.length>A)E(M[A++]);b.constructor=C,C.prototype=b,d(i,"RegExp",C)}v("RegExp")},7950:function(e,t,n){"use strict";var r=n(3103),i=n(3466);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8233:function(e,t,n){"use strict";var r=n(7487),i=n(1176),o=n(4229),a=n(895),s="toString",l=RegExp.prototype,c=l[s],u=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(u||f)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in l)?a.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},3244:function(e,t,n){"use strict";var r=n(9789),i=n(8081);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},1549:function(e,t,n){"use strict";var r=n(3103),i=n(1720),o=n(3689);r({target:"String",proto:!0,forced:o("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},1235:function(e,t,n){"use strict";var r=n(3103),i=n(7272),o=n(8885),a=n(8127);r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},8673:function(e,t,n){"use strict";var r=n(966).charAt,i=n(6407),o=n(7675),a="String Iterator",s=i.set,l=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},4069:function(e,t,n){"use strict";var r=n(4954),i=n(1176),o=n(4237),a=n(8885),s=n(6637),l=n(8115);r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),c=String(this);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;var f,d=[],h=0;while(null!==(f=l(a,c))){var p=String(f[0]);d[h]=p,""===p&&(a.lastIndex=s(c,o(a.lastIndex),u)),h++}return 0===h?null:d}]}))},5940:function(e,t,n){"use strict";var r=n(4954),i=n(1176),o=n(4237),a=n(6051),s=n(8885),l=n(6637),c=n(17),u=n(8115),f=Math.max,d=Math.min,h=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var p=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,m=p?"$":"$0";return[function(n,r){var i=s(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!p&&v||"string"===typeof r&&-1===r.indexOf(m)){var s=n(t,e,this,r);if(s.done)return s.value}var y=i(e),g=String(this),b="function"===typeof r;b||(r=String(r));var w=y.global;if(w){var x=y.unicode;y.lastIndex=0}var k=[];while(1){var S=u(y,g);if(null===S)break;if(k.push(S),!w)break;var O=String(S[0]);""===O&&(y.lastIndex=l(g,o(y.lastIndex),x))}for(var C="",E=0,M=0;M<k.length;M++){S=k[M];for(var A=String(S[0]),T=f(d(a(S.index),g.length),0),P=[],R=1;R<S.length;R++)P.push(h(S[R]));var D=S.groups;if(b){var _=[A].concat(P,T,g);void 0!==D&&_.push(D);var j=String(r.apply(void 0,_))}else j=c(A,g,T,P,D,r);T>=E&&(C+=g.slice(E,T)+j,E=T+A.length)}return C+g.slice(E)}]}))},8319:function(e,t,n){"use strict";var r=n(4954),i=n(8311),o=n(1176),a=n(8885),s=n(7942),l=n(6637),c=n(4237),u=n(8115),f=n(3466),d=n(5650),h=d.UNSUPPORTED_Y,p=[].push,v=Math.min,m=4294967295;r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var s,l,c,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,v=new RegExp(e.source,d+"g");while(s=f.call(v,r)){if(l=v.lastIndex,l>h&&(u.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&p.apply(u,s.slice(1)),c=s[0].length,h=l,u.length>=o))break;v.lastIndex===s.index&&v.lastIndex++}return h===r.length?!c&&v.test("")||u.push(""):u.push(r.slice(h)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=o(e),d=String(this),p=s(f,RegExp),y=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(h?"g":"y"),b=new p(h?"^(?:"+f.source+")":f,g),w=void 0===i?m:i>>>0;if(0===w)return[];if(0===d.length)return null===u(b,d)?[d]:[];var x=0,k=0,S=[];while(k<d.length){b.lastIndex=h?0:k;var O,C=u(b,h?d.slice(k):d);if(null===C||(O=v(c(b.lastIndex+(h?k:0)),d.length))===x)k=l(d,k,y);else{if(S.push(d.slice(x,k)),S.length===w)return S;for(var E=1;E<=C.length-1;E++)if(S.push(C[E]),S.length===w)return S;k=x=O}}return S.push(d.slice(x)),S}]}),h)},634:function(e,t,n){"use strict";var r=n(3103),i=n(7400),o=n(9859),a=n(816),s=n(5052),l=n(1787).f,c=n(7081),u=o.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new u(e):void 0===e?u():u(e);return""===e&&(f[t]=!0),t};c(d,u);var h=d.prototype=u.prototype;h.constructor=d;var p=h.toString,v="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(a(f,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},796:function(e,t,n){var r=n(8423);r("iterator")},4115:function(e,t,n){"use strict";var r=n(3103),i=n(9859),o=n(1333),a=n(4231),s=n(7400),l=n(3839),c=n(6969),u=n(4229),f=n(816),d=n(3718),h=n(5052),p=n(1176),v=n(2991),m=n(905),y=n(2066),g=n(5358),b=n(2391),w=n(5632),x=n(8151),k=n(166),S=n(894),O=n(7933),C=n(1787),E=n(9195),M=n(5762),A=n(7487),T=n(3036),P=n(4399),R=n(5977),D=n(1441),_=n(95),j=n(5391),L=n(8423),I=n(4555),N=n(6407),B=n(9996).forEach,z=P("hidden"),H="Symbol",W="prototype",F=_("toPrimitive"),U=N.set,V=N.getterFor(H),q=Object[W],Y=i.Symbol,$=o("JSON","stringify"),G=O.f,X=C.f,K=k.f,Z=E.f,J=T("symbols"),Q=T("op-symbols"),ee=T("string-to-symbol-registry"),te=T("symbol-to-string-registry"),ne=T("wks"),re=i.QObject,ie=!re||!re[W]||!re[W].findChild,oe=s&&u((function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=G(q,t);r&&delete q[t],X(e,t,n),r&&e!==q&&X(q,t,r)}:X,ae=function(e,t){var n=J[e]=b(Y[W]);return U(n,{type:H,tag:e,description:t}),s||(n.description=t),n},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Y},le=function(e,t,n){e===q&&le(Q,t,n),p(e);var r=y(t,!0);return p(n),f(J,r)?(n.enumerable?(f(e,z)&&e[z][r]&&(e[z][r]=!1),n=b(n,{enumerable:g(0,!1)})):(f(e,z)||X(e,z,g(1,{})),e[z][r]=!0),oe(e,r,n)):X(e,r,n)},ce=function(e,t){p(e);var n=m(t),r=w(n).concat(pe(n));return B(r,(function(t){s&&!fe.call(n,t)||le(e,t,n[t])})),e},ue=function(e,t){return void 0===t?b(e):ce(b(e),t)},fe=function(e){var t=y(e,!0),n=Z.call(this,t);return!(this===q&&f(J,t)&&!f(Q,t))&&(!(n||!f(this,t)||!f(J,t)||f(this,z)&&this[z][t])||n)},de=function(e,t){var n=m(e),r=y(t,!0);if(n!==q||!f(J,r)||f(Q,r)){var i=G(n,r);return!i||!f(J,r)||f(n,z)&&n[z][r]||(i.enumerable=!0),i}},he=function(e){var t=K(m(e)),n=[];return B(t,(function(e){f(J,e)||f(R,e)||n.push(e)})),n},pe=function(e){var t=e===q,n=K(t?Q:m(e)),r=[];return B(n,(function(e){!f(J,e)||t&&!f(q,e)||r.push(J[e])})),r};if(l||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===q&&n.call(Q,e),f(this,z)&&f(this[z],t)&&(this[z][t]=!1),oe(this,t,g(1,e))};return s&&ie&&oe(q,t,{configurable:!0,set:n}),ae(t,e)},A(Y[W],"toString",(function(){return V(this).tag})),A(Y,"withoutSetter",(function(e){return ae(D(e),e)})),E.f=fe,C.f=le,O.f=de,x.f=k.f=he,S.f=pe,j.f=function(e){return ae(_(e),e)},s&&(X(Y[W],"description",{configurable:!0,get:function(){return V(this).description}}),a||A(q,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Y}),B(w(ne),(function(e){L(e)})),r({target:H,stat:!0,forced:!l},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=Y(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:ue,defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(v(e))}}),$){var ve=!l||u((function(){var e=Y();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))}));r({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(h(t)||void 0!==e)&&!se(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,$.apply(null,i)}})}Y[W][F]||M(Y[W],F,Y[W].valueOf),I(Y,H),R[z]=!0},5825:function(e,t,n){"use strict";var r=n(9918),i=n(7154),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("copyWithin",(function(e,t){return i.call(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},7170:function(e,t,n){"use strict";var r=n(9918),i=n(9996).every,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("every",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},8857:function(e,t,n){"use strict";var r=n(9918),i=n(7065),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("fill",(function(e){return i.apply(o(this),arguments)}))},8329:function(e,t,n){"use strict";var r=n(9918),i=n(9996).filter,o=n(8874),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("filter",(function(e){var t=i(a(this),e,arguments.length>1?arguments[1]:void 0);return o(this,t)}))},427:function(e,t,n){"use strict";var r=n(9918),i=n(9996).findIndex,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("findIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},6279:function(e,t,n){"use strict";var r=n(9918),i=n(9996).find,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("find",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1159:function(e,t,n){"use strict";var r=n(9918),i=n(9996).forEach,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("forEach",(function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},2516:function(e,t,n){"use strict";var r=n(9918),i=n(9540).includes,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},4349:function(e,t,n){"use strict";var r=n(9918),i=n(9540).indexOf,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("indexOf",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},5273:function(e,t,n){"use strict";var r=n(9859),i=n(9918),o=n(5735),a=n(95),s=a("iterator"),l=r.Uint8Array,c=o.values,u=o.keys,f=o.entries,d=i.aTypedArray,h=i.exportTypedArrayMethod,p=l&&l.prototype[s],v=!!p&&("values"==p.name||void 0==p.name),m=function(){return c.call(d(this))};h("entries",(function(){return f.call(d(this))})),h("keys",(function(){return u.call(d(this))})),h("values",m,!v),h(s,m,!v)},6729:function(e,t,n){"use strict";var r=n(9918),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].join;o("join",(function(e){return a.apply(i(this),arguments)}))},1801:function(e,t,n){"use strict";var r=n(9918),i=n(6462),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("lastIndexOf",(function(e){return i.apply(o(this),arguments)}))},574:function(e,t,n){"use strict";var r=n(9918),i=n(9996).map,o=n(7942),a=r.aTypedArray,s=r.aTypedArrayConstructor,l=r.exportTypedArrayMethod;l("map",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(o(e,e.constructor)))(t)}))}))},9271:function(e,t,n){"use strict";var r=n(9918),i=n(3143).right,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduceRight",(function(e){return i(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},5787:function(e,t,n){"use strict";var r=n(9918),i=n(3143).left,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduce",(function(e){return i(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},3160:function(e,t,n){"use strict";var r=n(9918),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){var e,t=this,n=i(t).length,r=a(n/2),o=0;while(o<r)e=t[o],t[o++]=t[--n],t[n]=e;return t}))},5688:function(e,t,n){"use strict";var r=n(9918),i=n(4237),o=n(4262),a=n(2991),s=n(4229),l=r.aTypedArray,c=r.exportTypedArrayMethod,u=s((function(){new Int8Array(1).set({})}));c("set",(function(e){l(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(e),s=i(r.length),c=0;if(s+t>n)throw RangeError("Wrong length");while(c<s)this[t+c]=r[c++]}),u)},3157:function(e,t,n){"use strict";var r=n(9918),i=n(7942),o=n(4229),a=r.aTypedArray,s=r.aTypedArrayConstructor,l=r.exportTypedArrayMethod,c=[].slice,u=o((function(){new Int8Array(1).slice()}));l("slice",(function(e,t){var n=c.call(a(this),e,t),r=i(this,this.constructor),o=0,l=n.length,u=new(s(r))(l);while(l>o)u[o]=n[o++];return u}),u)},3333:function(e,t,n){"use strict";var r=n(9918),i=n(9996).some,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("some",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},315:function(e,t,n){"use strict";var r=n(9918),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].sort;o("sort",(function(e){return a.call(i(this),e)}))},8314:function(e,t,n){"use strict";var r=n(9918),i=n(4237),o=n(3231),a=n(7942),s=r.aTypedArray,l=r.exportTypedArrayMethod;l("subarray",(function(e,t){var n=s(this),r=n.length,l=o(e,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,i((void 0===t?r:o(t,r))-l))}))},556:function(e,t,n){"use strict";var r=n(9859),i=n(9918),o=n(4229),a=r.Int8Array,s=i.aTypedArray,l=i.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,f=!!a&&o((function(){c.call(new a(1))})),d=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return c.apply(f?u.call(s(this)):s(this),arguments)}),d)},9224:function(e,t,n){"use strict";var r=n(9918).exportTypedArrayMethod,i=n(4229),o=n(9859),a=o.Uint8Array,s=a&&a.prototype||{},l=[].toString,c=[].join;i((function(){l.call({})}))&&(l=function(){return c.call(this)});var u=s.toString!=l;r("toString",l,u)},3675:function(e,t,n){var r=n(2574);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},1939:function(e,t,n){var r=n(9859),i=n(5694),o=n(6570),a=n(5762);for(var s in i){var l=r[s],c=l&&l.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(u){c.forEach=o}}},6886:function(e,t,n){var r=n(9859),i=n(5694),o=n(5735),a=n(5762),s=n(95),l=s("iterator"),c=s("toStringTag"),u=o.values;for(var f in i){var d=r[f],h=d&&d.prototype;if(h){if(h[l]!==u)try{a(h,l,u)}catch(v){h[l]=u}if(h[c]||a(h,c,f),i[f])for(var p in o)if(h[p]!==o[p])try{a(h,p,o[p])}catch(v){h[p]=o[p]}}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}!function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var r={};return function(){"use strict";n.d(r,{default:function(){return ZL}});var e={};n.r(e),n.d(e,{DEFAULT_LABEL_TEXT:function(){return pt},bubbleLabel:function(){return bt},label:function(){return yt},labelStyle:function(){return vt},strokeLabelStyle:function(){return mt}});var t={};n.r(t),n.d(t,{arc:function(){return Zt},circle:function(){return Gt},clipRectArea:function(){return Yt},line:function(){return Xt},pathRect:function(){return $t},rect:function(){return Kt}});var i={};n.r(i),n.d(i,{TICK_SIZE:function(){return Jt},tick:function(){return Qt}});var o={};n.r(o),n.d(o,{dataLabel:function(){return xa},drawBubbleLabel:function(){return ka},getBubbleArrowPoints:function(){return Sa}});var a={};n.r(a),n.d(a,{SPECTRUM_LEGEND_LABEL_HEIGHT:function(){return Ra},spectrumLegend:function(){return Ha},spectrumLegendBar:function(){return Da},spectrumLegendTooltip:function(){return _a},spectrumTooltip:function(){return Wa}});var s={};n.r(s),n.d(s,{polygon:function(){return fl}});var l={};n.r(l),n.d(l,{scatterSeries:function(){return bl}});var c={};n.r(c),n.d(c,{LEGEND_CHECKBOX_SIZE:function(){return kl},LEGEND_ICON_SIZE:function(){return Sl},LEGEND_ITEM_MARGIN_X:function(){return wl},LEGEND_MARGIN_X:function(){return xl},getLegendItemHeight:function(){return Tl},legend:function(){return Il}});var u={};n.r(u),n.d(u,{areaPoints:function(){return Hb},linePoints:function(){return zb}});var f={};n.r(f),n.d(f,{exportMenuButton:function(){return Yb}});var d={};n.r(d),n.d(d,{backButton:function(){return Zb},resetButton:function(){return Jb}});var h={};n.r(h),n.d(h,{sector:function(){return jw}});var p={};n.r(p),n.d(p,{circleLegend:function(){return fA}});var v={};n.r(v),n.d(v,{boxPlot:function(){return z_}});var m={};n.r(m),n.d(m,{clockHand:function(){return RL}});n(2506),n(6928),n(1229),n(4565),n(8625),n(4769),n(4115),n(5342),n(1939),n(2775),n(634),n(8188),n(796),n(5735),n(8673),n(6886),n(3450),n(8178),n(7233),n(2501),n(6936),n(7950),n(8319),n(9805),n(9529),n(9949),n(1245),n(9228),n(1321);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function x(e,t){if(e){if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){return S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e){return!E(e)&&!M(e)}function C(e){return e instanceof Date}function E(e){return"undefined"===typeof e}function M(e){return null===e}function A(e){return"boolean"===typeof e}function T(e){return"number"===typeof e}function P(e){return"string"===typeof e}function R(e){return T(e)&&isFinite(e)&&Math.floor(e)===e}function D(e){return"object"===S(e)&&null!==e}function _(e){return"function"===typeof e}function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function L(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=0,i=e.length;r<i;r+=1)if(!1===t.call(n,e[r],r,e))break}function I(e,t,n){E(t)&&(t=e||0,e=0),n=n||1;var r=[];if(t){var i=n<0?-1:1;for(t*=i;e*i<t;e+=n)r.push(e)}return r}function N(e){var t=[];try{t=Array.prototype.slice.call(e)}catch(n){L(e,(function(e){t.push(e)}))}return t}function B(e,t,n){if("number"===typeof n&&e[n]!==t)return!1;var r,i=w(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o===t)return!0}}catch(a){i.e(a)}finally{i.f()}return!1}function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={};return Object.keys(e).forEach((function(t){B(n,t)&&(i[t]=e[t])})),i}function H(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={};return Object.keys(e).forEach((function(t){B(n,t)||(i[t]=e[t])})),i}function W(e,t){var n=t.length;if(n)for(var r=0;r<n;r+=1){if(E(e)||M(e))return null;e=e[t[r]]}return e}function F(e,t){var n=t.length;if(n)for(var r=0;r<n;r+=1)E(e[t[r]])&&(e[t[r]]={}),e=e[t[r]];return e}function U(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];window.clearTimeout(t),t=window.setTimeout((function(){e.apply(void 0,i)}),n)}return r}function V(e,t){var n=g({},e);return Object.keys(t).forEach((function(e){D(n[e])?Array.isArray(t[e])?n[e]=q(t[e]):n.hasOwnProperty(e)?n[e]=V(n[e],t[e]):n[e]=Y(t[e]):n[e]=t[e]})),n}function q(e){return e.map((function(e){return D(e)?Array.isArray(e)?q(e):Y(e):e}))}function Y(e){var t={},n=Object.keys(e);return n.length?(n.forEach((function(n){D(e[n])?t[n]=Array.isArray(e[n])?q(e[n]):Y(e[n]):t[n]=e[n]})),t):e}function $(e,t){return R(e)?Number(e)-Number(t):new Date(e).getTime()-new Date(t).getTime()}function G(e,t){return e-t}function X(e){return e.length?e[0]:void 0}function K(e){return e.length?e[e.length-1]:void 0}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some((function(e){return Number(e)<0}))}function J(e){return e.reduce((function(e,t){return e+t}),0)}function Q(e){return e.every((function(e){return Number(e)>=0}))}function ee(e){return e.every((function(e){return Number(e)<=0}))}function te(e){return null===e||void 0===e?void 0:e.find((function(e){return null!==e}))}function ne(e){return Number(e.substr(0,e.length-1))}function re(e,t){return T(t)?t:Number((e*ne(t)/100).toFixed(2))}function ie(e){return T(e)?e:0}function oe(e){return"auto"===e}var ae={SELECT_SERIES_API_SELECTABLE_ERROR:"It works only when the selectable option is true.",SELECT_SERIES_API_INDEX_ERROR:"The index value is invalid.",ALREADY_OBSERVABLE_ERROR:"Source object is observable already",CIRCLE_LEGEND_RENDER_ERROR:"circleLegend is only possible when bubble series is present",noDataError:function(e){return"There's no ".concat(e," data!")},noBrushError:function(e){return"Brush don't exist in painter: ".concat(e)},DASH_SEGMENTS_UNAVAILABLE_ERROR:"DashSegments option is available from IE11 and above.",SERIES_INDEX_ERROR:"The seriesIndex value is invalid",AUTO_LAYOUT_CONTAINER_SIZE_ERROR:'To use auto layout, the width or height of the container must be specified as a value such as "%" or "vh", "vw".'};function se(e){return se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}var le=null,ce=null,ue=[],fe=!1;function de(e){var t=function t(){ce!==t&&(fe||!M(ce)?(ue.includes(t)&&ue.splice(ue.indexOf(t),1),ue.push(t)):M(ce)&&(ce=t,e(),ce=null,he()))};return t.deps=[],le=t,le(),le=null,function(){t.deps.forEach((function(e){var n=e.findIndex((function(e){return e===t}));e.splice(n,1)})),t.deps=[]}}function he(){if(ue.length){var e=ue.shift();e&&e()}}function pe(e){return"object"===se(e)&&e.__toastUIChartOb__}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(pe(t))throw new Error(ae.ALREADY_OBSERVABLE_ERROR);pe(e)||Object.defineProperty(e,"__toastUIChartOb__",{enumerable:!1});var n=function(n){if(!t.hasOwnProperty(n))return"continue";var r=[],i=t[n],o=Object.getOwnPropertyDescriptor(t,n),a=o&&o.get,s=o&&o.set;Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return le===xe?{target:e,key:n,value:i,obs:r}:(fe||!le||r.includes(le)||(r.push(le),le.deps.push(r)),i)},set:function(t){var o=i;s?(s.call(e,t),i=a?a.call(e):e[n]):i=t,o!==i&&we(r)}}),"object"!==se(e[n])||Array.isArray(e[n])||ve(e[n])};for(var r in t)n(r);return e}function me(e,t){if(pe(t))throw new Error(ae.ALREADY_OBSERVABLE_ERROR);return ve(e,t)}function ye(e,t){var n=xe(e,t);n&&we(n.obs)}function ge(e){fe=!0,e(),fe=!1,he()}function be(e,t){var n=t.split("."),r=n.splice(n.length-1,1)[0],i=W(e,n);i&&ye(i,r)}function we(e){e.forEach((function(e){return e()}))}function xe(e,t){le=xe;var n=e[t];return le=null,"object"===se(n)&&n.hasOwnProperty("target")&&n.hasOwnProperty("obs")?n:null}function ke(e,t,n){var r,i={};Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){return r}}),me(e,i),de((function(){var i=r;r=n(),i!==r&&(e[t]=r)}))}function Se(e,t,n){var r=t.split("."),i=r.splice(r.length-1,1)[0],o=W(e,r);if(!o)return null;var a=xe(o,i);if(!a)return null;var s=function(){n(o[i])};return a.obs.push(s),function(){var e=a.obs.findIndex((function(e){return e===s}));e>-1&&a.obs.splice(e,1)}}function Oe(e){return JSON.parse(JSON.stringify(e))}function Ce(e){return Ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(){function e(t){Ee(this,e),Te(this,"state",void 0),Te(this,"initStoreState",void 0),Te(this,"computed",{}),Te(this,"actions",{}),this.initStoreState=Y(t),this.setRootState({})}return Ae(e,[{key:"setRootState",value:function(e){ve(e),this.state=e}},{key:"setComputed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.computed,r=e.split("."),i=r.splice(r.length-1,1)[0],o=F(n,r);ke(o,i,t.bind(null,this.state,this.computed))}},{key:"setWatch",value:function(e,t){return Se(this,e,t)}},{key:"setAction",value:function(e,t){this.actions[e]=t}},{key:"dispatch",value:function(e,t,n){var r=this;n?ge((function(){r.actions[e].call(r,r,t)})):this.actions[e].call(this,this,t)}},{key:"observe",value:function(e){return de(e.bind(this,this.state,this.computed))}},{key:"observable",value:function(e){return ve(e)}},{key:"notifyByPath",value:function(e){be(this,e)}},{key:"notify",value:function(e,t){ye(e,t)}},{key:"setModule",value:function(e,t){var n=this;if(t||(t=e,e=t.name),t.state){var r="function"===typeof t.state?t.state(this.initStoreState):t.state;Re(this.state,r)}t.computed&&j(t.computed,(function(e,t){n.setComputed(t,e)})),t.watch&&j(t.watch,(function(e,t){n.setWatch(t,e)})),t.action&&j(t.action,(function(e,t){n.setAction(t,e)})),t.observe&&j(t.observe,(function(e){n.observe(e)}))}},{key:"setValue",value:function(e,t,n){Re(e,Te({},t,n))}}]),e}();function Re(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(E(e[r])?n[r]=t[r]:"object"!==Ce(t[r])||Array.isArray(t[r])?e[r]=t[r]:Re(e[r],t[r]));Object.keys(n).length&&me(e,n)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){var n=t.width,r=t.height;return{width:0===n?e.offsetWidth:n,height:0===r?e.offsetHeight:r}}var Ie={name:"root",state:function(e){var t,n,r,i,o=e.options;return{chart:_e(_e({},o.chart),{},{width:ie(null===o||void 0===o||null===(t=o.chart)||void 0===t?void 0:t.width),height:ie(null===o||void 0===o||null===(n=o.chart)||void 0===n?void 0:n.height)}),usingContainerSize:{width:oe(null===o||void 0===o||null===(r=o.chart)||void 0===r?void 0:r.width),height:oe(null===o||void 0===o||null===(i=o.chart)||void 0===i?void 0:i.height)},container:{}}},action:{setChartSize:function(e,t){var n=e.state;n.chart.width=t.width,n.chart.height=t.height,this.notify(n,"chart")},initChartSize:function(e,t){var n=this,r=e.state,i=r.chart,o=i.width,a=i.height;0!==o&&0!==a||(t.parentNode?this.dispatch("setChartSize",Le(t,{width:o,height:a})):setTimeout((function(){n.dispatch("setChartSize",Le(t,{width:o,height:a}))}),0))},setUsingContainerSize:function(e,t){var n=e.state,r=t.width,i=t.height;n.usingContainerSize.width=r,n.usingContainerSize.height=i}}},Ne=Ie;n(3244),n(4069),n(2656),n(5940),n(8233);function Be(e,t){return Ue(e)||Fe(e,t)||He(e,t)||ze()}function ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function He(e,t){if(e){if("string"===typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Ue(e){if(Array.isArray(e))return e}var Ve=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,qe=/rgb\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)/,Ye=/rgba\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}), ?(1|0?\.?\d+)\)/,$e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ge(e,t){if(e.length>t)return e;var n=e;return I(0,t-1).forEach((function(e){n="0"+n})),n.slice(-1*t)}function Xe(e){return Ve.test(e)}function Ke(e){return $e[e.toLowerCase()]||e}// @license RGB <-> HSV conversion utilities based off of http://www.cs.rit.edu/~ncs/color/t_convert.html
function Ze(e){var t=Ke(e);return!!Xe(t)&&t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return"#"+t+t+n+n+r+r})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)}))}function Je(e,t,n){var r="#",i=r+Ge(e.toString(16),2)+Ge(t.toString(16),2)+Ge(n.toString(16),2);return!!Xe(i)&&i}function Qe(e,t){var n=Ke(e);if(Xe(n)){var r=Ze(n),i=Be(r,3),o=i[0],a=i[1],s=i[2];return"rgba(".concat(o,", ").concat(a,", ").concat(s,", ").concat(t,")")}if(qe.test(e)){var l=qe.exec(e);return"rgba(".concat(l[1],", ").concat(l[2],", ").concat(l[3],", ").concat(t,")")}if(Ye.test(e)){var c=Ye.exec(e);return"rgba(".concat(c[1],", ").concat(c[2],", ").concat(c[3],", ").concat(t,")")}return e}function et(e){if(Ye.test(e)){var t=Ye.exec(e);return Number(t[4])}return 1}function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=et(e)*t;return Qe(e,n)}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){return e.reduce((function(e,n){return P(n)?rt(rt({},e),t[n]):rt(rt({},e),n)}),{})}function at(e,t){return"translate(".concat(e,"px,").concat(t,"px)")}function st(e){var t=e.fontFamily,n=e.fontSize,r=e.fontWeight;return"".concat(r," ").concat(n,"px ").concat(t)}function lt(e){var t=e.color,n=e.fontSize,r=e.fontFamily,i=e.fontWeight;return"font-weight: ".concat(i,"; font-family: ").concat(r,"; font-size: ").concat(n,"px; color: ").concat(t,";")}function ct(e){return st(z(e,"fontFamily","fontWeight","fontSize"))}function ut(e,t){e.setLineDash&&e.setLineDash(t)}function ft(e){return Math.floor(.15*e)}function dt(e,t){e.fillStyle=t,e.fill()}function ht(e,t){var n=t.lineWidth,r=t.strokeStyle;r&&(e.strokeStyle=r),n&&(e.lineWidth=n),e.lineWidth&&et(String(e.strokeStyle))&&e.stroke()}var pt="normal 11px Arial",vt={default:{font:pt,fillStyle:"#333333",textAlign:"left",textBaseline:"middle"},title:{textBaseline:"top"},axisTitle:{textBaseline:"top"},rectLabel:{font:pt,fillStyle:"rgba(0, 0, 0, 0.3)",textAlign:"center",textBaseline:"middle"}},mt={none:{lineWidth:1,strokeStyle:"rgba(255, 255, 255, 0)"},stroke:{lineWidth:4,strokeStyle:"rgba(255, 255, 255, 0.5)"}};function yt(e,t){var n,r,i,o,a=t.x,s=t.y,l=t.text,c=t.style,u=t.stroke,f=t.opacity,d=t.radian,h=t.rotationPosition;if(c){var p=ot(c,vt);Object.keys(p).forEach((function(t){e[t]="fillStyle"===t&&T(f)?tt(p[t],f):p[t]}))}(e.save(),d)&&(e.translate(null!==(n=null===h||void 0===h?void 0:h.x)&&void 0!==n?n:a,null!==(r=null===h||void 0===h?void 0:h.y)&&void 0!==r?r:s),e.rotate(d),e.translate(-(null!==(i=null===h||void 0===h?void 0:h.x)&&void 0!==i?i:a),-(null!==(o=null===h||void 0===h?void 0:h.y)&&void 0!==o?o:s)));if(u){var v=ot(u,mt),m=Object.keys(v);m.forEach((function(t){e[t]="strokeStyle"===t&&T(f)?tt(v[t],f):v[t]})),m.length&&e.strokeText(l,a,s)}e.fillText(l,a,s),e.restore()}var gt={shadow:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetY:2,shadowBlur:4}};function bt(e,t){var n,r,i=t.radian,o=void 0===i?0:i,a=t.rotationPosition,s=t.bubble,l=s.x,c=s.y,u=s.width,f=s.height,d=s.radius,h=void 0===d?0:d,p=s.lineWidth,v=void 0===p?1:p,m=s.direction,y=s.points,g=void 0===y?[]:y,b=s.fill,w=void 0===b?"#fff":b,x=s.strokeStyle,k=void 0===x?"rgba(0, 0, 0, 0)":x,S=s.style,O=void 0===S?null:S;u>0&&f>0&&xt(e,{x:l,y:c,radius:h,width:u,height:f,style:O,fill:w,strokeStyle:k,lineWidth:v,direction:m,points:g,radian:o,rotationPosition:{x:null!==(n=null===a||void 0===a?void 0:a.x)&&void 0!==n?n:l,y:null!==(r=null===a||void 0===a?void 0:a.y)&&void 0!==r?r:c}});if(t.label.text){var C=t.label,E=C.x,M=C.y,A=C.text,T=C.strokeStyle,P=void 0===T?"rgba(0, 0, 0, 0)":T,R=C.style;e.shadowColor="rgba(0, 0, 0, 0)",yt(e,{type:"label",x:E,y:M,text:A,style:R,stroke:[{strokeStyle:P}],radian:o,rotationPosition:a})}}function wt(e,t){t.length&&(e.lineTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y),e.lineTo(t[2].x,t[2].y))}function xt(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,a=t.style,s=t.radius,l=void 0===s?0:s,c=t.strokeStyle,u=t.fill,f=t.lineWidth,d=void 0===f?1:f,h=t.points,p=void 0===h?[]:h,v=t.direction,m=void 0===v?"":v,y=t.radian,g=t.rotationPosition,b=n+i,w=r+o;if(e.beginPath(),e.save(),y&&g&&(e.translate(g.x,g.y),e.rotate(y),e.translate(-g.x,-g.y)),e.moveTo(n+l,r),"top"===m&&wt(e,p),e.lineTo(b-l,r),e.quadraticCurveTo(b,r,b,r+l),"right"===m&&wt(e,p),e.lineTo(b,r+o-l),e.quadraticCurveTo(b,w,b-l,w),"bottom"===m&&wt(e,p),e.lineTo(n+l,w),e.quadraticCurveTo(n,w,n,w-l),"left"===m&&wt(e,p),e.lineTo(n,r+l),e.quadraticCurveTo(n,r,n+l,r),a){var x=ot(a,gt);Object.keys(x).forEach((function(t){e[t]=x[t]}))}u&&dt(e,u),c&&ht(e,{strokeStyle:c,lineWidth:d}),e.restore()}n(1549);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=180,Et=-180,Mt=360,At=0,Tt=-90,Pt=90,Rt=10;function Dt(e,t){return St({anchor:e},z(t,"x","y","radius","degree","drawingStartAngle"))}function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt,n=0;return e%Mt===0?n=Math.PI/Ct*t:e>=0&&(n=Math.PI/Ct*(e+t)),n}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;return(e*Ct/Math.PI-t+Mt)%Mt}function Lt(e){var t=e.anchor,n=e.x,r=e.y,i=e.radius,o=i.inner,a=i.outer,s=e.degree,l=s.start,c=s.end,u=e.drawingStartAngle,f=void 0===u?Tt:u,d=l+(c-l)/2,h=_t(d,f),p="outer"===t?a:(a+o)/2;return It(n,r,p,h)}function It(e,t,n,r){return{x:Math.round(e+n*Math.cos(r)),y:Math.round(t+n*Math.sin(r))}}function Nt(e,t,n,r){return e?t<=r&&n>=r:t>=r&&n<=r}function Bt(e){var t,n,r,i,o,a=null===(t=null===e||void 0===e?void 0:e.clockwise)||void 0===t||t;return{clockwise:a,startAngle:null!==(n=null===e||void 0===e||null===(r=e.angleRange)||void 0===r?void 0:r.start)&&void 0!==n?n:a?At:Mt,endAngle:null!==(i=null===e||void 0===e||null===(o=e.angleRange)||void 0===o?void 0:o.end)&&void 0!==i?i:a?Mt:At}}function zt(e){var t,n=e.width,r=e.height,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t=i?Math.min(n/2,r)-a:n>r?r/2-a:n/2-o,Math.max(t,Rt)}function Ht(e,t,n,r){var i=r?(t+e)/2:e;return _t(i,n)}function Wt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.totalAngle,i=void 0===r?Mt:r,o=e.degree,a=o.start,s=o.end,l=e.drawingStartAngle,c=void 0===l?Tt:l,u="center";if("outer"!==t)return u;var f=_t(0,c),d=_t(i/2,c),h=Ht(a,s,c,n);return c>=Tt&&c<Pt?f<h&&d>h?u="left":d<h&&(u="right"):f<h&&d>h?u="right":d<h&&(u="left"),u}function Ft(e,t){return e.reduce((function(n,r,i){return i&&n.push({inner:r+t,outer:e[i-1]-t}),i===e.length-1&&n.push({inner:t,outer:r-t}),n}),[])}function Ut(e){return e<At?Mt+e%Mt:e>Mt?e%Mt:e}var Vt={default:{strokeStyle:"#ffffff",lineWidth:2},plot:{lineWidth:1,strokeStyle:"rgba(0, 0, 0, 0.05)"}},qt={shadow:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetX:2,shadowOffsetY:2,shadowBlur:6}};function Yt(e,t){var n=t.x,r=t.y,i=t.width,o=t.height;e.beginPath(),e.rect(n,r,i,o),e.clip()}function $t(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,a=t.radius,s=void 0===a?0:a,l=t.stroke,c=void 0===l?"black":l,u=t.fill,f=void 0===u?"":u,d=t.lineWidth,h=void 0===d?1:d;e.beginPath(),e.moveTo(n+s,r),e.lineTo(n+i-s,r),e.quadraticCurveTo(n+i,r,n+i,r+s),e.lineTo(n+i,r+o-s),e.quadraticCurveTo(n+i,r+o,n+i-s,r+o),e.lineTo(n+s,r+o),e.quadraticCurveTo(n,r+o,n,r+o-s),e.lineTo(n,r+s),e.quadraticCurveTo(n,r,n+s,r),e.closePath(),f&&dt(e,f),ht(e,{lineWidth:h,strokeStyle:c})}function Gt(e,t){var n=t.x,r=t.y,i=t.style,o=t.radius,a=t.color,s=t.angle,l=void 0===s?{start:0,end:2*Math.PI}:s,c=t.borderWidth,u=t.borderColor;if(e.beginPath(),i){var f=ot(i,Vt);Object.keys(f).forEach((function(t){e[t]=f[t]}))}e.arc(n,r,o,l.start,l.end,!0),ht(e,{lineWidth:c,strokeStyle:u}),dt(e,a),e.closePath()}function Xt(e,t){var n=t.x,r=t.y,i=t.x2,o=t.y2,a=t.strokeStyle,s=t.lineWidth,l=t.dashSegments;e.beginPath(),l&&ut(e,l),e.moveTo(n,r),e.lineTo(i,o),ht(e,{strokeStyle:a,lineWidth:s}),e.closePath()}function Kt(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,a=t.style,s=t.thickness,l=void 0===s?0:s,c=t.color,u=t.borderColor,f=void 0===u?"#ffffff":u;if(e.beginPath(),a){var d=ot(a,qt);Object.keys(d).forEach((function(t){e[t]=d[t]}))}l&&(e.fillStyle=f,e.fillRect(n-l,r-l,i+2*l,o+2*l),e.shadowColor="rgba(0, 0, 0, 0)"),e.rect(n,r,i,o),dt(e,c)}function Zt(e,t){var n=t.x,r=t.y,i=t.angle,o=i.start,a=i.end,s=t.borderWidth,l=t.borderColor,c=t.drawingStartAngle,u=t.radius,f=t.clockwise,d=void 0===f||f;e.beginPath();var h=_t(o,c),p=_t(a,c);e.arc(n,r,u,h,p,!d),ht(e,{lineWidth:s,strokeStyle:l}),e.closePath()}var Jt=5;function Qt(e,t){var n=t.x,r=t.y,i=t.isYAxis,o=t.tickSize,a=void 0===o?Jt:o,s=t.strokeStyle,l=t.lineWidth,c={type:"line",x:n,y:r,x2:n,y2:r,strokeStyle:s,lineWidth:l};i?c.x2+=a:c.y2+=a,Xt(e,c)}function en(e){return on(e)||rn(e)||nn(e)||tn()}function tn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nn(e,t){if(e){if("string"===typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}function rn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function on(e){if(Array.isArray(e))return an(e)}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sn=1.2,ln=document.createElement("canvas").getContext("2d");function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt;return ln.font=t,Math.ceil(ln.measureText(e).width)}function un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt;ln.font=t;var n=ln.measureText(e),r=n.actualBoundingBoxAscent,i=n.actualBoundingBoxDescent,o=T(r)&&T(i);return o?Math.ceil(Math.abs(r)+Math.abs(i))+1:fn(t)}function fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=e.match(/\d+(?=px)/);return parseInt(String(Number(t)*sn),10)}function dn(e){return kn(2*Jt+e/2)}function hn(e){var t,n;return null!==(t=null===(n=String(e).split(".")[1])||void 0===n?void 0:n.length)&&void 0!==t?t:0}function pn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return hn(e)})),i=Math.max.apply(Math,en(r));return Math.pow(10,i)}function vn(e,t){var n=pn(e,t);return(e*n+t*n)/n}function mn(e,t){var n=pn(e,t);return e*n*(t*n)/(n*n)}function yn(e,t){var n=pn(e,t);return e*n/(t*n)}function gn(e){var t=e.slice();return t.unshift(0),t.reduce((function(e,t){return vn(parseFloat(String(e)),parseFloat(String(t)))}))}function bn(e){for(var t,n=[],r=2;r*r<=e;r+=1)e%r===0&&(t=e/r,n.push(r),t!==r&&n.push(t));return n.sort((function(e,t){return e-t}))}function wn(e,t,n){var r=pn(t),i=Math.round(e.min*r),o=Math.round(e.max*r),a=I(i,o+1,t*r);return a.map((function(e){return String(n?new Date(e):e/r)}))}function xn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=[];return t>0&&(i=I(0,t).map((function(r){var i=0===r?0:r/(t-1);return i*e+n}))),r&&i.push(r),i}function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t/2;return t%2?(R(e)?e:Math.round(e-n))+n:Math.round(e)}function Sn(e,t,n){var r=.333,i=e.x,o=e.y,a=t.x,s=t.y,l=n.x,c=n.y,u=En(n,t),f=En(t,e),d=r*f/(f+u)||0,h=r*u/(f+u)||0;return{prev:{x:a-d*(l-i),y:s-d*(c-o)},next:{x:a+h*(l-i),y:s+h*(c-o)}}}function On(e){for(var t=0,n=e.length,r=e[0];t<n;t+=1){var i=e[t];if(M(i))r=e[t+1];else{var o=e[Math.min(t+1,n-1)%n];r&&o&&(i.controlPoint=Sn(r,i,o)),r=i}}}function Cn(e,t){var n=t.min,r=t.max;return r===n?0:(e-n)/(r-n)}function En(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Mn(e){var t=e.reduce((function(e,t){return e.length>t.length?e:t}),"");return cn(t)}function An(e,t,n,r){var i,o=e.pointOnColumn,a=e.tickDistance,s=e.labelRange;if(s){var l=P(n)?Number(new Date(n)):Number(n),c=Cn(l,s);i=c*t}else i=a*r+(o?a/2:0);return i}function Tn(e){return _n(e)||Dn(e)||Rn(e)||Pn()}function Pn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rn(e,t){if(e){if("string"===typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}function Dn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _n(e){if(Array.isArray(e))return jn(e)}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ln(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}function In(e,t){return e.reduce((function(e,n){return[].concat(Tn(e),[n[t]])}),[])}function Nn(e){return Wn(e)||Hn(e)||zn(e)||Bn()}function Bn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zn(e,t){if(e){if("string"===typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(e,t):void 0}}function Hn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Wn(e){if(Array.isArray(e))return Fn(e)}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t,n){return t&&Yn(e.prototype,t),n&&Yn(e,n),e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn,Kn=function(){function e(t){var n=t.store,r=t.eventBus;qn(this,e),Gn(this,"name","Component"),Gn(this,"type","component"),Gn(this,"rect",{x:0,y:0,height:0,width:0}),Gn(this,"isShow",!0),Gn(this,"selectable",void 0),Gn(this,"store",void 0),Gn(this,"eventBus",void 0),Gn(this,"models",void 0),Gn(this,"drawModels",void 0),Gn(this,"responders",void 0),Gn(this,"activeSeriesMap",void 0),this.store=n,this.eventBus=r}return $n(e,[{key:"update",value:function(e){var t=this;this.drawModels&&(Array.isArray(this.models)?this.updateModels(this.drawModels,this.models,e):Object.keys(this.models).forEach((function(n){var r=t.drawModels[n],i=t.models[n];t.updateModels(r,i,e)})))}},{key:"initUpdate",value:function(e){this.update(e)}},{key:"updateModels",value:function(e,t,n){var r=this;e.forEach((function(e,i){var o=t[i];Object.keys(e).forEach((function(t){if(e&&o&&"_"!==t[0])if(T(e[t]))e[t]=e[t]+(o[t]-e[t])*n;else if("points"===t){var i,a=r.getCurrentModelToMatchTargetModel(e[t],e[t],o[t]),s=a.map((function(e,r){var i=o[t][r];if(e&&i){var a=e.x,s=e.y,l=i.x,c=i.y;return Vn(Vn({},i),{},{x:a+(l-a)*n,y:s+(c-s)*n})}return i}));null!==(i=r.store.state.options.series)&&void 0!==i&&i.spline&&On(s),e[t]=s}else e[t]=o[t]}))}))}},{key:"sync",value:function(){var e=this;this.drawModels&&(Array.isArray(this.models)?this.syncModels(this.drawModels,this.models):Object.keys(this.models).length?Object.keys(this.models).forEach((function(t){var n=e.drawModels[t],r=e.models[t];e.syncModels(n,r,t)})):this.drawModels=this.models)}},{key:"getCurrentModelToMatchTargetModel",value:function(e,t,n){var r;if(!e||!t)return Nn(n);if(null!==(r=te(n))&&void 0!==r&&r.name){var i=Nn(new Set(e.map((function(e){var t=e.name;return t})))),o=Nn(new Set(n.map((function(e){var t=e.name;return t})))),a=Ln(i,o);if(!a)return this.getCurrentModelWithDifferentModel(e,t,n,i,o)}var s=t.length,l=n.length;return s<l?[].concat(Nn(t),Nn(n.slice(s,l))):s>l?t.slice(0,l):e}},{key:"getCurrentModelWithDifferentModel",value:function(e,t,n,r,i){var o=t.length,a=n.length;if(o>a){var s=e.filter((function(e){var t=e.name;return B(i,t)}));return s.length!==n.length?n:s}if(o<a){var l=n.reduce((function(e,t,n){var i=!B(r,t.name);return i?{models:[].concat(Nn(e.models),[t]),modelIdx:[].concat(Nn(e.modelIdx),[n])}:e}),{models:[],modelIdx:[]});if(e.length+l.models.length===a){var c=Nn(e);return l.models.forEach((function(e,t){c.splice(l.modelIdx[t],0,e)})),c}return n}return e}},{key:"syncModels",value:function(e,t,n){var r=n?this.drawModels[n]:this.drawModels,i=this.getCurrentModelToMatchTargetModel(r,e,t);n?this.drawModels[n]=i:this.drawModels=i}},{key:"getSelectableOption",value:function(e){var t,n;return null!==(t=null===e||void 0===e||null===(n=e.series)||void 0===n?void 0:n.selectable)&&void 0!==t&&t}},{key:"renderDataLabels",value:function(e,t){var n=this;setTimeout((function(){n.eventBus.emit("renderDataLabels",{data:e,name:null!==t&&void 0!==t?t:n.name})}),0)}},{key:"draw",value:function(e){var t=this.drawModels?this.drawModels:this.models;Array.isArray(t)?e.paintForEach(t):t&&Object.keys(t).forEach((function(n){e.paintForEach(t[n])}))}}]),e}();function Zn(e){return Zn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Jn(e){return nr(e)||tr(e)||er(e)||Qn()}function Qn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function er(e,t){if(e){if("string"===typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}function tr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function nr(e){if(Array.isArray(e))return rr(e)}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t&&sr(e.prototype,t),n&&sr(e,n),e}function cr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}function ur(e,t){return ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ur(e,t)}function fr(e){var t=pr();return function(){var n,r=vr(e);if(t){var i=vr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dr(this,n)}}function dr(e,t){return!t||"object"!==Zn(t)&&"function"!==typeof t?hr(e):t}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vr(e){return vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vr(e)}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yr(e){return{offsetKey:e?"y":"x",anchorKey:e?"x":"y"}}(function(e){e["X"]="xAxis",e["Y"]="yAxis",e["SECONDARY_Y"]="secondaryYAxis",e["CIRCULAR"]="circularAxis",e["VERTICAL"]="verticalAxis"})(Xn||(Xn={}));var gr=function(e){cr(n,e);var t=fr(n);function n(){var e;ar(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),mr(hr(e),"models",{label:[],tick:[],axisLine:[]}),mr(hr(e),"drawModels",void 0),mr(hr(e),"yAxisComponent",void 0),mr(hr(e),"theme",void 0),mr(hr(e),"axisSize",0),e}return lr(n,[{key:"initialize",value:function(e){var t=e.name;this.type="axis",this.name=t,this.yAxisComponent=B([Xn.Y,Xn.SECONDARY_Y],t)}},{key:"render",value:function(e){var t=this,n=e.layout,r=e.axes,i=e.theme,o=e.scale;if(!r.centerYAxis&&r[this.name]){this.theme=Mi(i,this.name),this.rect=n[this.name],this.axisSize=this.yAxisComponent?this.rect.height:this.rect.width;var a=r[this.name].viewLabels,s=yr(this.yAxisComponent),l=s.offsetKey,c=s.anchorKey,u=this.makeRenderOptions(r[this.name],null===o||void 0===o?void 0:o[this.name]),f=this.hasOnlyAxisLine();f||(this.models.label=this.renderLabelModels(a,l,c,u),this.models.tick=this.renderTickModels(l,c,u)),this.models.axisLine=[this.renderAxisLineModel()],this.drawModels||(this.drawModels={tick:[],label:[],axisLine:this.models.axisLine},["tick","label"].forEach((function(e){t.drawModels[e]=t.models[e].map((function(e){var n=or({},e);return t.yAxisComponent?n.y=0:n.x=0,n}))})))}}},{key:"renderAxisLineModel",value:function(){var e,t=kn(0),n=this.theme,r=n.color,i=n.width;if(this.yAxisComponent){var o=this.getYAxisXPoint();e={type:"line",x:o,y:t,x2:o,y2:kn(this.axisSize),strokeStyle:r,lineWidth:i}}else e={type:"line",x:t,y:t,x2:kn(this.axisSize),y2:t,strokeStyle:r,lineWidth:i};return e}},{key:"renderTickModels",value:function(e,t,n){var r=this,i=this.yAxisComponent?this.getYAxisXPoint():kn(0),o=n.tickInterval,a=n.relativePositions,s=B([Xn.SECONDARY_Y,Xn.X],this.name)?Jt:-Jt;return a.reduce((function(n,a,l){var c;return l%o?n:[].concat(Jn(n),[(c={type:"tick",isYAxis:r.yAxisComponent,tickSize:s},mr(c,e,kn(a)),mr(c,t,i),mr(c,"strokeStyle",r.theme.color),mr(c,"lineWidth",r.theme.width),c)])}),[])}},{key:"renderLabelModels",value:function(e,t,n,r){var i=r.needRotateLabel,o=r.radian,a=r.offsetY,s=this.theme.label,l=st(s),c=this.getLabelTextAlign(i),u=["default",{textAlign:c,font:l,fillStyle:s.color}],f=this.yAxisComponent?this.getYAxisAnchorPoint():a;return e.map((function(e){var r,i=e.text,a=e.offsetPos;return r={type:"label",text:i,style:u,radian:o},mr(r,t,kn(a)),mr(r,n,f),r}))}},{key:"makeRenderOptions",value:function(e,t){var n,r,i=e.tickCount,o=e.tickInterval,a=null!==(n=null===t||void 0===t?void 0:t.sizeRatio)&&void 0!==n?n:1,s=null!==(r=null===t||void 0===t?void 0:t.positionRatio)&&void 0!==r?r:0,l=xn(this.axisSize*a,i,this.axisSize*s);if(this.yAxisComponent)return{relativePositions:l,tickInterval:o};var c=e.needRotateLabel,u=e.radian,f=e.offsetY;return{relativePositions:l,tickInterval:o,needRotateLabel:c,radian:u,offsetY:f}}},{key:"getYAxisAnchorPoint",value:function(){return this.isRightSide()?kn(this.rect.width):kn(0)}},{key:"getLabelTextAlign",value:function(e){var t=this.isRightSide()?"right":"left",n=e?"left":"center";return this.yAxisComponent?t:n}},{key:"isRightSide",value:function(){return this.name===Xn.SECONDARY_Y}},{key:"getYAxisXPoint",value:function(){return this.isRightSide()?kn(0):kn(this.rect.width)}},{key:"hasOnlyAxisLine",value:function(){return this.yAxisComponent&&!this.rect.width||this.name===Xn.X&&!this.rect.height}}]),n}(Kn),br=Math.PI/180,wr=90,xr=[0,25,45,65,85,90];function kr(e,t){return Math.cos(e*br)*t}function Sr(e,t){return Math.sin(e*br)*t}function Or(e,t,n){var r=kr(e,t/2),i=kr(wr-e,n/2);return 2*(r+i)}function Cr(e,t,n){var r=Sr(e,t/2),i=Sr(wr-e,n/2);return 2*(r+i)}var Er="YY-MM-DD hh:mm:ss";function Mr(e){if(e)return D(e)?e.format:Er}var Ar=/[\\]*YYYY|[\\]*YY|[\\]*MMMM|[\\]*MMM|[\\]*MM|[\\]*M|[\\]*DD|[\\]*D|[\\]*HH|[\\]*H|[\\]*mm|[\\]*m|[\\]*ss|[\\]*s|[\\]*A/gi,Tr=["Invalid month","January","February","March","April","May","Jun","Jul","August","September","October","November","December"],Pr=[0,31,28,31,30,31,30,31,31,30,31,30,31],Rr={M:function(e){return Number(e.month)},MM:function(e){var t=e.month;return Number(t)<10?"0".concat(t):t},MMM:function(e){return Tr[Number(e.month)].substr(0,3)},MMMM:function(e){return Tr[Number(e.month)]},D:function(e){return Number(e.date)},d:function(e){return Rr.D(e)},DD:function(e){var t=e.date;return Number(t)<10?"0".concat(t):t},dd:function(e){return Rr.DD(e)},YY:function(e){return Number(e.year)%100},yy:function(e){return Rr.YY(e)},YYYY:function(e){var t="20",n=e.year;return n>69&&n<100&&(t="19"),Number(n)<100?t+String(n):n},yyyy:function(e){return Rr.YYYY(e)},A:function(e){return e.meridiem},a:function(e){return e.meridiem},hh:function(e){var t=e.hour;return Number(t)<10?"0"+t:t},HH:function(e){return Rr.hh(e)},h:function(e){return String(Number(e.hour))},H:function(e){return Rr.h(e)},m:function(e){return String(Number(e.minute))},mm:function(e){var t=e.minute;return Number(t)<10?"0".concat(t):t},s:function(e){return String(Number(e.second))},ss:function(e){var t=e.second;return Number(t)<10?"0".concat(t):t}};function Dr(e,t){return 2===e&&t%4===0&&(t%100!==0||t%400===0)}function _r(e,t,n){var r=Number(e),i=Number(t),o=Number(n),a=r>-1&&r<100||r>1969&&r<2070,s=i>0&&i<13;if(!a||!s)return!1;var l=Dr(i,r)?29:Pr[i];return o>0&&o<=l}function jr(e,t,n){var r,i,o=null!==(r=null===n||void 0===n?void 0:n.meridiemSet.AM)&&void 0!==r?r:"AM",a=(null===n||void 0===n?void 0:n.meridiemSet.PM)||"PM";if(C(t))i={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds()};else{var s=t.year,l=t.month,c=t.hour,u=t.minute,f=t.second;i={year:s,month:l,date:t.date,hour:c,minute:u,second:f}}return _r(i.year,i.month,i.date)?(i.meridiem="",/([^\\]|^)[aA]\b/.test(e)&&(i.hour>12&&(i.hour%=12),0===i.hour&&(i.hour=12),i.meridiem=i.hour>11?a:o),e.replace(Ar,(function(e){return e.indexOf("\\")>-1?e.replace(/\\/,""):Rr[e](i)||""}))):""}var Lr={COUNTER_CLOCKWISE:.1,CLOCKWISE:1};function Ir(e,t,n){return e&&(t>=Tt&&n<=Pt||t>=Pt&&n<=Ct)}function Nr(e,t,n){return!e&&(t>=Et&&n<=Pt||t<=Pt&&n>=Tt)}function Br(e,t,n){var r=n-t,i=Math.abs(r),o=r>At&&i!==Mt&&!e||r<At&&i!==Mt&&e;return o?Mt-i:i}function zr(e,t,n){return Br(e,t,n)<=Ct&&(Ir(e,t,n)||Nr(e,t,n))}function Hr(e,t){return t?e*Lr.CLOCKWISE:e*Lr.COUNTER_CLOCKWISE}function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter((function(e){var t=e.data;return!M(t)})).map((function(e){var n=e.data,r=e.name,i=e.color,o=e.rootParentName;return{label:r,color:i,value:n,category:t,rootParentName:o,templateType:"pie"}}))}function Fr(e){var t;return!(!e.pie||!Array.isArray(null===(t=e.pie[0])||void 0===t?void 0:t.data))}function Ur(e){return e.pie.map((function(e){var t=e.name;return t}))}function Vr(e){var t=e.toFixed(2),n=parseFloat(t),r=t.length>5;return"".concat(r?parseFloat(t.substr(0,4)):String(n),"%")}function qr(e,t){var n,r;return!!t.pie&&"outer"===(null===e||void 0===e||null===(n=e.series)||void 0===n||null===(r=n.dataLabels)||void 0===r?void 0:r.anchor)}function Yr(e,t){var n,r,i;return!!t.pie&&"outer"===(null===e||void 0===e||null===(n=e.series)||void 0===n||null===(r=n.dataLabels)||void 0===r||null===(i=r.pieSeriesName)||void 0===i?void 0:i.anchor)}var $r,Gr=5,Xr=25;function Kr(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="center";return t&&(n=e?"right":"left"),n}function Zr(e){var t=e.labels,n=e.pointOnColumn,r=e.intervalData,i=e.isLabelOnVerticalAxis,o=e.verticalAxisLabelMargin,a=e.verticalAxisLabelFont,s=e.defaultAxisData,l=e.radiusData,c=s.clockwise,u=s.axisSize,f=s.centerX,d=s.centerY,h=s.startAngle,p=s.endAngle,v=l.radiusRanges,m=l.innerRadius,y=l.outerRadius,g=r.labelInterval,b=zi(t,o,a),w=b.maxLabelWidth,x=b.maxLabelHeight;return{axisSize:u,centerX:f,centerY:d,label:{labels:t,interval:g,margin:o,maxWidth:w,maxHeight:x,align:Kr(c,i)},radius:{inner:m,outer:y,ranges:v},angle:{start:h,end:p},tickDistance:(y-m)/t.length,pointOnColumn:n}}function Jr(e){var t=e.labels,n=e.intervalData,r=e.circularAxisLabelMargin,i=e.circularAxisLabelFont,o=e.defaultAxisData,a=e.radiusData,s=zi(t,r,i),l=s.maxLabelWidth,c=s.maxLabelHeight,u=o.totalAngle,f=o.clockwise,d=o.axisSize,h=o.centerX,p=o.centerY,v=o.startAngle,m=o.endAngle,y=o.drawingStartAngle,g=n.tickInterval,b=n.labelInterval,w=a.innerRadius,x=a.outerRadius,k=u/(t.length+(u<Mt?-1:At));return{axisSize:d,centerX:h,centerY:p,label:{labels:t,interval:b,margin:r,maxWidth:l,maxHeight:c},radius:{inner:w,outer:x},angle:{start:v,end:m,total:u,central:k,drawingStart:y},tickInterval:g,clockwise:f}}function Qr(e,t,n){var r,i,o,a=null!==(r=null===(i=e[n])||void 0===i||null===(o=i.label)||void 0===o?void 0:o.formatter)&&void 0!==r?r:function(e){return e};return t.map((function(e,r){return a(e,{index:r,labels:t,axisName:n})}))}function ei(e,t,n,r){var i=e?$r.CIRCULAR:$r.VERTICAL,o=r[i],a=o.limit,s=o.stepSize,l=Qr(t,wn(a,s),i),c=Qr(t,n,e?$r.VERTICAL:$r.CIRCULAR);return{radialAxisLabels:e?l:c,yAxisLabels:e?c:l}}function ti(e,t){var n,r,i,o,a,s;return{verticalAxisLabelMargin:null!==(n=null===t||void 0===t||null===(r=t.verticalAxis)||void 0===r||null===(i=r.label)||void 0===i?void 0:i.margin)&&void 0!==n?n:e?Gr:0,circularAxisLabelMargin:null!==(o=null===t||void 0===t||null===(a=t.circularAxis)||void 0===a||null===(s=a.label)||void 0===s?void 0:s.margin)&&void 0!==o?o:Xr}}(function(e){e["CIRCULAR"]="circularAxis",e["VERTICAL"]="verticalAxis"})($r||($r={}));var ni={name:"radialAxes",state:function(){return{radialAxes:{}}},action:{setRadialAxesData:function(e){var t,n=e.state,r=n.series,i=n.layout,o=n.scale,a=n.categories,s=i.plot,l=vi({series:r,categories:a}),c=n.options,u=n.theme,f=st(u.circularAxis.label),d=st(u.verticalAxis.label),h=ti(l,c),p=h.verticalAxisLabelMargin,v=h.circularAxisLabelMargin,m=ei(l,c,a,o),y=m.radialAxisLabels,g=m.yAxisLabels,b=zi(y,v,f),w=b.maxLabelWidth,x=b.maxLabelHeight,k=Ui(c,s,w,x+v,l),S=k.axisSize,O=l?Vi(S,null===c||void 0===c||null===(t=c.series)||void 0===t?void 0:t.radiusRange,g.length+1):{radiusRanges:xn(S,g.length),innerRadius:0,outerRadius:S},C=Zr({labels:g,pointOnColumn:l,isLabelOnVerticalAxis:l,intervalData:Wi(l,{axis:c.verticalAxis,categories:a,layout:i}),verticalAxisLabelMargin:p,verticalAxisLabelFont:d,defaultAxisData:k,radiusData:O});n.radialAxes={circularAxis:Jr({labels:y,intervalData:Wi(!0,{axis:c.circularAxis,categories:a,layout:i}),defaultAxisData:k,circularAxisLabelMargin:v,circularAxisLabelFont:f,radiusData:O}),verticalAxis:C}}},observe:{updateRadialAxes:function(){this.dispatch("setRadialAxesData")}}},ri=ni;function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function si(e){return fi(e)||ui(e)||ci(e)||li()}function li(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ci(e,t){if(e){if("string"===typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}function ui(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function fi(e){if(Array.isArray(e))return di(e)}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hi(e,t,n){var r,i=Math.floor(t/n),o=null,a=i?Math.floor(e/i):e;return a>1&&(r=e-a*i,r>=a&&(i+=Math.floor(r/a),r%=a),o={blockCount:i,remainBlockCount:r,interval:a}),o}function pi(e,t,n){var r={MIN_WIDTH:90,MAX_WIDTH:121,STEP_SIZE:5},i=5;if(null!==n&&void 0!==n&&n[0]){var o=cn(n[0]);if(o<t/e-i)return 1}var a=[];if(bn(e).forEach((function(n){var i=n/e*t;i>=r.MIN_WIDTH&&i<=r.MAX_WIDTH&&a.push({interval:n,blockCount:Math.floor(e/n),remainBlockCount:0})})),!a.length){var s=I(r.MIN_WIDTH,r.MAX_WIDTH,r.STEP_SIZE);a=s.reduce((function(n,r){var i=hi(e,t,r);return i?[].concat(si(n),[i]):n}),[])}var l=1;if(a.length){var c=a.reduce((function(e,t){return t.blockCount>e.blockCount?t:e}),{blockCount:0,interval:1});l=c.interval}return l}function vi(e){var t,n=e.series,r=e.options,i=e.categories;return!!n.bar||!!n.radialBar||!!n.gauge&&Array.isArray(i)&&!i.length||!!n.bullet&&!(null!==r&&void 0!==r&&null!==(t=r.series)&&void 0!==t&&t.vertical)}function mi(e){return!!e.column||!!e.bar||!!e.boxPlot||!!e.bullet}function yi(e,t){return!!mi(e)||!(!e.line&&!e.area)&&Boolean(null===(n=t.xAxis)||void 0===n?void 0:n.pointOnColumn);var n}function gi(e){return!!e.radar||!!e.radialBar||!!e.gauge}function bi(e){return{valueAxisName:e?"circularAxis":"verticalAxis",labelAxisName:e?"verticalAxis":"circularAxis"}}function wi(e,t){return gi(t)?bi(e):{valueAxisName:e?"xAxis":"yAxis",labelAxisName:e?"yAxis":"xAxis"}}function xi(e){return{valueSizeKey:e?"width":"height",labelSizeKey:e?"height":"width"}}function ki(e){var t=e.map((function(e){return Number(e)}));return{min:Math.min.apply(Math,si(t)),max:Math.max.apply(Math,si(t))}}function Si(e){return Array.isArray(null===e||void 0===e?void 0:e.yAxis)&&2===e.yAxis.length}function Oi(e){var t=Si(e);return{yAxis:t?e.yAxis[0]:null===e||void 0===e?void 0:e.yAxis,secondaryYAxis:t?e.yAxis[1]:null}}function Ci(e,t,n){var r=Oi(e),i=r.secondaryYAxis;return(null===i||void 0===i?void 0:i.chartType)===t?"secondaryYAxis":n}function Ei(e,t){if(B([Xn.X,Xn.CIRCULAR,Xn.VERTICAL],t))return[t];var n=e,r=Oi(n),i=r.yAxis,o=r.secondaryYAxis;return o?[i.chartType,o.chartType].map((function(e,r){return e?Ci(n,e,t):["yAxis","secondaryYAxis"][r]})):[t]}function Mi(e,t){var n,r=e.xAxis,i=e.yAxis,o=e.circularAxis;return n=t===Xn.X?r:Array.isArray(i)?t===Xn.Y?i[0]:i[1]:t===$r.CIRCULAR?o:i,n}function Ai(e,t,n,r){var i=0;return xr.every((function(o){var a=Or(o,t,n);return i=o,a>e||a/2>r.x})),e<t||t/2>r.x?i:0}function Ti(e,t,n){var r=e[n],i=t[n];return!(!r&&!i)&&(null===r||void 0===r?void 0:r.maxLabelWidth)!==(null===i||void 0===i?void 0:i.maxLabelWidth)}function Pi(e,t){return Ti(e,t,"yAxis")||Ti(e,t,"secondaryYAxis")}function Ri(e,t){var n=e.xAxis.maxHeight,r=t.xAxis.maxHeight;return n!==r}function Di(e,t){return Pi(e,t)||Ri(e,t)}function _i(e){var t,n,r;return null===(t=null===e||void 0===e||null===(n=e.xAxis)||void 0===n||null===(r=n.label)||void 0===r?void 0:r.rotatable)||void 0===t||t}function ji(e,t){var n=e.labels,r=e.pointOnColumn,i=e.labelDistance,o=e.tickDistance,a=e.labelInterval,s=e.tickInterval,l=e.tickCount,c=e.scale,u=t,f=0,d=0;if(c){var h,p,v=null!==(h=null===c||void 0===c?void 0:c.sizeRatio)&&void 0!==h?h:1,m=null!==(p=null===c||void 0===c?void 0:c.positionRatio)&&void 0!==p?p:0;u=t*v,f=t*m}else{var y=a===s?a:1;d=r?(null!==i&&void 0!==i?i:o*y)/2:0}var g=xn(u,l,f);return n.reduce((function(e,n,r){var i=g[r]+d,o=!(r%a)&&i<=t;return o?[].concat(si(e),[{offsetPos:i,text:n}]):e}),[])}function Li(e){if(E(e))return e;var t={text:"",offsetX:0,offsetY:0};return P(e)?oi(oi({},t),{},{text:e}):oi(oi({},t),e)}function Ii(e,t){var n,r,i,o=oi(oi({},Oi(e)),{},{xAxis:e.xAxis});return null!==(n=null===(r=o[t])||void 0===r||null===(i=r.label)||void 0===i?void 0:i.formatter)&&void 0!==n?n:function(e){return e}}function Ni(e,t,n,r){var i,o=Mr(null===t||void 0===t||null===(i=t[r])||void 0===i?void 0:i.date),a=n&&o?e.map((function(e){return jr(o,new Date(e))})):e,s=Ii(t,r);return a.map((function(t,n){return s(t,{index:n,labels:e,axisName:r})}))}function Bi(e,t,n,r,i){var o=Ai(n,e,t,i);return r&&0!==o?{needRotateLabel:o>0,radian:_t(o,0),rotationHeight:Cr(o,e,t)}:{needRotateLabel:!1,radian:0,rotationHeight:t}}function zi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt,r=e.reduce((function(e,t){return e.length>t.length?e:t}),"");return{maxLabelWidth:cn(r,n)+t,maxLabelHeight:un(r,n)}}function Hi(e,t){var n,r,i;if("xAxis"===e)return 0;var o=Oi(t);return Math.abs(null!==(n=null===o||void 0===o||null===(r=o[e])||void 0===r||null===(i=r.label)||void 0===i?void 0:i.margin)&&void 0!==n?n:0)}function Wi(e,t){var n,r,i,o=t.axis,a=t.categories,s=t.layout,l=t.isCoordinateTypeChart,c=null===o||void 0===o||null===(n=o.tick)||void 0===n?void 0:n.interval,u=null===o||void 0===o||null===(r=o.label)||void 0===r?void 0:r.interval,f=T(c)||T(u),d=e&&!T(null===o||void 0===o||null===(i=o.scale)||void 0===i?void 0:i.stepSize)&&!t.shift&&!f&&!l,h=d?Fi(a,s):1,p=d?h:1,v={tickInterval:null!==c&&void 0!==c?c:h,labelInterval:null!==u&&void 0!==u?u:p};return v}function Fi(e,t){if(!e||!t)return 1;var n=t.xAxis.width,r=e.length;return pi(r,n,e)}function Ui(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t.width/2;if(i){var a=Bt(null===e||void 0===e?void 0:e.series),s=a.startAngle,l=a.endAngle,c=a.clockwise,u=zr(c,s,l);return{isSemiCircular:u,axisSize:zt(t,u,n,r),centerX:o,centerY:u?Hr(t.height,c):t.height/2,totalAngle:Br(c,s,l),drawingStartAngle:s,clockwise:c,startAngle:s,endAngle:l}}return{isSemiCircular:!1,axisSize:zt(t,!1,n,r),centerX:o,centerY:t.height/2,totalAngle:Mt,drawingStartAngle:At,clockwise:!0,startAngle:At,endAngle:Mt}}function Vi(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=re(e,null!==(n=null===t||void 0===t?void 0:t.inner)&&void 0!==n?n:0),a=re(e,null!==(r=null===t||void 0===t?void 0:t.outer)&&void 0!==r?r:e);return{radiusRanges:xn(a-o,i,o).splice(0===o?1:0,i).reverse(),innerRadius:o,outerRadius:a}}function qi(e,t){var n;return!(null===(n=e[t])||void 0===n||!n.date)}function Yi(e){return T(e)?e:Array.isArray(e)?e[1]:e.y}function $i(e){return Array.isArray(e)?e[0]:e.x}function Gi(e,t){var n=K(t);return!!n&&(T(e)?e>=Number(n):new Date(e)>=new Date(n))}function Xi(e,t,n,r){if(T(e))return n-r;var i=$i(e),o=t.findIndex((function(e){return e===String(i)}));return-1===o&&Gi(i,t)&&(o=t.length),o}function Ki(e){var t;if(!e.line)return!1;var n=te(null===(t=e.line[0])||void 0===t?void 0:t.data);return n&&(Array.isArray(n)||D(n))}function Zi(e){return Ki(e)||!!e.scatter||!!e.bubble}function Ji(e,t){var n=e.height,r=e.width,i=t.x,o=t.y;return i>=0&&i<=r&&o>=0&&o<=n}function Qi(e,t){var n=e.x,r=e.y,i=e.width,o=e.height;return t.x>=n&&t.x<=n+i&&t.y>=r&&t.y<=r+o}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){no(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e){return so(e)||ao(e)||oo(e)||io()}function io(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oo(e,t){if(e){if("string"===typeof e)return lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lo(e,t):void 0}}function ao(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function so(e){if(Array.isArray(e))return lo(e)}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function co(e){var t,n=!!W(e,["series","diverging"]),r="center"===(null===e||void 0===e||null===(t=e.yAxis)||void 0===t?void 0:t.align);return n&&r}function uo(e,t){var n;return mi(e)&&!(null===(n=t.series)||void 0===n||!n.diverging)}function fo(e,t,n,r){var i=e.min,o=e.max,a=i<=0&&o>=0;if(!a||r)return null;var s=(0-i)/(o-i)*t;return n?s:t-s}function ho(e){var t,n=e.axisSize,r=e.categories,i=e.series,o=e.options,a=e.theme,s=e.scale,l=e.initialAxisData,c=e.isCoordinateTypeChart,u=e.axisName,f=!!i.line,d=yi(i,o),h=qi(o,u),p=c?wn(s.limit,s.stepSize,h):r,v=Ni(p,o,h,u);if(s&&f){var m=d?p:r,y=m.map((function(e){return Number(h?new Date(e):e)}));t={min:Math.min.apply(Math,ro(y)),max:Math.max.apply(Math,ro(y))}}var g=r.length,b=g-(d?0:1),w=b?n/b:n,x=n/(v.length-(d?0:1)),k=v.length;d&&!c&&(k+=1);var S=ji(to({labels:v,pointOnColumn:d,tickDistance:w,tickCount:k,scale:s},l),n),O=Hi(u,o);return to(to({labels:v,viewLabels:S,pointOnColumn:d,labelDistance:x,tickDistance:w,tickCount:k,labelRange:t,rectResponderCount:g,isLabelAxis:!0},l),zi(v,O,st(a.label)))}function po(e){var t=e.scale,n=e.axisSize,r=e.series,i=e.options,o=e.centerYAxis,a=e.initialAxisData,s=e.theme,l=e.labelOnYAxis,c=e.axisName,u=t.limit,f=t.stepSize,d=o?null===o||void 0===o?void 0:o.xAxisHalfSize:n,h=uo(r,i),p=Ii(i,c),v=fo(u,n,vi({series:r,options:i}),h),m=wn(u,f);!o&&h&&(m=vo(m));var y=m.map((function(e,t){return p(e,{index:t,labels:m,axisName:c})})),g=d/Math.max(m.length,1),b=m.length,w=!1,x=ji(to({labels:l?y:ro(y).reverse(),pointOnColumn:w,tickDistance:g,tickCount:b},a),d),k=Hi(c,i),S=to(to({labels:y,viewLabels:x,pointOnColumn:w,isLabelAxis:!1,tickCount:b,tickDistance:g},a),zi(y,k,st(s.label)));return T(v)&&(S.zeroPosition=v),S}function vo(e){return ee(e)?e.reverse().slice(1).concat(e):e.slice(1).reverse().concat(e)}function mo(e,t){var n,r=Wi(e,t),i=Li(null===t||void 0===t||null===(n=t.axis)||void 0===n?void 0:n.title);return i&&(r.title=i),r}function yo(e,t,n,r,i){var o,a=Oi(e),s=a.yAxis,l=a.secondaryYAxis,c=null===e||void 0===e||null===(o=e.series)||void 0===o?void 0:o.shift;return{xAxis:mo(!t,{categories:n,axis:null===e||void 0===e?void 0:e.xAxis,layout:r,shift:c,isCoordinateTypeChart:i}),yAxis:mo(t,{axis:s}),secondaryYAxis:l?mo(t,{axis:l}):null}}function go(e){var t,n,r=e.state,i=e.labelOnYAxis,o=e.valueAxisSize,a=e.labelAxisSize,s=e.initialAxisData,l=e.isCoordinateTypeChart,c=r.scale,u=r.options,f=r.series,d=r.theme,h=r.categories;return i?ho({scale:c.secondaryYAxis,axisSize:a,categories:null!==(t=null===(n=Oi(u).secondaryYAxis)||void 0===n?void 0:n.categories)&&void 0!==t?t:h,options:u,series:f,theme:Mi(d,Xn.SECONDARY_Y),initialAxisData:s,isCoordinateTypeChart:l,axisName:Xn.SECONDARY_Y}):po({scale:c.secondaryYAxis,axisSize:o,options:u,series:f,theme:Mi(d,Xn.SECONDARY_Y),centerYAxis:null,initialAxisData:s,axisName:Xn.SECONDARY_Y})}function bo(e){var t=e.axisData,n=e.axisSize,r=e.axisLayout,i=e.centerYAxis,o=e.rotatable,a=e.labelMargin,s=void 0===a?0:a,l=t.viewLabels,c=t.pointOnColumn,u=t.maxLabelWidth,f=t.maxLabelHeight,d=dn(f)+s,h=i?i.xAxisHalfSize:n,p=h/(l.length-(c?0:1)),v=Bi(u,f,p,o,r),m=v.needRotateLabel,y=v.rotationHeight,g=(m?y:f)+d;return to(to(to({},t),v),{},{maxHeight:g,offsetY:d})}function wo(e,t,n){var r=wi(e,n),i=r.valueAxisName,o=r.labelAxisName,a=xi(e),s=a.valueSizeKey,l=a.labelSizeKey,c=t[s],u=t[l];return{valueAxisName:i,valueAxisSize:c,labelAxisName:o,labelAxisSize:u}}function xo(e,t){var n,r;return{categories:null!==(n=e)&&void 0!==n?n:[],rawCategories:null!==(r=t)&&void 0!==r?r:[]}}var ko,So={name:"axes",state:function(e){var t=e.series,n=e.options,r=Oi(n),i=r.secondaryYAxis,o={xAxis:{},yAxis:{}};return t.bar&&co(n)&&(o.centerYAxis={}),i&&(o.secondaryYAxis={}),{axes:o}},action:{setAxesData:function(e){var t,n,r,i,o=e.state,a=e.initStoreState,s=o.scale,l=o.options,c=o.series,u=o.layout,f=o.theme,d=u.xAxis,h=u.yAxis,p=u.plot,v=Zi(a.series),m=vi({series:c,options:l}),y=xo(o.categories,o.rawCategories),g=y.categories,b=wo(m,p,c),w=b.valueAxisName,x=b.valueAxisSize,k=b.labelAxisName,S=b.labelAxisSize,O=o.axes.centerYAxis,C=yo(l,m,g,u,v),E=po({scale:s[w],axisSize:x,options:l,series:c,theme:Mi(f,w),centerYAxis:O?{xAxisHalfSize:(d.width-h.width)/2}:null,initialAxisData:C[w],labelOnYAxis:m,axisName:w}),M=ho({scale:s[k],axisSize:S,categories:g,options:l,series:c,theme:Mi(f,k),initialAxisData:C[k],isCoordinateTypeChart:v,labelOnYAxis:m,axisName:k});if(o.axes.secondaryYAxis&&(r=go({state:o,labelOnYAxis:m,valueAxisSize:x,labelAxisSize:S,labelAxisName:k,valueAxisName:w,initialAxisData:C.secondaryYAxis,isCoordinateTypeChart:v})),O){var A=(d.width-h.width)/2;i=V(E,{x:d.x+A,xAxisHalfSize:A,secondStartX:(d.width+h.width)/2,yAxisLabelAnchorPoint:h.width/2,yAxisHeight:h.height})}var T={xAxis:bo({axisData:m?E:M,axisSize:m?x:S,axisLayout:u.xAxis,centerYAxis:i,rotatable:_i(l),labelMargin:null===(t=l.xAxis)||void 0===t||null===(n=t.label)||void 0===n?void 0:n.margin}),yAxis:m?M:E,secondaryYAxis:r,centerYAxis:i};Di(o.axes,T)&&this.notify(o,"layout"),o.axes=T}},computed:{},observe:{updateAxes:function(){this.dispatch("setAxesData")}}},Oo=So;n(1235),n(6781),n(2144),n(2994),n(3675),n(5825),n(7170),n(8857),n(8329),n(6279),n(427),n(1159),n(2516),n(4349),n(5273),n(6729),n(1801),n(574),n(5787),n(9271),n(3160),n(5688),n(3157),n(3333),n(315),n(8314),n(556),n(9224);function Co(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Eo(e){return Po(e)||To(e)||Ao(e)||Mo()}function Mo(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ao(e,t){if(e){if("string"===typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(e,t):void 0}}function To(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Po(e){if(Array.isArray(e))return Ro(e)}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Do={xls:"data:application/vnd.ms-excel;base64,",csv:"data:text/csv;charset=utf-8,%EF%BB%BF"};function _o(){var e,t=!E(document.createElement("a").download),n=!E(window.Blob&&window.navigator.msSaveOrOpenBlob);return n?e=Io:t&&(e=No),e}function jo(e){for(var t=e.substr(0,e.indexOf(";base64,")).substr(e.indexOf(":")+1),n=1024,r=atob(e.substr(e.indexOf(",")+1)),i=[],o=0;o<r.length;o+=n){for(var a=r.slice(o,o+n),s=new Array(a.length),l=0;l<a.length;l+=1)s[l]=a.charCodeAt(l);i.push(new window.Uint8Array(s))}try{return new Blob(i,{type:t})}catch(c){return new Blob(i.map((function(e){return e.buffer})),{type:t})}}function Lo(e){return"jpeg"===e||"png"===e}function Io(e,t,n,r){var i=Lo(t)?jo(n):new Blob([n],{type:r});window.navigator.msSaveOrOpenBlob(i,"".concat(e,".").concat(t))}function No(e,t,n){if(n){var r=document.createElement("a");r.href=n,r.target="_blank",r.download="".concat(e,".").concat(t),document.body.appendChild(r),r.click(),r.remove()}}function Bo(){var e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((function(e,t,r){return e+n[r-1]+t}))};return e.apply(void 0,arguments).replace(/\n\s*/g,"")}function zo(){var e=!E(document.createElement("a").download),t=!E(window.Blob&&window.navigator.msSaveOrOpenBlob);return!t&&e}function Ho(e,t){return e.reduce((function(e,n,r){var i;return!r||e<(null===n||void 0===n||null===(i=n[t])||void 0===i?void 0:i.length)?n[t].length:e}),0)}function Wo(e){var t=e.series,n=t.bullet.data,r=Ho(n,"markers"),i=Ho(n,"ranges"),o=I(0,i).map((function(e){return"Range ".concat(e+1)})),a=I(0,r).map((function(e){return"Marker ".concat(e+1)}));return n.reduce((function(e,t){var n=t.data,r=t.markers,i=t.name,s=t.ranges,l=o.map((function(e,t){var n=null===s||void 0===s?void 0:s[t];return n?"".concat(n[0]," ~ ").concat(n[1]):""})),c=a.map((function(e,t){var n;return null!==(n=null===r||void 0===r?void 0:r[t])&&void 0!==n?n:""}));return[].concat(Eo(e),[[i,null!==n&&void 0!==n?n:""].concat(Eo(l),Eo(c))])}),[["","Actual"].concat(Eo(o),Eo(a))])}function Fo(e){var t=e.categories,n=e.series,r=t.x;return n.heatmap.data.reduce((function(e,t){var n=t.data,r=t.yCategory;return[].concat(Eo(e),[[r].concat(Eo(n.map((function(e){return M(e)?"":e}))))])}),[[""].concat(Eo(r))])}function Uo(e,t){var n=e.label,r=e.data,i=e.children,o=void 0===i?[]:i;return r&&t.push([n,r]),o.forEach((function(e){return Uo(e,t)})),t}function Vo(e){var t=e.series,n=[["Label","Data"]];return t.treemap.data.forEach((function(e){Uo(e,n)})),n}function qo(e){var t=e.series;return t.bubble.data.reduce((function(e,t){var n=t.name,r=t.data;return[].concat(Eo(e),Eo(r.map((function(e){return M(e)?[]:[n,e.label,String(e.x),e.y,e.r]}))))}),[["Name","Label","X","Y","Radius"]])}function Yo(e){var t,n=e.series,r=null!==(t=e.categories)&&void 0!==t?t:[];return n.boxPlot.data.reduce((function(e,t){var n=t.name,r=t.data,i=t.outliers,o=(null!==r&&void 0!==r?r:[]).map((function(e,t){var n,r=null===(n=(null!==i&&void 0!==i?i:[]).find((function(e){return e[0]===t})))||void 0===n?void 0:n[1],o=r?[].concat(Eo(e),[r]):Eo(e);return o.join()}));return[].concat(Eo(e),[[n].concat(Eo(o))])}),[[""].concat(Eo(r))])}function $o(e){var t,n=e.series,r=null!==(t=e.categories)&&void 0!==t?t:[];return n.pie.data.reduce((function(e,t){var n=t.name,r=t.data,i=Array.isArray(r)?(null!==r&&void 0!==r?r:[]).reduce((function(e,t){var n;return[].concat(Eo(e),[[t.name,null!==(n=t.data)&&void 0!==n?n:""]])}),[]):[[n,null!==r&&void 0!==r?r:""]];return[].concat(Eo(e),Eo(i))}),r.length?[[""].concat(Eo(r))]:[])}function Go(e,t,n){return t.map((function(t,r){if("area"===e&&Array.isArray(n[r]))return n[r].join();var i=n.find((function(e){return t===String($i(e))}));return i?Yi(i):""}))}function Xo(e){var t=e.series,n=e.categories;return Object.keys(t).reduce((function(e,r){var i=t[r].data.map((function(e){var t=e.name,i=e.data,o=!T(te(i))&&B(["line","area","scatter"],r)?Go(r,n,i):i.map((function(e){return Array.isArray(e)?e.join():e}));return[t].concat(Eo(o))}));return[].concat(Eo(e),Eo(i))}),t.gauge?[]:[[""].concat(Eo(n))])}function Ko(e){var t,n=e.series;return t=n.bullet?Wo(e):n.heatmap?Fo(e):n.bubble?qo(e):n.boxPlot?Yo(e):n.pie?$o(e):n.treemap?Vo(e):Xo(e),t}function Zo(e){var t="<table>";return e.forEach((function(e,n){var r=0===n?"th":"td";t+="<tr>",e.forEach((function(e,i){var o=0!==n||0===i?' class="number"':"",a="<".concat(r).concat(o,">").concat(e,"</").concat(r,">");t+=a})),t+="</tr>"})),t+="</table>",t}function Jo(e){return Bo(ko||(ko=Co(['<html xmlns:o="urn:schemas-microsoft-com:office:office"\n        xmlns:x="urn:schemas-microsoft-com:office:excel"\n        xmlns="http://www.w3.org/TR/REC-html40">\n        <head>\n            \x3c!--[if gte mso 9]>\n                <xml>\n                    <x:ExcelWorkbook>\n                        <x:ExcelWorksheets>\n                            <x:ExcelWorksheet>\n                                <x:Name>Ark1</x:Name>\n                                <x:WorksheetOptions>\n                                    <x:DisplayGridlines/>\n                                </x:WorksheetOptions>\n                            </x:ExcelWorksheet>\n                        </x:ExcelWorksheets>\n                        </x:ExcelWorkbook>\n                </xml>\n            <![endif]--\x3e\n            <meta name=ProgId content=Excel.Sheet>\n            <meta charset=UTF-8>\n        </head>\n        <body>\n            ',"\n        </body>\n        </html>"])),Zo(e))}function Qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lineDelimiter,r=void 0===n?"\n":n,i=t.itemDelimiter,o=void 0===i?",":i,a=e.length-1,s="";return e.forEach((function(e,t){var n=e.length-1;e.forEach((function(e,t){var r=T(e)?e:'"'.concat(e,'"');s+=r,t<n&&(s+=o)})),t<a&&(s+=r)})),s}function ea(e,t,n,r){var i=_o();P(n)&&i&&i(e,t,n,r)}function ta(e,t,n){var r=Ko(n),i=Do[t].replace(/(data:|;base64,|,%EF%BB%BF)/g,""),o="";o="csv"===t?Qo(r):Jo(r),zo()&&("csv"!==t&&(o=window.btoa(unescape(encodeURIComponent(o)))),o=Do[t]+o),ea(e,t,o,i)}function na(e){return na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(e)}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t,n){return t&&ia(e.prototype,t),n&&ia(e,n),e}function aa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}function sa(e,t){return sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sa(e,t)}function la(e){var t=fa();return function(){var n,r=da(e);if(t){var i=da(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ca(this,n)}}function ca(e,t){return!t||"object"!==na(t)&&"function"!==typeof t?ua(e):t}function ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function da(e){return da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},da(e)}function ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pa=140,va={IMAGES:["png","jpeg"],SPREAD_SHEETS:["xls","csv"]},ma=24,ya=function(e){aa(n,e);var t=la(n);function n(){var e;ra(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),ha(ua(e),"responders",void 0),ha(ua(e),"models",{exportMenuButton:[]}),ha(ua(e),"opened",!1),ha(ua(e),"fileName",void 0),ha(ua(e),"data",void 0),ha(ua(e),"chartEl",void 0),ha(ua(e),"exportMenuEl",void 0),ha(ua(e),"theme",void 0),ha(ua(e),"chartBackgroundColor",void 0),ha(ua(e),"chartWidth",0),ha(ua(e),"toggleExportMenu",(function(){e.opened=!e.opened,e.models.exportMenuButton[0].opened=e.opened,e.eventBus.emit("needDraw"),e.opened?(e.applyPanelWrapperStyle(),e.chartEl.appendChild(e.exportMenuEl)):e.chartEl.removeChild(e.exportMenuEl)})),ha(ua(e),"getCanvasExportBtnRemoved",(function(){var t=e.chartEl.getElementsByTagName("canvas")[0],n=t.getContext("2d"),r=e.rect,i=r.x,o=r.y,a=r.height,s=r.width;return n.clearRect(i,o,s,a),n.fillStyle=e.chartBackgroundColor,n.fillRect(i,o,s,a),t})),ha(ua(e),"onClickExportButton",(function(t){var n=t.target.id,r=va.IMAGES.includes(n),i=va.SPREAD_SHEETS.includes(n);if(r){var o=e.getCanvasExportBtnRemoved();ea(e.fileName,n,o.toDataURL("image/".concat(n),1))}else i&&ta(e.fileName,n,e.data);(r||i)&&e.toggleExportMenu()})),e}return oa(n,[{key:"applyExportButtonPanelStyle",value:function(){var e=this.exportMenuEl.querySelector(".toastui-chart-export-menu-title"),t=this.exportMenuEl.querySelector(".toastui-chart-export-menu-btn-wrapper");e.setAttribute("style",this.makePanelStyle("header")),t.setAttribute("style",this.makePanelStyle("body"))}},{key:"makeExportMenuButton",value:function(){var e=document.createElement("div");return e.onclick=this.onClickExportButton,e.innerHTML='\n        <div class="toastui-chart-export-menu">\n          <p class="toastui-chart-export-menu-title">Export to</p>\n          <div class="toastui-chart-export-menu-btn-wrapper">\n            <button class="toastui-chart-export-menu-btn" id="xls">xls</button>\n            <button class="toastui-chart-export-menu-btn" id="csv">csv</button>\n            <button class="toastui-chart-export-menu-btn" id="png">png</button>\n            <button class="toastui-chart-export-menu-btn" id="jpeg">jpeg</button>\n          </div>\n        </div>\n      ',e}},{key:"initialize",value:function(e){var t=e.chartEl;this.chartEl=t,this.type="exportMenu",this.name="exportMenu",this.exportMenuEl=this.makeExportMenuButton()}},{key:"onClick",value:function(e){var t=e.responders;t.length&&this.toggleExportMenu()}},{key:"getFileName",value:function(e){var t;return P(e)?e:null!==(t=null===e||void 0===e?void 0:e.text)&&void 0!==t?t:"toast-ui-chart"}},{key:"render",value:function(e){var t,n=e.options,r=e.layout,i=e.chart,o=e.series,a=e.rawCategories,s=e.theme;this.isShow=ys(n),this.chartWidth=i.width,this.isShow&&(this.chartBackgroundColor=s.chart.backgroundColor,this.theme=s.exportMenu,this.data={series:o,categories:a},this.fileName=this.getFileName((null===n||void 0===n||null===(t=n.exportMenu)||void 0===t?void 0:t.filename)||i.title),this.applyExportButtonPanelStyle(),this.rect=r.exportMenu,this.models.exportMenuButton=[{type:"exportMenuButton",x:0,y:0,opened:this.opened,theme:this.theme.button}],this.responders=[{type:"rect",width:ma,height:ma,x:0,y:0}])}},{key:"applyPanelWrapperStyle",value:function(){var e=this.exportMenuEl.querySelector(".toastui-chart-export-menu"),t=this.chartWidth-pa-qa.X,n=qa.Y+ma+5,r=this.theme.panel,i=r.borderRadius,o=r.borderWidth,a=r.borderColor,s="\n      transform: ".concat(at(t,n),";\n      border: ").concat(o,"px solid ").concat(a,";\n      border-radius: ").concat(i,"px;");e.setAttribute("style",s)}},{key:"makePanelStyle",value:function(e){var t=this.theme.panel[e],n="header"===e?"top":"bottom",r=this.theme.panel,i=r.borderRadius,o=r.borderWidth,a="".concat(i-o,"px");return["".concat(lt(t)),"border-".concat(n,"-left-radius: ").concat(a,";"),"border-".concat(n,"-right-radius: ").concat(a,";"),"background-color: ".concat(t.backgroundColor,";")].join("")}}]),n}(Kn);function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(e,t){var n=t.x,r=t.y,i=t.text,o=t.textAlign,a=t.textBaseline,s=t.opacity,l=t.callout,c=t.theme,u=t.radian,f=c.color,d=c.textBubble,h=ct(c),p={textAlign:o,textBaseline:a,font:h,fillStyle:f},v=Ma(c);if(l){var m=l.theme,y=m.lineWidth,g=m.lineColor;Xt(e,ba(ba({type:"line"},z(l,"x","y","x2","y2")),{},{strokeStyle:g,lineWidth:y}))}null!==d&&void 0!==d&&d.visible?ka(e,t):yt(e,{type:"label",x:n,y:r,text:i,style:[p],stroke:[v],opacity:s,radian:u})}function ka(e,t){var n=t.text,r=t.theme,i=t.radian,o=void 0===i?0:i,a=r,s=a.color,l=a.textStrokeColor,c=ct(r),u=Oa(t),f=u.x,d=u.y,h=u.width,p=u.height;bt(e,{type:"bubbleLabel",radian:o,rotationPosition:{x:t.x,y:t.y},bubble:u,label:{x:f+h/2,y:d+p/2,text:n,style:[{font:c,fillStyle:s,textAlign:"center",textBaseline:"middle"}],strokeStyle:l}})}function Sa(e,t,n){var r=t.x,i=t.y,o=n.width,a=n.height,s=[];return"top"===e?s=[{x:r-o/2,y:i+a},{x:r,y:i},{x:r+o/2,y:i+a}]:"bottom"===e?s=[{x:r+o/2,y:i-a},{x:r,y:i},{x:r-o/2,y:i-a}]:"right"===e?s=[{x:r-a,y:i-o/2},{x:r,y:i},{x:r-a,y:i+o/2}]:"left"===e&&(s=[{x:r+a,y:i+o/2},{x:r,y:i},{x:r+a,y:i-o/2}]),s}function Oa(e){var t=e.text,n=e.theme,r=e.textAlign,i=e.textBaseline,o=ct(n),a=n.textBubble,s=a.arrow,l=a.paddingX,c=a.paddingY,u=a.borderRadius,f=a.borderColor,d=a.borderWidth,h=a.backgroundColor,p=a.shadowBlur,v=a.shadowOffsetX,m=a.shadowOffsetY,y=a.shadowColor,g=cn(t,o),b=g+2*l,w=un(t,o)+2*c,x=e.x,k=e.y;"center"===r?x-=b/2:B(["right","end"],r)&&(x-=b),"middle"===i?k-=w/2:"bottom"===i&&(k-=w);var S={x:x,y:k,width:b,height:w};return ba(ba({},S),{},{radius:u,lineWidth:d,fill:h,strokeStyle:f,style:[{shadowBlur:p,shadowOffsetX:v,shadowOffsetY:m,shadowColor:y}]},Ca(S,r,i,s))}function Ca(e,t,n,r){var i;if(null===r||void 0===r||!r.visible)return null;var o=r.height,a=e.width,s=e.height,l=null!==(i=r.direction)&&void 0!==i?i:Ea(t,n),c=e.x,u=e.y,f=e.x,d=e.y;return"top"===l?u+=o:"bottom"===l?(u-=o,d+=s):"right"===l?(c-=o,f+=a):"left"===l&&(c+=o),"center"===t?f=e.x+a/2:"middle"===n&&(d=e.y+s/2),{direction:l,points:Sa(l,{x:f,y:d},r),x:c,y:u}}function Ea(e,t){var n="top";return"center"===e&&"top"===t?n="top":"center"===e&&"bottom"===t?n="bottom":"middle"===t&&"right"===e?n="right":"middle"===t&&"left"===e&&(n="left"),n}function Ma(e){var t=e.textStrokeColor,n=z(e,"lineWidth","shadowColor","shadowBlur");return t&&(n.strokeStyle=t),n}function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){Pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ra=12,Da={HEIGHT:6,PADDING:5},_a={HEIGHT:28,POINT_WIDTH:8,POINT_HEIGHT:6,PADDING:6};function ja(e){var t,n,r=e.align,i=e.x,o=e.y,a=e.labels,s=e.width,l=Da.PADDING;return"top"===r?(t=i,n=o+Ra+l):"bottom"===r?(t=i,n=o+_a.HEIGHT):"left"===r?(t=i+Mn(a)+l,n=o+Ra/2):(t=i+s-(Mn(a)+qa.X+2*l+Da.HEIGHT),n=o+Ra/2),{x:t,y:n}}function La(e){var t,n,r=e.align,i=e.x,o=e.y,a=e.labels,s=e.width;return"top"===r?(t=i,n=o):"bottom"===r?(t=i,n=o+_a.HEIGHT+Da.HEIGHT+Da.PADDING):"left"===r?(t=i+Mn(a),n=o):(t=i+s-Mn(a)-qa.X,n=o),{x:t,y:n}}function Ia(e,t,n){var r=Da.HEIGHT,i=n?e:r,o=n?r:t-Ra;return{barWidth:i,barHeight:o}}function Na(e,t){var n=t.labels,r=t.align,i=t.x,o=t.y,a=t.width,s=t.height,l=t.verticalAlign,c=Ia(a,s,l),u=c.barWidth,f=c.barHeight,d=n.length-1,h={left:{textAlign:"right",textBaseline:"top"},right:{textAlign:"left",textBaseline:"top"},top:{textAlign:"center",textBaseline:"top"},bottom:{textAlign:"center",textBaseline:"top"}};n.forEach((function(t,n){var a=l?i+u/d*n:i,s=l?o:o+f/d*n;yt(e,{type:"label",x:a,y:s,text:t,style:["default",h[r]]})}))}function Ba(e,t){var n=t.width,r=t.height,i=t.startColor,o=t.endColor,a=t.x,s=t.y,l=t.verticalAlign,c=Ia(n,r,l),u=c.barWidth,f=c.barHeight,d=l?e.createLinearGradient(a,s,a+u,s):e.createLinearGradient(a,s,a,s+f);d.addColorStop(0,i),d.addColorStop(1,o),e.fillStyle=d,e.fillRect(a,s,u,f)}function za(e){var t=e.align,n=e.colorRatio,r=e.width,i=e.height,o=e.x,a=e.y,s=e.labels,l=e.verticalAlign,c=Ia(r,i,l),u=c.barWidth,f=c.barHeight,d=Da.PADDING,h=Da.HEIGHT;return"top"===t?{x:o+u*n,y:a+Ra+h+2*d}:"bottom"===t?{x:o+u*n,y:a+Ra+2*d}:"left"===t?{x:o+Mn(s)+h+2*d,y:a+f*n+d}:"right"===t?{x:o+r-(Mn(s)+qa.X+3*d+h),y:a+f*n+d}:void 0}function Ha(e,t){var n=La(t),r=ja(t);Na(e,Ta(Ta({},t),n)),Ba(e,Ta(Ta({},t),r))}function Wa(e,t){var n=za(t),r=n.x,i=n.y,o=_a.PADDING,a=_a.POINT_HEIGHT,s=_a.POINT_WIDTH,l=t.align,c=t.text,u=t.color,f=cn(c),d=f+2*o,h=Ra+2*o,p=l,v=r,m=i;"top"===l?m+=a:"right"===l?(v-=d/2+a,m-=h/2):"left"===l?(v+=d/2+a,m-=h/2):"bottom"===l&&(m-=h+a);var y=Sa(l,{x:r,y:i},{visible:!0,width:s,height:a});bt(e,{type:"bubbleLabel",bubble:{x:v-d/2,y:m,width:d,height:h,points:y,direction:p,fill:u},label:{text:c,x:v,y:m+h/2,style:[{font:"normal 11px Arial",fillStyle:"#333333",textAlign:"center",textBaseline:"middle"}]}})}function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){Va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qa={X:10,Y:15},Ya=20,$a=40;function Ga(e){return"top"===e||"bottom"===e}function Xa(e,t,n){var r,i;return{height:null!==(r=null===e||void 0===e?void 0:e.height)&&void 0!==r?r:n,width:null!==(i=null===e||void 0===e?void 0:e.width)&&void 0!==i?i:t}}function Ka(e){var t;return null!==(t=e.xAxis)&&void 0!==t&&t.height&&!e.yAxis?e.xAxis.height:Ya}function Za(e){var t=e.yAxisTitle,n=e.isRightSide,r=e.visibleSecondaryYAxis,i=es(e);return n&&r?Math.max(t.x+t.width-i,0):t.x}function Ja(e){var t=e.chartSize,n=e.legend,r=e.circleLegend,i=e.hasCenterYAxis,o=e.maxLabelWidth,a=t.width,s=n.align,l=es(e),c=Za(e);return i&&(l=o+2*(Jt+qa.X),c=(a-n.width-l+2*qa.X)/2),n.visible&&"left"===s&&(c=Za(e)),r.visible&&"left"===s&&(c=Math.max(r.width+qa.X,c)),c}function Qa(e){var t=e.yAxisTitle;return t.y+t.height}function es(e){var t,n,r=e.maxLabelWidth,i=e.size,o=e.isRightSide;return null!==(t=null===i||void 0===i||null===(n=i[o?"secondaryYAxis":"yAxis"])||void 0===n?void 0:n.width)&&void 0!==t?t:r}function ts(e){var t=e.hasCenterYAxis,n=e.hasXYAxis,r=e.maxLabelWidth,i=e.visibleSecondaryYAxis,o=void 0!==i&&i,a=e.isRightSide,s=void 0!==a&&a,l=es(e);return t&&!s?l=r+2*(Jt+qa.X):(!n||s&&!o)&&(l=0),l}function ns(e){var t,n,r=e.chartSize,i=e.legend,o=e.yAxisTitle,a=e.hasXYAxis,s=e.size,l=e.xAxisTitleHeight,c=r.height,u=i.align,f=i.height,d=Ka(s),h=o.y+o.height,p=c-h-d-l;if(a||(p=c-h),i.visible){var v=Math.max(h,f);"top"===u?p=c-v-(a?Ya+l:0):"bottom"===u&&(p=c-h-Ya-l-f)}return null!==s&&void 0!==s&&null!==(t=s.yAxis)&&void 0!==t&&t.height||null===s||void 0===s||null===(n=s.plot)||void 0===n||!n.height||(p=s.plot.height),p}function rs(e){var t=e.size,n=e.isRightSide,r=void 0!==n&&n,i=Ja(e),o=Qa(e),a=ts(e),s=ns(e);return Ua({x:i,y:o},Xa(r?null===t||void 0===t?void 0:t.secondaryYAxis:null===t||void 0===t?void 0:t.yAxis,a,s))}function is(e){var t,n=e.chartSize,r=e.yAxis,i=e.hasCenterYAxis,o=e.legend,a=e.circleLegend,s=e.secondaryYAxis,l=e.xAxisData,c=n.width,u=o.align,f=o.width,d=Ga(u);return d?(t=c-(r.x+r.width+qa.X),a.visible&&(t-=a.width)):t=c-(r.width+Math.max(f,a.visible?a.width:0)),i&&(t=c-(d?0:f)-2*qa.X),s.width&&(t-=s.width),null!==l&&void 0!==l&&l.maxLabelWidth&&(t-=.5*l.maxLabelWidth),t}function os(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?null!==(t=null===e||void 0===e?void 0:e.maxHeight)&&void 0!==t?t:Ya:0}function as(e){var t=e.hasXYAxis,n=e.hasCenterYAxis,r=e.yAxis,i=e.size,o=e.xAxisData,a=n?2*qa.X:r.x+r.width,s=r.y+r.height,l=is(e),c=os(o,t);return Ua({x:a,y:s},Xa(null===i||void 0===i?void 0:i.xAxis,l,c))}function ss(e){var t=e.legend,n=e.xAxis,r=e.yAxis,i=e.chartSize,o=e.title,a=e.hasXYAxis,s=e.secondaryYAxis,l=e.xAxisTitleHeight;if(!t.visible)return{x:0,y:0,width:0,height:0};var c=t.align,u=t.width,f=t.height,d=i.width,h=Ga(c),p=n.x+n.width+s.width+qa.X,v=Math.max(r.y,ma);return h?(p=(d-u)/2,v="top"===c?o.y+o.height:r.y+r.height+(a?n.height+l:qa.Y)):"left"===c&&(p=qa.X),{width:u,height:f,x:p,y:v}}function ls(e,t,n,r){return{width:r,height:t.height,x:"left"===n?qa.X:e.x+e.width+qa.X,y:t.y}}function cs(e,t,n){return Ua({x:e.x,y:t.y},Xa(n,e.width,t.height))}function us(e,t,n,r){var i={x:qa.X,y:qa.Y},o=5,a=n?e.width-t.width:0,s=n?Math.max(r+o,t.height):t.height;return Ua({width:a,height:s},i)}function fs(e,t){return e?Ra+2*Da.PADDING+_a.POINT_HEIGHT+_a.HEIGHT+qa.Y:t+qa.Y}function ds(e){var t=e.chartSize,n=e.visible,r=e.title,i=e.legend,o=i.align,a=i.width,s=i.height,l=i.visible,c=i.useSpectrumLegend,u=e.hasCenterYAxis,f=e.visibleSecondaryYAxis,d=e.isRightSide,h=void 0!==d&&d,p=e.yAxisTitleHeight,v=5,m=n?p+v:0,y=Ga(o),g=(t.width-(y?2*qa.X:a))/(f?2:1),b={x:h?r.x+g:r.x,y:r.y+r.height};return l&&("left"===o?b.x+=a:"top"===o&&(b.y+=fs(c,s))),u&&(b.x=(g+2*qa.X)/2),Ua({height:m,width:g},b)}function hs(e,t,n){var r={x:t.x,y:t.y+t.height},i=e?n:0,o=e?t.width:0;return Ua({height:i,width:o},r)}function ps(e,t){var n=5,r=t?qa.X+e.width-ma:qa.X+e.width,i=qa.Y,o=t?ma+n:0,a=t?ma:0;return{x:r,y:i,height:o,width:a}}function vs(e,t){var n=5,r=t?e.x-ma-qa.X:0,i=t?e.y:0,o=t?ma+n:0,a=t?ma:0;return{x:r,y:i,height:o,width:a}}function ms(e){var t;return!(null===(t=e.series)||void 0===t||!t.zoomable)}function ys(e){var t,n=null===(t=e.exportMenu)||void 0===t?void 0:t.visible;return!!E(n)||n}function gs(e){return e?e+qa.X:$a}function bs(e){return!e||E(e.width)&&E(e.height)?null:z(e,"width","height")}function ws(e,t,n){var r=e[n],i=t[n];if(T(r)&&T(i))return Math.max(r,i)}function xs(e){var t=bs(e.xAxis),n=Oi(e),r=bs(n.yAxis),i=bs(n.secondaryYAxis),o=bs(e.plot);return o&&(t&&(t.width=o.width=ws(t,o,"width")),r&&(r.height=o.height=ws(r,o,"height")),i&&(i.height=o.height=ws(i,o,"height"))),{xAxis:t,yAxis:r,plot:o,secondaryYAxis:i}}function ks(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Array.isArray(e)?Math.max(e[0].title.fontSize,e[1].title.fontSize):e.title.fontSize;return n+t}function Ss(e,t,n){var r=e.width,i=e.height;if(!(r<0||i<0)){var o=t.title,a=t.yAxisTitle,s=t.yAxis,l=t.xAxis,c=t.xAxisTitle,u=t.legend,f=t.secondaryYAxis,d=n.align,h=Ga(d),p=h?u.height:0,v=l.height+c.height+s.height+a.height+o.height+p-i;v>0&&(s.height-=v,l.y-=v,c.y-=v,h&&(u.y-=v)),f.x=l.x+l.width,f.height=s.height}}function Os(e,t,n){var r;if(!n)return Ua({},e);var i=e.x,o=e.y,a=n.centerX,s=n.centerY,l=n.axisSize,c=n.title,u=n.radius.outer,f=null!==(r=null===c||void 0===c?void 0:c.offsetY)&&void 0!==r?r:0;return{x:a+i-l/2,y:s+o-u/2,width:l,height:t.title.fontSize+f}}function Cs(e){return!(e.pie||e.radar||e.treemap||e.radialBar||e.gauge)}function Es(e,t){return t?Oi(e):{yAxis:null,secondaryYAxis:null}}var Ms={name:"layout",state:function(){return{layout:{}}},action:{setLayout:function(e){var t,n,r,i,o,a,s,l,c,u=e.state,f=u.legend,d=u.theme,h=u.circleLegend,p=u.series,v=u.options,m=u.chart,y=u.axes,g=u.radialAxes,b=m.width,w=m.height,x={height:w-2*qa.Y,width:b-2*qa.X},k=!!p.bar&&co(v),S=Cs(p),O=xs(v),C=Es(v,S),E=C.yAxis,M=C.secondaryYAxis,A=!!M,T=d.title.fontSize,P=null!==(t=ks(d.yAxis,null===y||void 0===y||null===(n=y.yAxis)||void 0===n||null===(r=n.title)||void 0===r?void 0:r.offsetY))&&void 0!==t?t:0,R=null!==(i=ks(d.xAxis,null===y||void 0===y||null===(o=y.xAxis)||void 0===o||null===(a=o.title)||void 0===a?void 0:a.offsetY))&&void 0!==i?i:0,D=ps(x,ys(v)),_=vs(D,ms(v)),j=D.height?D:_,L=us(x,j,!(null===(s=v.chart)||void 0===s||!s.title),T),I=!(null===E||void 0===E||!E.title)||!(null===M||void 0===M||!M.title),N=ds({chartSize:x,visible:I,title:L,legend:f,hasCenterYAxis:k,visibleSecondaryYAxis:A,yAxisTitleHeight:P}),B=rs({chartSize:x,legend:f,circleLegend:h,yAxisTitle:N,hasCenterYAxis:k,hasXYAxis:S,maxLabelWidth:gs(null===y||void 0===y?void 0:y.yAxis.maxLabelWidth),size:O,xAxisTitleHeight:R}),z=ds({chartSize:x,visible:I,title:L,legend:f,hasCenterYAxis:k,isRightSide:!0,visibleSecondaryYAxis:A,yAxisTitleHeight:P}),H=rs({chartSize:x,legend:f,circleLegend:h,yAxisTitle:z,hasCenterYAxis:k,hasXYAxis:S,maxLabelWidth:gs(null===y||void 0===y||null===(l=y.secondaryYAxis)||void 0===l?void 0:l.maxLabelWidth),size:O,isRightSide:!0,visibleSecondaryYAxis:A,xAxisTitleHeight:R}),W=as({chartSize:x,yAxis:B,secondaryYAxis:H,legend:f,circleLegend:h,hasCenterYAxis:k,hasXYAxis:S,size:O,xAxisData:null===y||void 0===y?void 0:y.xAxis}),F=hs(!(null===(c=v.xAxis)||void 0===c||!c.title),W,R),U=ss({chartSize:x,xAxis:W,yAxis:B,secondaryYAxis:H,title:L,legend:f,hasXYAxis:S,xAxisTitleHeight:R});Ss(x,{title:L,yAxisTitle:N,yAxis:B,xAxis:W,xAxisTitle:F,legend:U,secondaryYAxis:H},f);var V=ls(W,B,f.align,h.width),q=cs(W,B,O.plot),Y=Os(q,d.circularAxis,null===g||void 0===g?void 0:g.circularAxis);Re(u.layout,{chart:{x:0,y:0,width:b,height:w},title:L,plot:q,legend:U,circleLegend:V,xAxis:W,xAxisTitle:F,yAxis:B,yAxisTitle:N,exportMenu:D,resetButton:_,secondaryYAxisTitle:z,secondaryYAxis:H,circularAxisTitle:Y})}},observe:{updateLayoutObserve:function(){this.dispatch("setLayout")}}},As=Ms;function Ts(e){return Array.isArray(e)&&2===e.length}function Ps(e){return Array.isArray(e)&&Ts(te(e))}function Rs(e,t){return!(!t||0===t[0]&&t[1]===e.length-1)}function Ds(e,t){return t?e.slice(t[0],t[1]+1):e}function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){Ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Is(e,t){if(t)return t;var n=new Set;return Object.keys(e).forEach((function(t){var r;"pie"!==t&&"gauge"!==t&&(null!==(r=e[t].data)&&void 0!==r?r:e[t]).forEach((function(e){var r=e.data,i=e.name,o=e.visible;Array.isArray(r)?r.forEach((function(e){if(!M(e)){var t=$i(e);n.add(T(t)?t:t.toString())}})):("bullet"===t&&E(o)||o)&&n.add(i)}))})),Array.from(n).sort($).map((function(e){return String(e)}))}var Ns={name:"category",state:function(e){var t=e.categories,n=e.series;return{categories:Is(n,t)}},action:{setCategory:function(e){var t=e.state,n=e.computed,r=n.viewRange,i=t.rawCategories;r&&(i=Array.isArray(i)?Ds(i,r):js(js({},i),{},{x:Ds(i.x,r)})),t.categories=i,this.notify(t,"categories")},initCategory:function(e){var t=e.initStoreState,n=e.state,r=n.zoomRange,i=Is(t.series);r&&Array.isArray(i)&&(i=Ds(i,r)),n.categories=i,this.notify(n,"categories")},removeCategoryByName:function(e,t){var n=e.state,r=n.categories.findIndex((function(e){return e===t}));n.categories.splice(r,1),this.notify(n,"axes")}},observe:{updateCategory:function(){this.dispatch("setCategory")}}},Bs=Ns;function zs(e){return Fs(e)||Ws(e)||Gs(e)||Hs()}function Hs(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ws(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Fs(e){if(Array.isArray(e))return Xs(e)}function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ys(e,t){return Zs(e)||Ks(e,t)||Gs(e,t)||$s()}function $s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gs(e,t){if(e){if("string"===typeof e)return Xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xs(e,t):void 0}}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ks(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Zs(e){if(Array.isArray(e))return e}function Js(e,t){var n;return n=t?Array.isArray(t)?t.length:t.x.length:Object.keys(Is(e,t)).length,[0,n-1]}function Qs(e,t,n){var r;if((e.line||e.area)&&null!==(r=t.series)&&void 0!==r&&r.zoomable)return Js(e,n)}function el(e,t,n){var r;if((e.line||e.area||e.column||e.heatmap)&&null!==(r=t.series)&&void 0!==r&&r.shift)return Js(e,n)}function tl(e,t,n){var r,i,o=Ys(n,2),a=o[0],s=o[1];return I(a,s+1).forEach((function(n){var o,a=e.findIndex((function(e){return $i(e).toString()===t[n]}));-1!==a&&(E(r)&&(r=a),E(r)||(i=Math.max(a,null!==(o=i)&&void 0!==o?o:0)))})),[r,i]}function nl(e,t,n,r){return r?e.slice(0,n+1):e[t%e.length]}function rl(e,t,n,r){if(!r)return e;var i=Ys(r,2),o=i[0],a=i[1],s=te(e),l="area"!==n&&!E(s)&&!T(s);if(l){var c=tl(e,t,r),u=Ys(c,2);o=u[0],a=u[1]}else o=o>1?o-1:o,a=a<t.length-1?a+1:a;return e.slice(o,a+1)}function il(e,t){return Zi(e)&&(E(t)||"line"===t||"scatter"===t)}function ol(e,t,n){return e[t].some((function(e){var t=e.label;return t===n.name}))}function al(e,t){return e.treemap.some((function(e){var n=e.label;return n===t.label}))}function sl(e,t){return B(e.y,t)}function ll(e){var t=Fr(e),n=[];return t?e.pie.forEach((function(e){var t=e.data;t.forEach((function(e){A(e.visible)&&!e.visible&&n.push(e.name)}))})):Object.keys(e).forEach((function(t){e[t].forEach((function(e){var t=e.name,r=e.visible;A(r)&&!r&&n.push(t)}))})),n}var cl={name:"seriesData",state:function(e){var t=e.series,n=e.categories,r=e.options;return{rawCategories:Is(t,n),series:Vs({},t),zoomRange:Qs(t,r,n),shiftRange:el(t,r,n),disabledSeries:ll(t)}},action:{setSeriesData:function(e){var t=e.state,n=e.initStoreState,r=Y(n.series),i=t.disabledSeries,o=t.theme,a=t.zoomRange,s=t.rawCategories,l={},c=0;Object.keys(r).forEach((function(e){var t,n,u,f=o.series[e],d=f.colors,h=f.iconTypes,p=r[e].map((function(t){var n=!!t.colorByCategories,r=n?s.length:1,i=d?nl(d,c,r,n):"";return c+=r,Vs(Vs({},t),{},{rawData:t.data,data:rl(t.data,s,e,a),color:i})}));"scatter"===e&&(p=p.map((function(e,t){return Vs(Vs({},e),{},{iconType:h?h[t]:"circle"})})));var v=p.length,m=null!==(t=null===(n=p[0])||void 0===n||null===(u=n.data)||void 0===u?void 0:u.length)&&void 0!==t?t:0,y=p.filter((function(e){var t=e.name;return!i.includes(t)}));l[e]={seriesCount:v,seriesGroupCount:m,data:y,colors:d}})),Re(t.series,l)},disableSeries:function(e,t){var n=e.state;n.disabledSeries.push(t),this.notify(n,"disabledSeries"),n.series.bullet&&this.dispatch("removeCategoryByName",t)},enableSeries:function(e,t){var n=e.state,r=n.disabledSeries.findIndex((function(e){return e===t}));n.disabledSeries.splice(r,1),this.notify(n,"disabledSeries"),n.series.bullet&&(n.categories=n.series.bullet.data.map((function(e){var t=e.name;return t})),this.notify(n,"axes"))},zoom:function(e,t){var n=e.state,r=n.rawCategories;n.zoomRange=t.map((function(e){return r.findIndex((function(t){return t===e}))})),this.notify(n,"zoomRange")},resetZoom:function(e){var t=e.state,n=e.initStoreState,r=n.series,i=n.options,o=t.rawCategories;t.zoomRange=Qs(r,i,o),this.notify(t,"zoomRange")},addData:function(e,t){var n=e.state,r=e.initStoreState,i=t.data,o=t.category,a=t.chartType,s=r.series,l=il(n.series,a),c=r.categories;if(c=s.heatmap?c.x:c,o&&Array.isArray(c)){var u=c.some((function(e){return e===o}));if(!u&&(c.push(o),Array.isArray(n.shiftRange))){var f=Ys(n.shiftRange,2),d=f[0],h=f[1];n.shiftRange=[d+1,h+1]}}if(a)s[a].forEach((function(e,t){e.data.push(i[t])}));else{var p=Object.keys(r.series),v=Ys(p,1),m=v[0];s[m].forEach((function(e,t){e.data.push(i[t])}))}this.notify(n,"series"),this.notify(n,"rawCategories"),Array.isArray(n.zoomRange)&&this.dispatch("resetZoom"),l&&this.dispatch("initCategory")},addSeries:function(e,t){var n=e.state,r=e.initStoreState,i=t.data,o=t.chartType,a=t.category,s=r.series,l=r.categories,c=il(n.series,o),u=o||Object.keys(s)[0],f=ol(s,u,i);f||(s[u].push(i),Array.isArray(l)&&a&&l.push(a)),this.dispatch("initThemeState"),this.dispatch("initLegendState"),this.notify(n,"series"),(c||"bullet"===u)&&this.dispatch("initCategory")},addHeatmapSeries:function(e,t){var n=e.state,r=e.initStoreState,i=t.data,o=t.category,a=r.series,s=r.categories,l=sl(s,o);l||a.heatmap.push({data:i,yCategory:o}),!l&&o&&(s.y.push(o),this.notify(n,"rawCategories")),this.notify(n,"series"),this.dispatch("initThemeState"),this.dispatch("initLegendState")},addTreemapSeries:function(e,t){var n=e.state,r=e.initStoreState,i=t.data,o=r.series,a=al(o,i);a||o.treemap.push(i),this.notify(n,"series"),this.notify(n,"treemapSeries"),this.dispatch("initThemeState"),this.dispatch("initLegendState")},setData:function(e,t){var n=e.state,r=e.initStoreState,i=t.series,o=t.categories;r.series=i;var a=Fr(i);a||(n.rawCategories=Is(i,o)),this.dispatch("initThemeState"),this.dispatch("initLegendState")},addOutlier:function(e,t){var n,r=e.state,i=e.initStoreState,o=t.seriesIndex,a=t.outliers,s=i.series,l=s.boxPlot[o];if(!l)throw new Error(ae.SERIES_INDEX_ERROR);l.outliers=[].concat(zs(null!==(n=l.outliers)&&void 0!==n?n:[]),zs(a)),this.notify(r,"series")}},observe:{updateSeriesData:function(){this.dispatch("setSeriesData")}},computed:{isLineTypeSeriesZooming:function(e){var t=e.zoomRange,n=e.rawCategories;return Rs(n,t)},viewRange:function(e){var t=e.zoomRange,n=e.shiftRange;return t||n}}},ul=cl;n(4870),n(3985),n(7890);function fl(e,t){var n=t.color,r=t.points,i=t.lineWidth,o=t.fillColor,a=t.dashSegments,s=void 0===a?[]:a;r.length&&(e.beginPath(),s&&ut(e,s),r.forEach((function(t,n){var r=t.x,i=t.y;0!==n?e.lineTo(r,i):e.moveTo(r,i)})),e.lineTo(r[0].x,r[0].y),o&&dt(e,o),ht(e,{lineWidth:i,strokeStyle:n}),e.closePath())}function dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dl(Object(n),!0).forEach((function(t){pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vl(e,t){var n=t.numberOfSides,r=t.size,i=t.x,o=t.y,a=t.borderColor,s=t.borderWidth,l=t.fillColor,c=r/2,u=n%2?Math.PI/180*(10+(n-3)/2)*n:0,f=2*Math.PI/n;e.beginPath();for(var d=0;d<=n;d+=1){var h=d*f+u;e.lineTo(i+c*Math.cos(h),o+c*Math.sin(h))}e.strokeStyle=a,e.lineWidth=s,dt(e,l),e.stroke(),e.closePath()}function ml(e,t){var n=t.x,r=t.y,i=t.borderColor,o=t.borderWidth,a=t.size,s=t.fillColor;e.lineWidth=o,e.strokeStyle=i,e.fillStyle=s,e.save(),e.beginPath(),e.translate(n,r),e.moveTo(0,-a);for(var l=0;l<5;l+=1)e.rotate(Math.PI/5),e.lineTo(0,-a/2),e.rotate(Math.PI/5),e.lineTo(0,-a);e.fill(),e.stroke(),e.restore(),e.closePath()}function yl(e,t){for(var n=t.x,r=t.y,i=t.borderColor,o=t.borderWidth,a=t.size,s=t.fillColor,l=a/4,c=a/2,u=[-c,-c,-l,-l,l,l,c,c,l,l,-l,-l],f=[],d=0,h=u.length;d<h;d+=1){var p=9;f.push(u[(p+d)%h])}fl(e,{type:"polygon",lineWidth:o,color:i,points:u.map((function(e,t){return{x:n+e,y:r+f[t]}})),fillColor:s})}function gl(e){switch(e){case"triangle":return 3;case"diamond":return 4;case"pentagon":return 5;case"hexagon":return 6}}function bl(e,t){var n=t.x,r=t.y,i=t.borderColor,o=t.borderWidth,a=t.fillColor,s=t.iconType,l=t.size,c={x:n,y:r,fillColor:a,borderColor:i,borderWidth:o,size:l};switch(e.beginPath(),s){case"rect":$t(e,{type:"pathRect",x:n-l/2,y:r-l/2,width:l,height:l,stroke:i,lineWidth:o,fill:a});break;case"triangle":case"pentagon":case"diamond":case"hexagon":vl(e,hl({type:"regularPolygon",numberOfSides:gl(s)},c));break;case"star":ml(e,hl(hl({type:"star"},c),{},{size:l/2}));break;case"cross":yl(e,hl({type:"cross"},c));break;default:Gt(e,{type:"circle",x:n,y:r,radius:l/2,style:[{strokeStyle:i,lineWidth:o}],color:a})}e.stroke(),e.closePath()}var wl=40,xl=5,kl=12,Sl=12,Ol=1.5,Cl=.3,El=10,Ml=2,Al=6;function Tl(e){return e+qa.Y}function Pl(e,t,n,r){var i=[2,2,6,6,10,10],o=[8,0,0,8,8,0];i.forEach((function(a,s){5!==s&&Xt(e,{type:"line",x:t+a,y:n+o[s],x2:t+i[s+1],y2:n+o[s+1],lineWidth:2,strokeStyle:r})}))}function Rl(e,t,n,r){var i="#555555",o=r?i:Qe(i,Cl);Xt(e,{type:"line",x:t+2,y:n+5,x2:t+5,y2:n+8,strokeStyle:o,lineWidth:2}),Xt(e,{type:"line",x:t+5,y:n+9,x2:t+10,y2:n+3,strokeStyle:o,lineWidth:2})}function Dl(e,t,n,r){var i=r.active,o=r.checked,a=i?"#bbb":Qe("#bbbbbb",Cl);Kt(e,{type:"rect",x:t,y:n,width:kl,height:kl,color:"#fff",borderColor:a,thickness:1}),o&&Rl(e,t,n,i)}function _l(e,t,n,r){var i=r.iconType,o=r.active,a=r.color,s=r.showCheckbox,l=t+(s?kl+xl:0),c=o?a:Qe(a,Cl);"rect"===i?Kt(e,{type:"rect",x:l,y:n+(kl-El)/2,width:El,height:El,color:c}):"line"===i?Pl(e,l,n+Ml,c):"circle"===i&&Gt(e,{type:"circle",x:l+Al,y:n+Al,radius:Al,color:c,style:["default"]})}function jl(e,t,n,r){var i=r.iconType,o=r.active,a=r.color,s=r.showCheckbox,l=t+(s?kl+xl:0),c=o?a:Qe(a,Cl);bl(e,{type:"scatterSeries",iconType:i,x:l+Al,y:n+Al,borderColor:c,size:2*Al,fillColor:"rgba(255, 255, 255, 0)",borderWidth:Ol})}function Ll(e,t,n,r,i){var o=i.active,a=i.showCheckbox,s=i.font,l=i.fontColor,c=o?l:Qe(l,Cl);yt(e,{type:"label",x:t+Sl+xl+(a?kl+xl:0),y:n,text:r,style:["default",{font:s,textBaseline:"top",fillStyle:c}]})}function Il(e,t){var n=t.data,r=t.showCheckbox,i=t.align,o=t.fontSize,a=t.fontFamily,s=t.fontWeight,l=st({fontSize:o,fontFamily:a,fontWeight:s}),c=t.color;n.forEach((function(t){var n=t.x,o=t.y,a=t.checked,s=t.active,u=t.color,f=t.iconType,d=t.useScatterChartIcon,h=t.viewLabel,p=o-1+(un(h,l)-11)/4,v={iconType:f,checked:a,active:s,color:u,showCheckbox:r,align:i,font:l,fontColor:c};r&&Dl(e,n,p,v),d&&"line"!==f?jl(e,n,p,v):_l(e,n,p,v),Ll(e,n,o,h,v)}))}function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hl=2,Wl=3,Fl=.3,Ul=Fl,Vl=.06,ql={LINE_WIDTH:2,DOT_RADIUS:3,HOVER_DOT_RADIUS:4,SELECTED_SERIES_OPACITY:.3,UNSELECTED_SERIES_OPACITY:.05},Yl={HOVER_THICKNESS:4,BOX_HOVER:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetX:2,shadowOffsetY:2,shadowBlur:6}},$l={OUTLIER_RADIUS:4,OUTLIER_BORDER_WIDTH:2,LINE_TYPE:{whisker:{lineWidth:1},maximum:{lineWidth:1},minimum:{lineWidth:1},median:{lineWidth:1,color:"#ffffff"}}},Gl=[.5,.3,.1],Xl=3;function Kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Arial";return{fontFamily:e,fontSize:11,fontWeight:400,color:"#333333",useSeriesColor:!1}}var Zl={width:8,height:6},Jl={colors:["#00a9ff","#ffb840","#ff5a46","#00bd9f","#785fff","#f28b8c","#989486","#516f7d","#28e6eb","#28695f","#96c85a","#45ba3f","#295ba0","#2a4175","#289399","#66c8d3","#617178","#8a9a9a","#bebebe","#374b5a","#64eba0","#ffe155","#ff9141","#af4beb","#ff73fa","#ff55b2","#2869f5","#3296ff","#8cc3ff","#2828b9","#fa8787","#e13782","#7d5aaa","#643c91","#d25f5f","#fabe6e","#c3a9eb","#b9c8f5","#73a0cd","#0f5a8c"],startColor:"#ffe98a",endColor:"#d74177",lineWidth:Hl,dashSegments:[],borderWidth:0,borderColor:"#ffffff",select:{dot:{radius:Wl,borderWidth:Wl+2},areaOpacity:Ul,restSeries:{areaOpacity:Vl}},hover:{dot:{radius:Wl,borderWidth:Wl+2}},dot:{radius:Wl},areaOpacity:Fl};function Ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Arial";return{fontSize:11,fontFamily:e,fontWeight:700,color:"#bbbbbb"}}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Arial";return{fontSize:11,fontFamily:e,fontWeight:"normal",color:"#333333"}}function tc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Arial",n=Ql(t),r=ec(t),i=!(null===e||void 0===e||!e.radar),o=!(null===e||void 0===e||!e.gauge);return{chart:{fontFamily:t,backgroundColor:"#ffffff"},noData:{fontSize:18,fontFamily:t,fontWeight:"normal",color:"#333333"},title:{fontSize:18,fontFamily:t,fontWeight:100,color:"#333333"},yAxis:{title:Bl({},n),label:Bl({},r),width:1,color:"#333333"},xAxis:{title:Bl({},n),label:Bl({},r),width:1,color:"#333333"},verticalAxis:{label:Bl(Bl({},r),{},{textBubble:{visible:i,backgroundColor:i?"#f3f3f3":"rgba(0, 0, 0, 0)",borderRadius:7,paddingX:7,paddingY:2,borderColor:"rgba(0, 0, 0, 0)",borderWidth:1}})},circularAxis:{title:Bl({},n),label:Bl({},r),lineWidth:1,strokeStyle:o?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.05)",dotColor:"rgba(0, 0, 0, 0.5)",tick:{lineWidth:1,strokeStyle:"rgba(0, 0, 0, 0.5)"}},legend:{label:{color:"#333333",fontSize:11,fontWeight:"normal",fontFamily:t}},tooltip:{background:"rgba(85, 85, 85, 0.95)",borderColor:"rgba(255, 255, 255, 0)",borderWidth:0,borderRadius:3,borderStyle:"solid",body:{fontSize:12,fontFamily:"".concat(t,", sans-serif"),fontWeight:"normal",color:"#ffffff"},header:{fontSize:13,fontFamily:"".concat(t,", sans-serif"),fontWeight:"bold",color:"#ffffff"}},plot:{lineColor:"rgba(0, 0, 0, 0.05)",backgroundColor:"rgba(255, 255, 255, 0)"},exportMenu:{button:Bl(Bl({},nc(5,"#f4f4f4")),{},{backgroundColor:"#f4f4f4",xIcon:{color:"#555555",lineWidth:2},dotIcon:{color:"#555555",width:2,height:2,gap:2}}),panel:Bl(Bl({},nc(0,"#bab9ba")),{},{header:Bl(Bl({},r),{},{backgroundColor:"#f4f4f4"}),body:Bl(Bl({},r),{},{backgroundColor:"#ffffff"})})}}}function nc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{borderWidth:n,borderRadius:e,borderColor:t}}function rc(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ffffff";return{visible:e,paddingX:n,paddingY:r,borderRadius:t,backgroundColor:i,shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetY:2,shadowBlur:4}}function ic(e){var t=Kl(e);return{lineWidth:Jl.lineWidth,dashSegments:Jl.dashSegments,select:{dot:Jl.select.dot},hover:{dot:Jl.hover.dot},dot:Jl.dot,dataLabels:Bl(Bl({},t),{},{textBubble:Bl(Bl({},rc()),{},{arrow:Bl({visible:!1,direction:"bottom"},Zl)})})}}function oc(e){var t=Kl(e);return{startColor:Jl.startColor,endColor:Jl.endColor,borderWidth:0,borderColor:"#ffffff",hover:{borderWidth:Yl.HOVER_THICKNESS,borderColor:"#ffffff"},select:{borderWidth:Yl.HOVER_THICKNESS,borderColor:"#ffffff"},dataLabels:Bl(Bl({},t),{},{color:"#ffffff",textBubble:Bl({},rc(!1,1,5,1,"rgba(255, 255, 255, 0.5)"))})}}function ac(e){var t=Kl(e);return{areaOpacity:1,hover:Bl(Bl({},Yl.BOX_HOVER),{},{borderWidth:Yl.HOVER_THICKNESS,borderColor:"#ffffff",groupedRect:{color:"#000000",opacity:.05}}),select:Bl(Bl({},Yl.BOX_HOVER),{},{borderWidth:Yl.HOVER_THICKNESS,borderColor:"#ffffff",groupedRect:{color:"#000000",opacity:.2},restSeries:{areaOpacity:.2},areaOpacity:1}),connector:{color:"rgba(51, 85, 139, 0.3)",lineWidth:1,dashSegments:[]},dataLabels:Bl(Bl({},t),{},{textBubble:Bl(Bl({},rc(!1,1,4,3)),{},{arrow:Bl({visible:!1},Zl)}),stackTotal:Bl(Bl({},t),{},{textBubble:Bl(Bl({},rc(!0,1,4,3)),{},{arrow:Bl({visible:!0},Zl)})})})}}var sc="rgba(255, 255, 255, 0)",lc={line:function(e){return Bl({},ic(e))},area:function(e){var t=ic(e);return Bl(Bl({},t),{},{select:Bl(Bl({},t.select),{},{areaOpacity:Ul,restSeries:Jl.select.restSeries}),areaOpacity:Fl})},treemap:function(e){return oc(e)},heatmap:function(e){return oc(e)},scatter:function(){return{size:12,borderWidth:1.5,fillColor:sc,select:{fillColor:"rgba(255, 255, 255, 1)",borderWidth:2.5,size:12},hover:{fillColor:"rgba(255, 255, 255, 1)",borderWidth:2.5,size:12}}},bubble:function(){return{borderWidth:0,borderColor:sc,select:{},hover:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:2,shadowOffsetY:2,lineWidth:2}}},radar:function(){return{areaOpacity:ql.SELECTED_SERIES_OPACITY,hover:{dot:{radius:ql.HOVER_DOT_RADIUS,borderWidth:ql.HOVER_DOT_RADIUS+1}},select:{dot:{radius:ql.HOVER_DOT_RADIUS,borderWidth:ql.HOVER_DOT_RADIUS+1},restSeries:{areaOpacity:ql.UNSELECTED_SERIES_OPACITY},areaOpacity:ql.SELECTED_SERIES_OPACITY},dot:{radius:ql.DOT_RADIUS}}},bar:function(e){return Bl({},ac(e))},column:function(e){return Bl({},ac(e))},bullet:function(e){var t=Kl(e);return{areaOpacity:1,barWidthRatios:{rangeRatio:1,bulletRatio:.5,markerRatio:.8},markerLineWidth:1,borderWidth:0,borderColor:"rgba(255, 255, 255, 0)",hover:Bl(Bl({},Yl.BOX_HOVER),{},{borderWidth:Yl.HOVER_THICKNESS,borderColor:"#ffffff",groupedRect:{color:"#000000",opacity:.05}}),select:Bl(Bl({},Yl.BOX_HOVER),{},{borderWidth:Yl.HOVER_THICKNESS,borderColor:"#ffffff",groupedRect:{color:"#000000",opacity:.2},restSeries:{areaOpacity:.2},areaOpacity:1}),dataLabels:Bl(Bl({},t),{},{textBubble:Bl(Bl({},rc()),{},{arrow:Bl({visible:!1},Zl)}),marker:Bl(Bl({},t),{},{fontSize:9,useSeriesColor:!0,textBubble:Bl(Bl({},rc(!0)),{},{backgroundColor:"rgba(255, 255, 255, 0.8)",shadowColor:"rgba(0, 0, 0, 0.0)",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,arrow:Bl({visible:!1},Zl)})})})}},boxPlot:function(){return{areaOpacity:1,barWidthRatios:{barRatio:1,minMaxBarRatio:.5},markerLineWidth:1,dot:{color:"#ffffff",radius:$l.OUTLIER_RADIUS,borderWidth:$l.OUTLIER_BORDER_WIDTH,useSeriesColor:!1},rect:{borderWidth:0},line:Bl({},$l.LINE_TYPE),hover:Bl(Bl({},Yl.BOX_HOVER),{},{rect:{borderWidth:Yl.HOVER_THICKNESS,borderColor:"#ffffff"},dot:{radius:$l.OUTLIER_RADIUS,borderWidth:0,useSeriesColor:!0},line:Bl({},$l.LINE_TYPE)}),select:Bl(Bl({},Yl.BOX_HOVER),{},{rect:{borderWidth:Yl.HOVER_THICKNESS,borderColor:"#ffffff"},dot:{radius:$l.OUTLIER_RADIUS,borderWidth:0,useSeriesColor:!0},line:Bl({},$l.LINE_TYPE),restSeries:{areaOpacity:.2},areaOpacity:1})}},pie:function(e,t){var n=t.hasOuterAnchor,r=void 0!==n&&n,i=t.hasOuterAnchorPieSeriesName,o=void 0!==i&&i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Kl(e);return{areaOpacity:1,strokeStyle:a?"#ffffff":"rgba(255, 255, 255, 0)",lineWidth:a?1:0,hover:{lineWidth:Xl,strokeStyle:"#ffffff",shadowColor:"#cccccc",shadowBlur:5,shadowOffsetX:0,shadowOffsetY:0},select:{lineWidth:Xl,strokeStyle:"#ffffff",shadowColor:"#cccccc",shadowBlur:5,shadowOffsetX:0,shadowOffsetY:0,restSeries:{areaOpacity:.3},areaOpacity:1},dataLabels:{fontFamily:e,fontSize:16,fontWeight:600,color:r?"#333333":"#ffffff",useSeriesColor:r,textBubble:Bl({},rc(!1,0)),callout:{lineWidth:1,useSeriesColor:!0,lineColor:"#e9e9e9"},pieSeriesName:Bl(Bl({},s),{},{useSeriesColor:o,color:o?"#333333":"#ffffff",textBubble:Bl({},rc(!1,0))})}}},radialBar:function(e){return{areaOpacity:1,strokeStyle:"rgba(255, 255, 255, 0)",lineWidth:0,hover:{lineWidth:Xl,strokeStyle:"#fff",shadowColor:"#cccccc",shadowBlur:5,shadowOffsetX:0,shadowOffsetY:0,groupedSector:{color:"#000000",opacity:.05}},select:{lineWidth:Xl,strokeStyle:"#fff",shadowColor:"#cccccc",shadowBlur:5,shadowOffsetX:0,shadowOffsetY:0,restSeries:{areaOpacity:.3},areaOpacity:1,groupedSector:{color:"#000000",opacity:.2}},dataLabels:{fontFamily:e,fontSize:11,fontWeight:400,color:"#333333",useSeriesColor:!1,textBubble:Bl({},rc(!1,0))}}},gauge:function(e){return{areaOpacity:1,hover:{clockHand:{baseLine:5},pin:{radius:5,borderWidth:5},solid:{lineWidth:Xl,strokeStyle:"#ffffff",shadowColor:"#cccccc",shadowBlur:5,shadowOffsetX:0,shadowOffsetY:0}},select:{clockHand:{baseLine:5},pin:{radius:6,borderWidth:4},solid:{lineWidth:Xl,strokeStyle:"#ffffff",shadowColor:"#cccccc",shadowBlur:5,shadowOffsetX:0,shadowOffsetY:0,restSeries:{areaOpacity:.3},areaOpacity:1},areaOpacity:1,restSeries:{areaOpacity:.3}},clockHand:{baseLine:4},pin:{radius:5,borderWidth:5},solid:{lineWidth:0,backgroundSolid:{color:"rgba(0, 0, 0, 0.1)"}},dataLabels:{fontFamily:e,fontSize:11,fontWeight:400,color:"#333333",useSeriesColor:!1,textBubble:Bl(Bl({},rc(!0,4,4,3)),{},{shadowColor:"rgba(0, 0, 0, 0)",shadowOffsetY:0,shadowBlur:0,borderColor:"#ccc",borderWidth:1})}}}};function cc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"pie"===t?lc[t](e,n,r):B(["bubble","radar","boxPlot"],t)?lc[t]():lc[t](e)}function uc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Arial",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object.keys(e).reduce((function(e,r){return Bl(Bl({},e),{},{series:Bl(Bl({},e.series),{},zl({},r,cc(n,r,t)))})}),tc(e,n));if(r){var o=Ur(e);i.series.pie=o.reduce((function(e,i){return Bl(Bl({},e),{},zl({},i,cc(n,"pie",t[i],r)))}),{})}return i}function fc(e,t,n){var r=e.index,i=e.seriesIndex,o=e.chartType;return T(r)&&("grouped"===t||T(i))&&(E(o)||o===n)}function dc(e,t){var n=e.index,r=e.seriesIndex,i=e.chartType;return T(n)&&T(r)&&(E(i)||i===t)}function hc(e){return Object.keys(e).reduce((function(t,n){return!e[n].data.length&&t}),!0)}function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach((function(t){mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e){return e.data.reduce((function(e,t){var n=t.active,r=t.label;return vc(vc({},e),{},mc({},r,n))}),{})}function gc(e){var t,n;return null===(t=null===e||void 0===e||null===(n=e.circleLegend)||void 0===n?void 0:n.visible)||void 0===t||t}function bc(e,t){var n,r,i;return!(t.gauge||t.treemap&&(null===(n=e.series)||void 0===n||!n.useColorValue))&&(!!E(null===(r=e.legend)||void 0===r?void 0:r.visible)||!(null===(i=e.legend)||void 0===i||!i.visible))}function wc(e){var t,n;return!!E(null===(t=e.legend)||void 0===t?void 0:t.showCheckbox)||!(null===(n=e.legend)||void 0===n||!n.showCheckbox)}function xc(e){return B(["bar","column","area","pie","boxPlot","bullet","radialBar"],e)}function kc(e){return B(["bubble","scatter"],e)}function Sc(e){return B(["line","radar"],e)}function Oc(e){var t="spectrum";return kc(e)?t="circle":xc(e)?t="rect":Sc(e)&&(t="line"),t}function Cc(e){var t,n;return null!==(t=null===(n=e.legend)||void 0===n?void 0:n.align)&&void 0!==t?t:"right"}function Ec(e,t){return Tc(e)||Ac(e,t)||Lc(e,t)||Mc()}function Mc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ac(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Tc(e){if(Array.isArray(e))return e}function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){Dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _c(e){return Nc(e)||Ic(e)||Lc(e)||jc()}function jc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lc(e,t){if(e){if("string"===typeof e)return Bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bc(e,t):void 0}}function Ic(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Nc(e){if(Array.isArray(e))return Bc(e)}function Bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zc=100,Hc=150,Wc=100,Fc="...",Uc="W",Vc=2;function qc(e,t){var n=e.legendWidths,r=e.itemHeight,i=n.length*r,o=Math.ceil(i/t),a=n.length/o,s=0;return I(0,o).forEach((function(e){s+=Math.max.apply(Math,_c(n.slice(e*a,(e+1)*a)))})),s+=wl*(o-1),{legendWidth:s,legendHeight:a*r+qa.Y,columnCount:o,rowCount:a}}function Yc(e,t){var n=e.legendWidths,r=e.itemHeight,i=0,o=0,a=n.reduce((function(e,n){var r=wl+n;return e.totalWidth+n>t?(e.totalWidth=r,e.rowCount+=1,e.columnCount=1,i=Math.max(i,e.columnCount)):(e.totalWidth+=r,e.columnCount+=1),o=Math.max(o,e.totalWidth),e}),{totalWidth:0,rowCount:1,columnCount:0}),s=a.rowCount;return{legendHeight:r*s,rowCount:s,columnCount:i,legendWidth:o}}function $c(e){if(!e.visible)return{legendWidth:0,legendHeight:0,rowCount:0,columnCount:0};var t=e.chart,n=e.verticalAlign,r=e.legendWidths,i=Jc(e),o=i.legendWidth,a=i.isOverflow,s=Gc(e),l=s.legendHeight,c=s.isOverflow,u=n?r.length:1,f=n?Math.ceil(o/t.width):r.length;return a?Yc(e,o/f):c?qc(e,l):{legendWidth:o,legendHeight:l,columnCount:u,rowCount:f}}function Gc(e){var t,n=e.verticalAlign,r=e.itemHeight,i=e.legendWidths,o=Qc(e),a=o.height,s=!1;if(n)t=a;else{var l=i.length*r;s=a<l,t=s?a:l}return{legendHeight:t,isOverflow:s}}function Xc(e,t,n){if(n){var r=J(e);return Math.max(t/4,r)}var i=(_a.PADDING+Da.PADDING+qa.X)*Vc+_a.POINT_HEIGHT+Da.HEIGHT;return Math.max.apply(Math,_c(e))+i}function Kc(e,t,n){return n?Ra+Da.PADDING*Vc+_a.POINT_HEIGHT+_a.HEIGHT+qa.Y:3*t/4}function Zc(e){var t,n=e.initialWidth,r=e.legendWidths,i=e.checkbox,o=e.verticalAlign,a=!1;if(o){var s=Qc(e),l=s.width,c=J(r)+wl*(r.length-1);a=c>l,t=c}else{var u=Math.max.apply(Math,_c(r));t=(i?kl+xl:0)+Sl+xl+Math.max(u,n)}return{legendWidth:t,isOverflow:a}}function Jc(e){var t=e.options,n=e.visible,r=null===t||void 0===t?void 0:t.legend;return n?null!==r&&void 0!==r&&r.width?{legendWidth:r.width,isOverflow:!1}:Zc(e):{legendWidth:0,isOverflow:!1}}function Qc(e){var t=e.verticalAlign,n=e.chart,r=e.itemHeight,i=e.initialWidth,o=e.circleLegendVisible,a=Wc+(o?Hc:0);return t?{width:n.width-qa.X*Vc,height:r}:{width:i,height:n.height-a}}function eu(e,t){var n=[],r=tu(t);return e.pie.forEach((function(e){var i=e.data;i.forEach((function(e){var i=e.name,o=e.parentName,a=e.visible;if(!o){var s=nu(t,i,r),l=s.width,c=s.viewLabel;n.push({label:i,type:"pie",checked:null===a||void 0===a||a,viewLabel:c,width:l})}}))})),n}function tu(e){var t,n=e.legendOptions,r=e.font,i=e.checkboxVisible,o=null===n||void 0===n||null===(t=n.item)||void 0===t?void 0:t.width;if(!E(o)){var a=i?kl+xl:0,s=Sl+xl,l=cn(Fc,r),c=cn(Uc,r),u=Math.floor((o-l-a-s)/c);return u>0?u:0}}function nu(e,t,n){var r,i=e.checkboxVisible,o=e.useSpectrumLegend,a=e.font,s=e.legendOptions,l=t,c=null===s||void 0===s||null===(r=s.item)||void 0===r?void 0:r.width,u=iu(l,i,o,a);return T(c)&&T(n)&&c<u&&(l="".concat(t.slice(0,n)).concat(Fc)),{viewLabel:l,width:null!==c&&void 0!==c?c:u}}function ru(e,t,n){var r=tu(t),i=0;return Object.keys(e).flatMap((function(o){var a=e[o].map((function(e){var a=e.name,s=e.colorValue,l=e.visible,c=e.colorByCategories,u=s||a,f=i,d=nu(t,u,r),h=d.width,p=d.viewLabel;return i+=c?n.length:1,{label:u,type:o,colorByCategories:!!c,colorIndex:f,checked:null===l||void 0===l||l,viewLabel:p,width:h}}));return i+=e[o].length-1,a}))}function iu(e,t,n,r){return(n?0:(t?kl+xl:0)+Sl+xl)+cn(e,r)}function ou(e,t){var n=Object.values(t).reduce((function(e,t){return t&&t.colors?[].concat(_c(e),_c(t.colors)):e}),[]),r=e.some((function(e){return e.colorByCategories}));return e.map((function(e,t){var i=e.colorByCategories,o=e.colorIndex,a=r&&o||t;return Rc(Rc({},e),{},{color:i?"#aaa":n[a%n.length]})}))}function au(e,t,n){var r,i,o,a,s,l,c=null!==(r=null===e||void 0===e||null===(i=e.series)||void 0===i?void 0:i.useColorValue)&&void 0!==r?r:!!t.heatmap,u=!(null===t||void 0===t||!t.scatter),f=!c&&wc(e),d=tc(t,null===e||void 0===e||null===(o=e.theme)||void 0===o||null===(a=o.chart)||void 0===a?void 0:a.fontFamily),h=st(V(d.legend.label,Rc({},null===(s=e.theme)||void 0===s||null===(l=s.legend)||void 0===l?void 0:l.label))),p={checkboxVisible:f,font:h,useSpectrumLegend:c,legendOptions:e.legend},v=Fr(t)?eu(t,p):ru(t,p,n),m=v.map((function(e){var t=e.label,n=e.type,r=e.checked,i=e.width,o=e.viewLabel,a=e.colorByCategories,s=e.colorIndex;return{label:t,active:!0,checked:r,width:i,iconType:Oc(n),chartType:n,rowIndex:0,columnIndex:0,viewLabel:o,colorByCategories:a,colorIndex:s}}));return{useSpectrumLegend:c,useScatterChartIcon:u,data:m}}function su(e){var t=e.verticalAlign,n=e.columnCount,r=e.rowCount,i=e.legendCount,o=e.rowIndex,a=e.columnIndex;if(t){var s=i/r;s-1>a?a+=1:(o+=1,a=0)}else{var l=i/n;l-1>o?o+=1:(a+=1,o=0)}return[o,a]}function lu(e,t,n,r,i){var o=0,a=0;e.forEach((function(e){e.rowIndex=a,e.columnIndex=o;var s=su({rowCount:t,columnCount:n,verticalAlign:i,legendCount:r,rowIndex:a,columnIndex:o}),l=Ec(s,2);a=l[0],o=l[1]}))}var cu={name:"legend",state:function(e){var t=e.options,n=e.series,r=e.categories;return{legend:au(t,n,r),circleLegend:{}}},action:{initLegendState:function(e){var t=e.state,n=e.initStoreState;Re(t.legend,au(n.options,n.series,n.categories))},setLegendLayout:function(e){var t=e.state;t.legend.useSpectrumLegend?this.dispatch("setSpectrumLegendLayout"):this.dispatch("setNormalLegendLayout")},setSpectrumLegendLayout:function(e){var t=e.state,n=t.legend.data,r=t.series,i=t.options,o=t.chart,a=t.theme,s=Cc(i),l=bc(i,r),c=Ga(s),u=n.map((function(e){var t=e.width;return t})),f=Tl(a.legend.label.fontSize),d=Xc(u,o.width,c),h=Kc(f,o.height,c);Re(t.legend,{visible:l,align:s,width:d,height:h})},setNormalLegendLayout:function(e){var t=e.state,n=e.initStoreState,r=t.legend.data,i=t.series,o=t.options,a=t.chart,s=t.theme,l=Cc(o),c=bc(o,i),u=wc(o),f=Math.min(a.width/5,zc),d=Ga(l),h=Fr(n.series),p=!!i.scatter,v=!!i.bubble,m=!!v&&gc(o),y=r.map((function(e){var t=e.width;return t})),g=Tl(s.legend.label.fontSize),b=$c({initialWidth:f,legendWidths:y,options:o,verticalAlign:d,visible:c,checkbox:u,chart:a,itemHeight:g,circleLegendVisible:m}),w=b.legendWidth,x=b.legendHeight,k=b.rowCount,S=b.columnCount;lu(r,k,S,y.length,d),Re(t.legend,{visible:c,align:l,showCheckbox:u,width:w,height:x}),v&&m&&this.dispatch("updateCircleLegendLayout",{legendWidth:w}),h||hc(i)||this.dispatch("updateLegendColor"),p&&this.dispatch("updateLegendIcon")},updateCircleLegendLayout:function(e,t){var n=e.state,r=t.legendWidth,i=0===r?Hc:Math.min(r,Hc),o=Math.max((i-xl)/2,0);Re(n.circleLegend,{visible:!0,width:i,radius:o})},setLegendActiveState:function(e,t){var n=e.state,r=t.name,i=t.active,o=n.legend.data,a=o.find((function(e){var t=e.label;return t===r}));a.active=i,this.notify(n,"legend")},setAllLegendActiveState:function(e,t){var n=e.state;n.legend.data.forEach((function(e){e.active=t})),this.notify(n,"legend")},setLegendCheckedState:function(e,t){var n=e.state,r=t.name,i=t.checked,o=n.legend.data.find((function(e){var t=e.label;return t===r}));o.checked=i,this.notify(n,"legend")},updateLegendColor:function(e){var t=e.state,n=t.legend,r=t.series,i=ou(n.data,r);Re(t.legend,{data:i})},updateLegendIcon:function(e){var t=e.state,n=t.legend,r=t.series,i=n.data.reduce((function(e,t){var n;if("scatter"===t.chartType&&null!==(n=r.scatter)&&void 0!==n&&n.data){var i=r.scatter.data.find((function(e){var n=e.name;return n===t.label})),o=i?i.iconType:t.iconType;return[].concat(_c(e),[Rc(Rc({},t),{},{iconType:o})])}return[].concat(_c(e),[t])}),[]);Re(t.legend,{data:i})},updateNestedPieChartLegend:function(e){var t=e.state,n=t.legend,r=t.nestedPieSeries;Re(t.legend,{data:ou(n.data,r)})}},observe:{updateLegendLayout:function(){this.dispatch("setLegendLayout")}}},uu=cu;function fu(e,t){var n,r=null===(n=t.responsive)||void 0===n?void 0:n.rules;return Array.isArray(r)?r.reduce((function(t,n){return n.condition(e)?V(t,n.options):t}),t):t}function du(e,t,n){var r=e.width,i=e.height;return{width:r?t.width:null===n||void 0===n?void 0:n.width,height:i?t.height:null===n||void 0===n?void 0:n.height}}var hu={name:"options",state:function(e){var t=e.options;return{originalOptions:Y(t),options:t}},action:{setOptions:function(e){var t=e.state,n=t.chart,r=n.width,i=n.height;r<0||i<0||(t.options=fu({width:r,height:i},t.originalOptions))},initOptions:function(e,t){var n=e.initStoreState,r=e.state,i=t.options,o=t.containerSize;n.options=i,r.originalOptions=Y(i);var a=r.usingContainerSize,s=r.originalOptions,l=du(a,o,{width:s.chart.width,height:s.chart.height});this.dispatch("setChartSize",l)},updateOptions:function(e,t){var n,r,i=e.state,o=e.initStoreState,a=t.options,s=t.containerSize;o.options=V(o.options,a),i.originalOptions=V(i.originalOptions,a);var l=i.usingContainerSize,c=i.originalOptions,u=du(l,s,{width:null===(n=c.chart)||void 0===n?void 0:n.width,height:null===(r=c.chart)||void 0===r?void 0:r.height});this.dispatch("setChartSize",u),this.dispatch("initThemeState")}},observe:{updateOptions:function(){this.dispatch("setOptions")}}},pu=hu;function vu(e){return bu(e)||gu(e)||yu(e)||mu()}function mu(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yu(e,t){if(e){if("string"===typeof e)return wu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wu(e,t):void 0}}function gu(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function bu(e){if(Array.isArray(e))return wu(e)}function wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){Su(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ou(e,t,n){var r=null===e||void 0===e?void 0:e.theme;if(null===r||void 0===r||!r.series)return{};var i=n?Ur(t):Object.keys(t);return i.reduce((function(e,t){return delete e[t],e}),ku({},r.series))}function Cu(e){var t,n,r=ku({},e.theme);if(!Array.isArray(r.yAxis))return r;var i=Ql(null===e||void 0===e||null===(t=e.theme)||void 0===t||null===(n=t.chart)||void 0===n?void 0:n.fontFamily),o=r.yAxis.map((function(e){return V({title:ku({},i)},ku({},e))}));return ku(ku({},r),{},{yAxis:o})}function Eu(e,t,n,r){var i=Cu(e);if(null===i||void 0===i||!i.series)return ku({},i);var o=ku(ku({},i),{},{series:{}}),a=Object.keys(t),s=a.length>1;if(r){var l=Ur(t);o.series={pie:l.reduce((function(e,t){var r;return ku(ku({},e),{},Su({},t,V(null===(r=i.series)||void 0===r?void 0:r[t],H(n,"colors"))))}),{})}}else o.series=s?ku({},a.reduce((function(e,t){var r;return ku(ku({},e),{},Su({},t,V(null===(r=i.series)||void 0===r?void 0:r[t],H(n,"colors"))))}),{})):Su({},a[0],i.series);return o}function Mu(e,t,n,r,i){var o,a=0,s=[].concat(vu(null!==(o=null===n||void 0===n?void 0:n.colors)&&void 0!==o?o:[]),vu(Jl.colors)),l=r?Ur(t):Object.keys(t);l.forEach((function(n,o){var l,c,u=t[n]||[],f=u.filter((function(e){return e.colorByCategories})),d=f.length>0;if(r)c=t.pie[o].data.length;else if(d){var h=u.filter((function(e){return!e.colorByCategories}));c=h.length+i.length}else c=t[n].length;var p=r?e.series.pie:e.series;null!==(l=p[n])&&void 0!==l&&l.colors||(p[n]=ku(ku({},p[n]),{},{colors:s.slice(a,a+c)}),a+=c)}))}function Au(e){["vertical","horizontal"].reduce((function(e,t){return e[t]||(e[t]={lineColor:e.lineColor}),e}),e.plot)}function Tu(e,t,n){var r,i,o,a,s,l,c;return{hasOuterAnchor:!!t.pie&&"outer"===(null===e||void 0===e||null===(r=e.series)||void 0===r||null===(i=r[n])||void 0===i||null===(o=i.dataLabels)||void 0===o?void 0:o.anchor),hasOuterAnchorPieSeriesName:!!t.pie&&"outer"===(null===e||void 0===e||null===(a=e.series)||void 0===a||null===(s=a[n])||void 0===s||null===(l=s.dataLabels)||void 0===l||null===(c=l.pieSeriesName)||void 0===c?void 0:c.anchor)}}function Pu(e,t,n){var r,i,o=Fr(t),a=Ou(e,t,o),s={hasOuterAnchor:qr(e,t),hasOuterAnchorPieSeriesName:Yr(e,t)};if(o){var l=Ur(t);s=l.reduce((function(n,r){return ku(ku({},n),{},Su({},r,Tu(e,t,r)))}),{})}var c=null===e||void 0===e||null===(r=e.theme)||void 0===r||null===(i=r.chart)||void 0===i?void 0:i.fontFamily,u=V(uc(t,s,c,o),Eu(e,t,a,o));return t.heatmap||Mu(u,t,a,o,n),Au(u),u}var Ru={name:"theme",state:function(e){var t=e.options,n=e.series,r=e.categories;return{theme:Pu(t,n,r)}},action:{initThemeState:function(e){var t=e.state,n=e.initStoreState;t.theme=Pu(t.options,n.series,n.categories)}},observe:{updateTheme:function(){this.dispatch("initThemeState")}}},Du=Ru;function _u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lu(e,t,n){return t&&ju(e.prototype,t),n&&ju(e,n),e}function Iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nu=function(){function e(){_u(this,e),Iu(this,"handlers",[])}return Lu(e,[{key:"on",value:function(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=this.handlers[e])||void 0===t||t.forEach((function(e){return e.apply(void 0,r)}))}}]),e}();function Bu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hu(e,t,n){return t&&zu(e.prototype,t),n&&zu(e,n),e}function Wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fu=function(){function e(t){var n=t.store,r=t.eventBus;Bu(this,e),Wu(this,"components",[]),Wu(this,"store",void 0),Wu(this,"eventBus",void 0),this.store=n,this.eventBus=r}return Hu(e,[{key:"add",value:function(e,t){var n=this,r=new e({store:this.store,eventBus:this.eventBus});r.initialize&&r.initialize(t);var i=function(){r.render(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),r.sync(),n.eventBus.emit("needLoop")};this.store.observe((function(){i.apply(void 0,arguments)})),i=U(i),this.components.push(r)}},{key:"remove",value:function(e){this.components=this.components.filter((function(t){return!(t instanceof e)}))}},{key:"clear",value:function(){this.components=[],this.eventBus.emit("needDraw")}},{key:"invoke",value:function(e,t){this.components.forEach((function(n){var r=n[e];r&&r.call(n,t)}))}},{key:"forEach",value:function(e){this.components.forEach(e)}}]),e}();function Uu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qu(e,t,n){return t&&Vu(e.prototype,t),n&&Vu(e,n),e}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $u=function(){function e(t){Uu(this,e),Yu(this,"width",0),Yu(this,"height",0),Yu(this,"brushes",{}),Yu(this,"chart",void 0),Yu(this,"canvas",void 0),Yu(this,"ctx",void 0),this.chart=t}return qu(e,[{key:"showUnsupportedCanvasFeatureError",value:function(){this.ctx.setLineDash||console.warn(ae.DASH_SEGMENTS_UNAVAILABLE_ERROR)}},{key:"setup",value:function(){var e=this.chart.store.state.chart,t=e.height,n=e.width;if(!this.canvas){var r=document.createElement("canvas");this.canvas=r,this.chart.el.appendChild(r),r.addEventListener("click",this.chart),r.addEventListener("mousemove",this.chart),r.addEventListener("mousedown",this.chart),r.addEventListener("mouseup",this.chart),r.addEventListener("mouseout",this.chart);var i=r.getContext("2d");i&&(this.ctx=i)}this.setSize(n,t),this.showUnsupportedCanvasFeatureError()}},{key:"setSize",value:function(e,t){this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(t,"px");var n=1;"deviceXDPI"in window.screen?n=window.screen.deviceXDPI/window.screen.logicalXDPI:window.hasOwnProperty("devicePixelRatio")&&(n=window.devicePixelRatio),this.width=e*n||0,this.height=t*n||0,this.scaleCanvasRatio(n)}},{key:"scaleCanvasRatio",value:function(e){this.canvas.width=this.width,this.canvas.height=this.height,this.ctx.scale(e,e)}},{key:"add",value:function(e,t){this.brushes[e]=t}},{key:"addGroups",value:function(e){var t=this;e.forEach((function(e){Object.keys(e).forEach((function(n){t.add(n,e[n])}))}))}},{key:"paint",value:function(e,t){if(!this.brushes[e])throw new Error(ae.noBrushError(e));this.brushes[e](this.ctx,t)}},{key:"paintForEach",value:function(e){var t=this;e.forEach((function(e){return t.paint(e.type,e)}))}},{key:"beforeFrame",value:function(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.fillStyle="transparent",this.ctx.fillRect(0,0,this.width,this.height)}},{key:"beforeDraw",value:function(e,t){this.ctx.save(),this.ctx.translate(e,t)}},{key:"afterDraw",value:function(){this.ctx.restore()}}]),e}();function Gu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ku(e,t,n){return t&&Xu(e.prototype,t),n&&Xu(e,n),e}function Zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ju=function(){function e(){Gu(this,e),Zu(this,"anims",[]),Zu(this,"state","IDLE"),Zu(this,"requestId",null),Zu(this,"firstRendering",!0)}return Ku(e,[{key:"add",value:function(e){var t=this,n=e.chart,r=e.duration,i=e.requester,o=e.onCompleted,a=void 0===o?function(){}:o,s=e.onFrame,l=void 0===s?function(e){t.firstRendering||n.update(e),t.firstRendering&&(n.initUpdate(e),1===e&&(t.firstRendering=!1))}:s;this.anims.length&&this.reset(),"IDLE"===this.state&&(this.anims.push({chart:n,requester:i,duration:r,onFrame:l,onCompleted:a,start:null,current:null,completed:!1}),this.start())}},{key:"reset",value:function(){this.anims.forEach((function(e){e.current=1,e.onFrame(e.current),e.completed=!0})),this.anims=[],this.cancelAnimFrame(),this.state="IDLE",this.requestId=null}},{key:"start",value:function(){this.anims.length&&(this.state="RUNNING",this.runFrame())}},{key:"runFrame",value:function(){var e=this;this.requestId=window.requestAnimationFrame((function(t){e.runAnims(t)}))}},{key:"runAnims",value:function(e){this.next(e),this.anims.length?this.runFrame():(this.state="IDLE",this.requestId=null)}},{key:"next",value:function(e){var t=this;this.anims.forEach((function(t){M(t.start)&&(t.start=e),Object.defineProperty(t.chart,"___animId___",{value:e,enumerable:!1,writable:!1,configurable:!0}),t.current=t.duration?Math.min((e-t.start)/t.duration,1):1,t.onFrame(t.current),t.completed=1===t.current})),this.anims.forEach((function(n){n.chart.___animId___===e&&(n.chart.draw(),delete n.chart.___animId___),n.completed&&(t.cancelAnimFrame(),n.onCompleted(),n.chart.eventBus.emit("animationCompleted",n.requester))})),this.anims=this.anims.filter((function(e){return!e.completed}))}},{key:"cancelAnimFrame",value:function(){this.requestId&&window.cancelAnimationFrame(this.requestId)}}]),e}();function Qu(e,t){return of(e)||rf(e,t)||tf(e,t)||ef()}function ef(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tf(e,t){if(e){if("string"===typeof e)return nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nf(e,t):void 0}}function nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rf(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function of(e){if(Array.isArray(e))return e}function af(e){var t=e.slope,n=e.yIntercept,r=e.mouseX,i=e.mouseY,o=e.modelXPositions,a=e.compX,s=e.compY,l=e.detectionSize,c=void 0===l?0:l,u=Qu(o,2),f=u[0],d=u[1],h=t*(r-a)+n,p=f>d&&r>=a+d&&r<=a+f||f<d&&r<=a+d&&r>=a+f,v=h-c+s<=i&&i<=h+c+s;return p&&v}var sf={circle:function(e,t,n){var r=e.x,i=e.y,o=t.x,a=t.y,s=t.radius,l=t.detectionSize,c=n.x,u=n.y,f=E(l)?10:l;return Math.pow(r-(o+c),2)+Math.pow(i-(a+u),2)<Math.pow(s+f,2)},rect:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:0,height:0},r=e.x,i=e.y,o=t.x,a=t.y,s=t.width,l=t.height,c=n.x,u=n.y;return r>=o+c&&r<=o+c+s&&i>=a+u&&i<=a+u+l},sector:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:0,height:0},r=e.x,i=e.y,o=t.x,a=t.y,s=t.radius,l=s.outer,c=s.inner,u=t.degree,f=u.start,d=u.end,h=t.drawingStartAngle,p=t.clockwise,v=n.x,m=n.y,y=r-(o+v),g=i-(a+m),b=Math.pow(y,2)+Math.pow(g,2)<Math.pow(l,2),w=Math.pow(y,2)+Math.pow(g,2)>Math.pow(c,2),x=b&&w,k=jt(Math.atan2(g,y),h);return x&&Nt(p,f,d,k)},line:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:0,height:0},r=e.x,i=e.y,o=n.x,a=n.y,s=t.x,l=t.y,c=t.x2,u=t.y2,f=t.detectionSize,d=void 0===f?3:f,h=u-l,p=c-s,v=!1;if(0===h){var m=Math.min(s,c),y=Math.max(s,c);v=r-o>=m&&r-o<=y&&i>=l+a-d&&i<=l+a+d}else if(0===p){var g=Math.min(l,u),b=Math.max(l,u);v=i-a>=g&&i-a<=b&&r>=s+o-d&&r<=s+o+d}else{var w=h/p,x=r-(s+o),k=i-(l+a);v=w*x===k}return v},boxPlot:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:0,height:0};return["rect","median","minimum","maximum","upperWhisker","lowerWhisker"].some((function(r){return!!t[r]&&("rect"===r?sf.rect(e,t[r],n):sf.line(e,t[r],n))}))},clockHand:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:0,height:0},r=e.x,i=e.y,o=n.x,a=n.y,s=t.x,l=t.y,c=t.x2,u=t.y2,f=t.detectionSize,d=void 0===f?5:f,h=u-l,p=c-s,v=!1;if(0===h){var m=Math.min(s,c),y=Math.max(s,c);v=r-o>=m&&r-o<=y&&i>=l+a-d&&i<=l+a+d}else if(0===p){var g=Math.min(l,u),b=Math.max(l,u);v=i-a>=g&&i-a<=b&&r>=s+o-d&&r<=s+o+d}else{var w=h/p,x=l-w*s;v=af({slope:w,yIntercept:x,mouseX:r,mouseY:i,modelXPositions:[s,c],compX:o,compY:a,detectionSize:d})}return v}},lf=6048e5;function cf(e){var t=(new Date).getTime();return t-e>lf}function uf(e,t){var n=Object.keys(t).map((function(e,n){return"".concat(n?"&":"").concat(e,"=").concat(t[e])})).join(""),r=document.createElement("img");return r.src="".concat(e,"?").concat(n),r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}function ff(){var e=location.hostname,t="TOAST UI chart for ".concat(e,": Statistics"),n=window.localStorage.getItem(t);n&&!cf(Number(n))||(window.localStorage.setItem(t,String((new Date).getTime())),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||uf("https://www.google-analytics.com/collect",{v:1,t:"event",tid:"UA-129983528-2",cid:e,dp:e,dh:"chart",el:"chart",ec:"use"})}),1e3))}function df(e){return mf(e)||vf(e)||pf(e)||hf()}function hf(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pf(e,t){if(e){if("string"===typeof e)return yf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yf(e,t):void 0}}function vf(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function mf(e){if(Array.isArray(e))return yf(e)}function yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(n),!0).forEach((function(t){Sf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t,n){return t&&xf(e.prototype,t),n&&xf(e,n),e}function Sf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Of=500;function Cf(e,t,n,r){var i=t.width,o=t.height,a=oe(n),s=oe(r);return"updateOptions"===e?{width:E(n)||i===a?i:a,height:E(r)||o===s?o:s}:{width:a,height:s}}var Ef=function(){function e(t){var n,r,i=this;wf(this,e),Sf(this,"store",void 0),Sf(this,"___animId___",null),Sf(this,"animator",void 0),Sf(this,"containerEl",void 0),Sf(this,"el",void 0),Sf(this,"ctx",void 0),Sf(this,"painter",new $u(this)),Sf(this,"eventBus",new Nu),Sf(this,"componentManager",void 0),Sf(this,"modules",void 0),Sf(this,"enteredComponents",[]),Sf(this,"animationControlFlag",{resizing:!1,updating:!1}),Sf(this,"resizeObserver",null),Sf(this,"debounceResizeEvent",U((function(){var e=i.containerEl,t=e.offsetWidth,n=e.offsetHeight;i.resizeChartSize(t,n)}),100)),Sf(this,"getCheckedLegend",(function(){var e=i.store.state.legend.data;return e.filter((function(e){return e.checked})).map((function(e){return z(e,"chartType","label","checked")}))})),Sf(this,"getOptions",(function(){return Oe(i.store.initStoreState.options)})),Sf(this,"on",(function(e,t){i.eventBus.on(e,t)})),Sf(this,"destroy",(function(){i.componentManager.clear(),i.clearResizeEvent(),i.containerEl.innerHTML=""})),Sf(this,"selectSeries",(function(e){if(!i.isSelectableSeries())throw new Error(ae.SELECT_SERIES_API_SELECTABLE_ERROR);i.eventBus.emit("selectSeries",bf(bf({},e),{},{state:i.store.state}))})),Sf(this,"unselectSeries",(function(){if(!i.isSelectableSeries())throw new Error(ae.SELECT_SERIES_API_SELECTABLE_ERROR);i.store.dispatch("setAllLegendActiveState",!0),i.eventBus.emit("resetSelectedSeries")})),Sf(this,"resize",(function(e){i.resetSeries(),i.dispatchOptionsEvent("updateOptions",{chart:bf({},e)})})),Sf(this,"resetSeries",(function(){i.eventBus.emit("resetHoveredSeries"),i.eventBus.emit("resetSelectedSeries")})),Sf(this,"setResizeEventListeners",(function(e,t){var n,r,o=i.store.state.usingContainerSize,a=o.width,s=o.height,l=null===t||void 0===t||null===(n=t.chart)||void 0===n?void 0:n.width,c=null===t||void 0===t||null===(r=t.chart)||void 0===r?void 0:r.height,u=oe(l),f=oe(c);i.store.dispatch("setUsingContainerSize",Cf(e,o,l,c)),(a||s)&&T(l)&&T(c)?i.clearResizeEvent():a||s||!u&&!f||i.setResizeEvent()}));var o=t.el,a=t.options,s=t.series,l=t.categories,c=t.modules;this.modules=null!==c&&void 0!==c?c:[],(E(a.usageStatistics)||a.usageStatistics)&&ff(),this.containerEl=o,this.el=this.createChartWrapper(),this.containerEl.appendChild(this.el),this.animator=new Ju,this.store=new Pe({series:s,categories:l,options:a}),this.componentManager=new Fu({store:this.store,eventBus:this.eventBus}),this.eventBus.on("needLoop",U((function(){var e,t,n=i.getAnimationDuration(null===(e=a.chart)||void 0===e?void 0:e.animation);i.animationControlFlag.resizing&&(n=E(a.responsive)?i.getAnimationDuration():i.getAnimationDuration(null===(t=a.responsive)||void 0===t?void 0:t.animation),i.animationControlFlag.resizing=!1);i.eventBus.emit("loopStart"),i.animator.add({onCompleted:function(){i.eventBus.emit("loopComplete")},chart:i,duration:n,requester:i})}),10)),this.eventBus.on("needSubLoop",(function(e){i.animator.add(bf(bf({},e),{},{chart:i}))})),this.eventBus.on("needDraw",U((function(){i.draw()}),10)),this.initialize(),this.store.observe((function(){i.painter.setup()})),(oe(null===a||void 0===a||null===(n=a.chart)||void 0===n?void 0:n.width)||oe(null===a||void 0===a||null===(r=a.chart)||void 0===r?void 0:r.height))&&this.setResizeEvent()}return kf(e,[{key:"getAnimationDuration",value:function(e){var t,n=this.animator.firstRendering,r=this.animationControlFlag,i=r.resizing,o=r.updating;return!n&&!i||E(e)?t=Of:A(e)?t=e?Of:0:T(e.duration)&&(t=e.duration),o&&(t=0),this.animationControlFlag.updating=!1,t}},{key:"createChartWrapper",value:function(){var e=document.createElement("div");return e.classList.add("toastui-chart-wrapper"),e}},{key:"resizeChartSize",value:function(e,t){this.animationControlFlag.resizing=!0;var n=this.store.state,r=n.usingContainerSize,i=r.width,o=r.height,a=n.chart,s=a.width,l=a.height;!i&&!o||!e&&!t||e===s&&t===l?this.animationControlFlag.resizing=!1:(this.resetSeries(),this.store.dispatch("setChartSize",{width:i?e:s,height:o?t:l}),this.draw())}},{key:"setResizeEvent",value:function(){var e=this,t=this.store.state.usingContainerSize;if(t.height&&!this.containerEl.style.height.length||t.width&&!this.containerEl.style.width.length)throw new Error(ae.AUTO_LAYOUT_CONTAINER_SIZE_ERROR);var n="undefined"===typeof ResizeObserver;n?window.addEventListener("resize",this.debounceResizeEvent):(this.resizeObserver=new ResizeObserver((function(t){t.forEach((function(){e.debounceResizeEvent()}))})),this.resizeObserver.observe(this.containerEl))}},{key:"clearResizeEvent",value:function(){this.resizeObserver?(this.resizeObserver.unobserve(this.containerEl),this.resizeObserver.disconnect(),this.resizeObserver=null):window.removeEventListener("resize",this.debounceResizeEvent)}},{key:"handleCanvasMouseEvent",value:function(e,t){var n=this,r=[];this.componentManager.forEach((function(i){if("mousemove"===e){var o=n.enteredComponents.some((function(e){return e===i}));Qi(i.rect,t)?(r.push(i),!o&&i.onMouseenterComponent&&i.onMouseenterComponent()):o&&i.onMouseoutComponent&&i.onMouseoutComponent()}else"mouseout"===e&&i.onMouseoutComponent&&i.onMouseoutComponent()})),this.enteredComponents=r}},{key:"handleResponderEvent",value:function(e,t){var n=e.type,r="on".concat(n[0].toUpperCase()+n.substring(1)),i=[];this.componentManager.forEach((function(n){if(n[r]&&sf.rect(t,n.rect)){var o=(n.responders||[]).filter((function(e){return sf[e.type](t,e,n.rect)}));o.length&&i.push({component:n,detected:o}),n[r]({mousePosition:t,responders:o},e)}})),this.handleEventForAllResponders&&this.handleEventForAllResponders(e,i,r,t)}},{key:"handleEvent",value:function(e){var t=e.clientX,n=e.clientY,r=e.type,i=this.painter.ctx.canvas,o=i.getBoundingClientRect(),a=o.width,s=o.height,l=o.left,c=o.top,u=a/i.offsetWidth,f=s/i.offsetHeight,d={x:(t-l)/u,y:(n-c)/f};"mousemove"!==r&&"mouseout"!==r||this.handleCanvasMouseEvent(r,d),this.handleResponderEvent(e,d)}},{key:"initStore",value:function(){var e=this;[Ne,pu,Du,ul,uu,As,Bs].concat(df(this.modules)).forEach((function(t){return e.store.setModule(t)}))}},{key:"initialize",value:function(){this.initStore(),this.store.dispatch("initChartSize",this.containerEl)}},{key:"draw",value:function(){var e=this;this.painter.beforeFrame(),this.componentManager.forEach((function(t){t.isShow&&(e.painter.beforeDraw(t.rect.x,t.rect.y),t.beforeDraw&&t.beforeDraw(e.painter),t.draw(e.painter),e.painter.afterDraw())}))}},{key:"update",value:function(e){this.componentManager.invoke("update",e)}},{key:"initUpdate",value:function(e){this.componentManager.invoke("initUpdate",e)}},{key:"isSelectableSeries",value:function(){var e;return null===(e=this.store.initStoreState.options.series)||void 0===e?void 0:e.selectable}},{key:"setTooltipOffset",value:function(e){var t=e.x,n=e.y;this.store.dispatch("updateOptions",{options:{tooltip:{offsetX:t,offsetY:n}}})}},{key:"dispatchOptionsEvent",value:function(e,t){this.setResizeEventListeners(e,t);var n=this.containerEl,r=n.offsetWidth,i=n.offsetHeight;this.store.dispatch(e,{options:t,containerSize:{width:r,height:i}})}}]),e}();n(8143),n(2023);function Mf(e,t){return Pf(e)||Tf(e,t)||_f(e,t)||Af()}function Af(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tf(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Pf(e){if(Array.isArray(e))return e}function Rf(e){return Lf(e)||jf(e)||_f(e)||Df()}function Df(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _f(e,t){if(e){if("string"===typeof e)return If(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?If(e,t):void 0}}function jf(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Lf(e){if(Array.isArray(e))return If(e)}function If(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nf(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={min:Math.min.apply(Math,Rf(e)),max:Math.max.apply(Math,Rf(e))};if(1===e.length){var r=Mf(e,1),i=r[0];t?(n.min=i,n.max=i):i>0?n.min=0:n.max=0===i?10:0}else 0===n.min&&0===n.max?n.max=10:n.min===n.max&&(n.min-=n.min/10,n.max+=n.max/10);return n}function Bf(e,t,n){var r,i,o,a,s={min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER};return{min:Math.min(t[n].min,null!==(r=null===(i=e[n])||void 0===i?void 0:i.min)&&void 0!==r?r:s.min),max:Math.max(t[n].max,null!==(o=null===(a=e[n])||void 0===a?void 0:a.max)&&void 0!==o?o:s.max)}}function zf(e){return Object.values(e).reduce((function(e,t){return t.xAxis&&(e.xAxis=Bf(e,t,"xAxis")),t.yAxis&&(e.yAxis=Bf(e,t,"yAxis")),t.secondaryYAxis&&(e.secondaryYAxis=Bf(e,t,"secondaryYAxis")),t.circularAxis&&(e.circularAxis=Bf(e,t,"circularAxis")),t.verticalAxis&&(e.verticalAxis=Bf(e,t,"verticalAxis")),e}),{})}function Hf(e){var t,n=e.options,r=e.seriesName,i=e.values,o=e.valueAxisName,a=e.seriesDataRange;if(B([Xn.X,Xn.CIRCULAR,Xn.VERTICAL],o))t=[o];else{var s=n,l=Oi(s),c=l.secondaryYAxis;t=Si(s)&&null!==c&&void 0!==c&&c.chartType?[c.chartType===r?"secondaryYAxis":"yAxis"]:Ei(s,o)}return t.forEach((function(e){a[r][e]=Nf(Rf(new Set(i)))})),a}function Wf(e,t){return e[t].data.flatMap((function(e){var t=e.data,n=e.outliers,r=void 0===n?[]:n;return[].concat(Rf((null!==t&&void 0!==t?t:[]).flatMap((function(e){return e}))),Rf((null!==r&&void 0!==r?r:[]).flatMap((function(e){return e}))))}))}function Ff(e,t){return e[t].data.flatMap((function(e){var t=e.data,n=e.markers,r=e.ranges;return[t].concat(Rf((null!==n&&void 0!==n?n:[]).flatMap((function(e){return e}))),Rf((null!==r&&void 0!==r?r:[]).flatMap((function(e){return e}))))}))}function Uf(e,t,n){var r=e.filter((function(e){return!M(e)})).map((function(e){return Yi(e)})),i=t.map((function(e){return Number(n?new Date(e):e)}));return{xAxisValues:i,yAxisValues:r}}var Vf={name:"dataRange",state:function(){return{dataRange:{}}},action:{setDataRange:function(e){var t=e.state,n=e.initStoreState,r=t.series,i=t.disabledSeries,o=t.stackSeries,a=t.categories,s=t.options,l={},c=vi({series:r,options:s,categories:a}),u=wi(c,r),f=u.labelAxisName,d=u.valueAxisName;Object.keys(r).forEach((function(e){var t;l[e]={};var c=r[e].data.flatMap((function(e){var t=e.data,n=e.name;return i.includes(n)?[]:t})),u=te(c);if(Zi(n.series)){var h,p=!(null===(h=s.xAxis)||void 0===h||!h.date),v=Uf(c,a,p),m=v.yAxisValues,y=v.xAxisValues;c=m,l[e][f]=Nf(Rf(y),!0)}else r[e].data.length?Ts(u)?c=c.reduce((function(e,t){return M(t)?e:Array.isArray(t)?[].concat(Rf(e),Rf(t)):Rf(t)}),[]):o&&null!==(t=o[e])&&void 0!==t&&t.stack?c=o[e].dataRangeValues:"boxPlot"===e?c=Wf(r,e):"bullet"===e&&(c=Ff(r,e)):c=[];B(["bar","column","radar","bullet"],e)&&c.push(0),Hf({options:s,seriesName:e,values:c,valueAxisName:d,seriesDataRange:l})}));var h=zf(l);Re(t.dataRange,h)}},observe:{updateDataRange:function(){this.dispatch("setDataRange")}}},qf=Vf;function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(n),!0).forEach((function(t){Gf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xf(e){return Qf(e)||Jf(e)||Zf(e)||Kf()}function Kf(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zf(e,t){if(e){if("string"===typeof e)return ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,t):void 0}}function Jf(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Qf(e){if(Array.isArray(e))return ed(e)}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var td=[1,2,5,10],nd=88;function rd(e,t,n){var r=e.min,i=e.max;return{min:n.min?r-t:r,max:n.max?i+t:i}}function id(e,t,n){var r=t.min,i=t.max,o=e.limit,a=T(null===n||void 0===n?void 0:n.min),s=T(null===n||void 0===n?void 0:n.max),l=!a&&o.min===r&&0!==o.min,c=!s&&o.max===i&&0!==o.max;return l||c?{min:l,max:c}:null}function od(e){var t=0===e?1:Math.log(Math.abs(e))/Math.LN10;return Math.pow(10,Math.floor(t))}function ad(e){for(var t=0,n=0,r=td.length;n<r;n+=1){t=td[n];var i=(t+(td[n+1]||t))/2;if(e<=i)break}return t}function sd(e){var t=od(e),n=e/t;return ad(n)*t}function ld(e,t){var n=e.min,r=e.max,i=Math.min(od(r),od(t)),o=i>1?1:1/i,a=t*o;return r=Math.ceil(r*o/a)*a/o,n=n>t?Math.floor(n*o/a)*a/o:n<0?-Math.ceil(Math.abs(n)*o/a)*a/o:0,{min:n,max:r}}function cd(e,t){var n=1/Math.min(od(e),od(t));return Math.ceil(e*n/(t*n))}function ud(e){return T(e)}function fd(e,t){var n=ud(t.stepSize)?e.stepSize:sd(e.stepSize),r=ld(e.limit,n),i=Math.abs(r.max-r.min),o=cd(i,n);return{limit:{min:r.min,max:r.max},stepSize:n,stepCount:o}}function dd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.min,i=e.max,o=Math.abs(i-r),a=o/t,s=Math.ceil(t/nd),l=t/s,c=a*l;return ud(e.stepSize)?(c=e.stepSize,s=o/c):T(n)&&c<n&&(c=n,s=o/c),{limit:{min:r,max:i},stepSize:c,stepCount:s}}function hd(e,t){var n,r,i;return{max:null!==(n=null===t||void 0===t?void 0:t.max)&&void 0!==n?n:e.max,min:null!==(r=null===t||void 0===t?void 0:t.min)&&void 0!==r?r:e.min,stepSize:null!==(i=null===t||void 0===t?void 0:t.stepSize)&&void 0!==i?i:"auto"}}function pd(e){var t=e.dataRange,n=e.scaleOption,r=e.offsetSize,i=e.minStepSize,o=e.useSpectrumLegend,a=hd(t,n),s=dd(a,r,i),l=fd(s,a),c=o?null:id(l,a,n);if(c){var u=l.stepSize,f=l.limit;l.limit=rd(f,u,c)}return l}function vd(e){return"minusPercentStack"===e?{limit:{min:-100,max:0},stepSize:25,stepCount:5}:"dualPercentStack"===e||"divergingPercentStack"===e?{limit:{min:-100,max:100},stepSize:25,stepCount:9}:{limit:{min:0,max:100},stepSize:25,stepCount:5}}function md(e,t,n){var r=qi(t,Xn.X),i=n.map((function(e){return Number(r?new Date(e):e)})),o=e.limit,a=e.stepSize,s=Math.min.apply(Math,Xf(i)),l=Math.max.apply(Math,Xf(i)),c=$f({},o),u=l-s,f=0,d=1;u&&(o.min<s&&(c.min+=a,f=(c.min-s)/u,d-=f),o.max>l&&(c.max-=a,d-=(l-c.max)/u));var h=Math.abs(c.max-c.min),p=cd(h,a);return{limit:c,stepCount:p,stepSize:a,positionRatio:f,sizeRatio:d}}function yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(n),!0).forEach((function(t){bd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wd={year:31536e6,month:26784e5,week:6048e5,date:864e5,hour:36e5,minute:6e4,second:1e3};function xd(e){var t=e.dataRange,n=e.rawCategoriesSize,r=e.scaleOption,i=Od(t,n,r),o=i.minDate,a=i.divisionNumber,s=i.limit,l=pd(gd(gd({},H(e,"scaleOption")),{},{dataRange:s,minStepSize:1}));return Sd(l,o,a)}var kd=["year","month","week","date","hour","minute","second"];function Sd(e,t,n){var r=e.limit,i=e.stepSize,o=r.min,a=r.max;return gd(gd({},e),{},{stepSize:mn(i,n),limit:{min:mn(vn(o,t),n),max:mn(vn(a,t),n)}})}function Od(e,t,n){var r,i=Cd(e,t),o=null!==(r=null===n||void 0===n?void 0:n.stepSize)&&void 0!==r?r:wd[i],a=hd(e,n),s=yn(Number(new Date(a.min)),o),l=yn(Number(new Date(a.max)),o);return{divisionNumber:o,minDate:s,limit:{min:0,max:l-s}}}function Cd(e,t){var n,r=e.max,i=e.min,o=r-i,a=kd.length-1;return o?kd.every((function(e,r){var i,s=wd[e],l=Math.floor(o/s);return l&&(i=r<a&&l<2&&l<t?r+1:r,n=kd[i]),!O(i)})):n="second",n}function Ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ed(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ed(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Td(e){return _d(e)||Dd(e)||Rd(e)||Pd()}function Pd(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rd(e,t){if(e){if("string"===typeof e)return jd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jd(e,t):void 0}}function Dd(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _d(e){if(Array.isArray(e))return jd(e)}function jd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ld(e){return!("percent"!==(null===e||void 0===e?void 0:e.type))}function Id(e){return!Array.isArray(e)}function Nd(e){return!!e&&Object.keys(e).some((function(t){return Ld(e[t].stack)}))}function Bd(e){return W(e,["series","stack"])||W(e,["series","column","stack"])||W(e,["series","area","stack"])}function zd(e){for(var t=e.length,n=e.map((function(e){var t=e.rawData;return t.length})),r=Math.max.apply(Math,Td(n)),i=[],o=0;o<r;o+=1){for(var a=[],s=0;s<t;s+=1)a.push(e[s].rawData[o]);i[o]={values:a,sum:J(a),total:{positive:J(a.filter((function(e){return e>=0}))),negative:J(a.filter((function(e){return e<0})))}}}return i}function Hd(e){var t={},n=Td(new Set(e.map((function(e){var t=e.stackGroup;return t}))));return n.forEach((function(n){var r=e.filter((function(e){var t=e.stackGroup;return n===t}));t[n]=zd(r)})),t}function Wd(e){if(e){var t={type:"normal",connector:!1};return Fd(e)?Md(Md({},t),e):t}}function Fd(e){return D(e)}function Ud(e){return e.some((function(e){return e.hasOwnProperty("stackGroup")}))}function Vd(e){var t=[];if(Array.isArray(e))t=[0].concat(Td(qd(e)));else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t=[0].concat(Td(t),Td(qd(e[n]))));return t}function qd(e){var t=e.map((function(e){var t=e.total;return t.positive})),n=e.map((function(e){var t=e.total;return t.negative}));return[].concat(Td(n),Td(t))}function Yd(e){if(!Id(e))return e;var t=[];return Id(e)&&Object.keys(e).forEach((function(n){t=[].concat(Td(t),Td(e[n]))})),t}function $d(e){return{hasNegative:e.map((function(e){var t=e.total;return t.negative})).some((function(e){return e<0})),hasPositive:e.map((function(e){var t=e.total;return t.positive})).some((function(e){return e>=0}))}}function Gd(e,t,n){var r=$d(e),i=r.hasPositive,o=r.hasNegative;if("percent"===t){if(n)return"divergingPercentStack";if(o&&i)return"dualPercentStack";if(!o&&i)return"percentStack";if(o&&!i)return"minusPercentStack"}}function Xd(e,t){var n={};return Object.keys(e).forEach((function(e){var r=e,i=Bd(t);i?(n[r]||(n[r]={}),n[r].stack=Wd(i)):"radialBar"===e&&(n[e]={stack:!0})})),n}var Kd={name:"stackSeriesData",state:function(e){var t=e.series,n=e.options;return{stackSeries:Xd(t,n)}},action:{setStackSeriesData:function(e){var t=e.state,n=t.series,r=t.stackSeries,i=t.options,o=Bd(i),a={};Object.keys(n).forEach((function(e){var s,l=n[e],c=l.data,u=l.seriesCount,f=l.seriesGroupCount,d="radialBar"===e;o?(r[e]||(r[e]={}),r[e].stack=Wd(o)):d||(r[e]=null,delete r[e]);var h=r[e]||{},p=h.stack,v=!(null===(s=i.series)||void 0===s||!s.diverging);if(p){var m,y=Ud(c)?Hd(c):zd(c),g=null!==(m=p.type)&&void 0!==m?m:"normal",b=Vd(y);a[e]={data:c,seriesCount:u,seriesGroupCount:f,stackData:y,dataRangeValues:b,scaleType:Gd(Yd(y),g,v)},t.stackSeries[e].stackData=y}Re(t.stackSeries,a)}))}},observe:{updateStackSeriesData:function(){this.dispatch("setStackSeriesData")}}},Zd=Kd,Jd=1;function Qd(e,t,n,r){var i,o,a,s=e.dataRange,l=e.layout,c=e.series,u=e.options,f=e.categories,d=e.rawCategories,h=xi(t),p=h.labelSizeKey,v=O(null===(i=u.xAxis)||void 0===i?void 0:i.date),m={dataRange:s[r],offsetSize:Math.max(l.plot[p],Jd),scaleOption:n[r],rawCategoriesSize:d.length};return s[r]&&(a=v?xd(m):pd(m)),!c.line||!f||null!==(o=u.xAxis)&&void 0!==o&&o.pointOnColumn||(a=md(a,u,f)),a}function eh(e,t,n,r,i){var o,a=e.dataRange,s=e.layout,l=e.series,c=e.stackSeries,u=xi(t),f=u.valueSizeKey;if(Nd(c))Object.keys(l).forEach((function(e){o=vd(c[e].scaleType)}));else if(i){var d={dataRange:a[r],offsetSize:Math.max(s.plot[f],Jd),scaleOption:n[r]};o=pd(d)}else o=pd({dataRange:a[r],offsetSize:Math.max(s.plot[f],Jd),scaleOption:n[r]});return o}function th(e,t,n){var r={};if(gi(t)){var i;r[n]=null===e||void 0===e||null===(i=e[n])||void 0===i?void 0:i.scale}else{var o,a=Oi(e),s=a.yAxis,l=a.secondaryYAxis;r.xAxis=null===e||void 0===e||null===(o=e.xAxis)||void 0===o?void 0:o.scale,r.yAxis=null===s||void 0===s?void 0:s.scale,l&&(r.secondaryYAxis=null===l||void 0===l?void 0:l.scale)}return r}var nh={name:"scale",state:function(){return{scale:{}}},action:{setScale:function(e){var t=e.state,n=e.initStoreState,r=t.series,i=t.options,o=t.categories,a=vi({series:r,options:i,categories:o}),s=wi(a,r),l=s.labelAxisName,c=s.valueAxisName,u=th(i,r,c),f=Zi(n.series),d={};Ei(i,c).forEach((function(e){d[e]=eh(t,a,u,e,f)})),f&&(d[l]=Qd(t,a,u,l)),t.scale=d}},observe:{updateScale:function(){this.dispatch("setScale")}}},rh=nh;function ih(e,t){return e.some((function(e){var n=e.id;return!E(n)&&!E(t.id)&&n===t.id}))}function oh(e){return lh(e)||sh(e)||fh(e)||ah()}function ah(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sh(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function lh(e){if(Array.isArray(e))return dh(e)}function ch(e,t){return ph(e)||hh(e,t)||fh(e,t)||uh()}function uh(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fh(e,t){if(e){if("string"===typeof e)return dh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dh(e,t):void 0}}function dh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hh(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function ph(e){if(Array.isArray(e))return e}function vh(e){var t=e.reduce((function(e,t){var n=t.range,r=ch(e,2),i=r[0],o=r[1],a=n,s=ch(a,2),l=s[0],c=s[1];return[Math.min(i,l),Math.max(o,c)]}),[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER]);return{range:t,color:e[0].color}}function mh(e,t){return t.findIndex((function(t){return t===String(e)}))}function yh(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?Number(new Date(e)):P(e)?mh(e,t):e}function gh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return n.map((function(n){var r=n.value,i=n.color,o=n.opacity;return{value:yh(r,e,t),color:tt(i,o)}}))}function bh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return n.flatMap((function(n){var r=n.range,i=n.mergeOverlappingRanges,o=void 0!==i&&i,a=n.color,s=n.opacity,l=tt(a,s),c=Ts(r[0])?r:[r],u=c.map((function(n){return{range:n.map((function(n){return yh(n,e,t)})),color:l}}));return o?vh(u):u}))}var wh={name:"plot",state:function(e){var t,n,r=e.options;return{plot:{visible:null===(t=null===r||void 0===r||null===(n=r.plot)||void 0===n?void 0:n.visible)||void 0===t||t,lines:[],bands:[]}}},action:{setPlot:function(e){var t,n,r,i,o=e.state,a=o.series,s=o.options;if(a.area||a.line){var l=o.rawCategories,c=s,u=gh(l,!(null===s||void 0===s||null===(t=s.xAxis)||void 0===t||!t.date),null===c||void 0===c||null===(n=c.plot)||void 0===n?void 0:n.lines),f=bh(l,!(null===s||void 0===s||null===(r=s.xAxis)||void 0===r||!r.date),null===c||void 0===c||null===(i=c.plot)||void 0===i?void 0:i.bands);Re(o.plot,{lines:u,bands:f})}},addPlotLine:function(e,t){var n,r,i,o=e.state,a=t.data,s=null!==(n=null===(r=o.options)||void 0===r||null===(i=r.plot)||void 0===i?void 0:i.lines)&&void 0!==n?n:[];ih(s,a)||this.dispatch("updateOptions",{options:{plot:{lines:[].concat(oh(s),[a])}}})},addPlotBand:function(e,t){var n,r,i,o=e.state,a=t.data,s=null!==(n=null===(r=o.options)||void 0===r||null===(i=r.plot)||void 0===i?void 0:i.bands)&&void 0!==n?n:[];ih(s,a)||this.dispatch("updateOptions",{options:{plot:{bands:[].concat(oh(s),[a])}}})},removePlotLine:function(e,t){var n,r,i,o=e.state,a=t.id,s=(null!==(n=null===(r=o.options)||void 0===r||null===(i=r.plot)||void 0===i?void 0:i.lines)&&void 0!==n?n:[]).filter((function(e){var t=e.id;return t!==a}));this.dispatch("updateOptions",{options:{plot:{lines:s}}})},removePlotBand:function(e,t){var n,r,i,o=e.state,a=t.id,s=(null!==(n=null===(r=o.options)||void 0===r||null===(i=r.plot)||void 0===i?void 0:i.bands)&&void 0!==n?n:[]).filter((function(e){var t=e.id;return t!==a}));this.dispatch("updateOptions",{options:{plot:{bands:s}}})}},observe:{updatePlot:function(){this.dispatch("setPlot")}}},xh=wh;function kh(e){return e.hasOwnProperty("r")}function Sh(e){var t="";return t=Ts(e)?"".concat(e[0]," ~ ").concat(e[1]):D(e)&&!Array.isArray(e)?"(".concat(e.x,", ").concat(e.y,")")+(kh(e)?", r: ".concat(e.r):""):String(e),t}function Oh(e,t){return Mh(e)||Eh(e,t)||Ph(e,t)||Ch()}function Ch(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Eh(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Mh(e){if(Array.isArray(e))return e}function Ah(e){return Dh(e)||Rh(e)||Ph(e)||Th()}function Th(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ph(e,t){if(e){if("string"===typeof e)return _h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_h(e,t):void 0}}function Rh(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Dh(e){if(Array.isArray(e))return _h(e)}function _h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e,t){return'<span class="toastui-chart-series-name">\n    <i class="toastui-chart-icon" style="background: '.concat(t,'"></i>\n    <span class="toastui-chart-name">').concat(e,"</span>\n  </span>")}function Lh(e,t){return'<div class="toastui-chart-tooltip-series">\n    <span class="toastui-chart-series-name">'.concat(e,'</span>\n    <span class="toastui-chart-series-value">').concat(t,"</span>\n  </div>")}function Ih(e,t){return'<div class="toastui-chart-tooltip-series">\n    <i class="toastui-chart-icon" style="background: '.concat(e,'"></i>\n    <span class="toastui-chart-series-value">').concat(t,"</span>\n  </div>")}function Nh(e,t){return e.filter((function(e){var n=e.title;return n===t})).sort((function(e,t){return Ts(e.value)&&Ts(t.value)?e.value[0]-t.value[0]:T(e.value)&&T(t.value)?e.value-t.value:0})).map((function(e){var t=e.formattedValue,n=e.color;return Ih(n,t)})).join("")}function Bh(e,t,n){var r=t.header,i=t.body,o=n.borderColor,a=n.borderWidth,s=n.background,l=n.borderRadius,c=n.borderStyle,u="border: ".concat(a,"px ").concat(c," ").concat(o,";border-radius: ").concat(l,"px;background: ").concat(s,";");return'<div class="toastui-chart-tooltip" style="'.concat(u,'">').concat(r).concat(i,"</div>")}function zh(e,t){var n=e.category;return n?'<div class="toastui-chart-tooltip-category" style="'.concat(lt(t.header),'">\n        ').concat(n,"\n      </div>"):""}function Hh(e,t){var n=e.data;return'\n    <div class="toastui-chart-tooltip-series-wrapper" style="'.concat(lt(t.body),'">\n      ').concat(n.map((function(e){var t=e.label,n=e.color,r=e.formattedValue;return'<div class="toastui-chart-tooltip-series">\n                '.concat(jh(t,n),'\n                <span class="toastui-chart-series-value">').concat(r,"</span>\n              </div>")})).join(""),"\n    </div>")}function Wh(e,t){var n=e.data,r=n.reduce((function(e,t,n){return n?(e.category===t.category&&e.label===t.label&&(e.value=[].concat(Ah(e.value),Ah(t.value))),e):t}),{});return'\n    <div class="toastui-chart-tooltip-series-wrapper" style="'.concat(lt(t.body),'">\n      ').concat([r].map((function(e){var t=e.label,n=e.color,r=e.value;return'<div class="toastui-chart-tooltip-series">\n              '.concat(jh(t,n),"\n            </div>\n            <div>\n          ").concat(r.map((function(e){var t=e.title,n=e.formattedValue;return Lh(t,n)})).join(""),"\n            </div>")})).join(""),"\n    </div>")}function Fh(e,t){var n=e.data;return n.length>1?Vh(n,t):Uh(n,t)}function Uh(e,t){return'\n    <div class="toastui-chart-tooltip-series-wrapper" style="'.concat(lt(t.body),'">\n      ').concat(e.map((function(e){var t=e.label,n=e.color,r=e.value;return'<div class="toastui-chart-tooltip-series">'.concat(jh(t,n),"</div>\n            ").concat(r.map((function(e){var t=e.title,n=e.formattedValue;return Lh(t,n)})).join(""))})).join(""),"\n    </div>")}function Vh(e,t){var n=e.map((function(e){var t=e.value;return t[0]})),r=["Actual","Range","Marker"].map((function(e){return Nh(n,e)})),i=Oh(r,3),o=i[0],a=i[1],s=i[2];return'<div class="toastui-chart-tooltip-category" style="'.concat(lt(t.header),'">\n      ').concat(e[0].label,'\n    </div>\n    <div class="toastui-chart-tooltip-series-wrapper" style="').concat(lt(t.body),'">\n      ').concat(o?'<div class="toastui-chart-tooltip-title">Actual</div>':""," ").concat(o,"\n      ").concat(a?'<div class="toastui-chart-tooltip-title">Ranges</div>':""," ").concat(a,"\n      ").concat(s?'<div class="toastui-chart-tooltip-title">Markers</div>':""," ").concat(s,"\n    </div>")}function qh(e,t){var n=e.data;return'\n    <div class="toastui-chart-tooltip-series-wrapper" style="'.concat(lt(t.body),'">\n      ').concat(n.map((function(e){var t=e.label,n=e.color,r=e.formattedValue,i=e.percentValue;return'<div class="toastui-chart-tooltip-series">\n          '.concat(jh(t,n),'\n          <span class="toastui-chart-series-value">').concat(Vr(i),"&nbsp;&nbsp;(").concat(r,")</span>\n        </div>")})).join(""),"\n    </div>")}function Yh(e,t){var n=e.data;return"".concat(n.map((function(e){var n=e.label,r=e.color,i=e.formattedValue;return'<div class="toastui-chart-tooltip-category" style="'.concat(lt(t.header),'">\n          ').concat(n,'\n        </div>\n        <div class="toastui-chart-tooltip-series-wrapper" style="').concat(lt(t.body),'">\n          <div class="toastui-chart-tooltip-series">\n            ').concat(jh(i,r),"\n          </div>\n        </div>")})).join(""))}var $h={default:Bh,defaultHeader:zh,defaultBody:Hh,boxPlot:Wh,bullet:Fh,pie:qh,heatmap:Yh};function Gh(e){return $h[e||"defaultBody"]}n(7368);function Xh(e,t){return e.querySelectorAll(t)}function Kh(e){e.parentNode&&e.parentNode.removeChild(e)}var Zh=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)","g"),Jh=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g"),Qh=["script","iframe","textarea","form","button","select","input","meta","style","link","title","embed","object"],ep=/href|src|background/gi,tp=/((java|vb|live)script|x):/gi,np=/^on\S+/;function rp(e){var t=document.createElement("div");return P(e)?(e=e.replace(/<!--[\s\S]*?-->/g,""),t.innerHTML=e):t.appendChild(e),ip(t),sp(t),t.innerHTML}function ip(e){var t=Xh(e,Qh.join(","));t.forEach((function(e){Kh(e)}))}function op(e,t){return e.match(ep)&&t.match(tp)}function ap(e,t){t.forEach((function(t){var n=t.name;np.test(n)&&(e[n]=null),e.getAttribute(n)&&e.removeAttribute(n)}))}function sp(e){Xh(e,"*").forEach((function(e){var t=e.attributes,n=N(t).filter((function(e){var t=e.name,n=e.value,r=t.match(Zh),i=t.match(Jh),o=r&&op(t,n);return!r&&!i||o}));ap(e,n)}))}function lp(e){return lp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(e)}function cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(n),!0).forEach((function(t){Mp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fp(e){return vp(e)||pp(e)||hp(e)||dp()}function dp(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hp(e,t){if(e){if("string"===typeof e)return mp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mp(e,t):void 0}}function pp(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function vp(e){if(Array.isArray(e))return mp(e)}function mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bp(e,t,n){return t&&gp(e.prototype,t),n&&gp(e,n),e}function wp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xp(e,t)}function xp(e,t){return xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xp(e,t)}function kp(e){var t=Cp();return function(){var n,r=Ep(e);if(t){var i=Ep(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sp(this,n)}}function Sp(e,t){return!t||"object"!==lp(t)&&"function"!==typeof t?Op(e):t}function Op(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cp(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ep(e)}function Mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ap="transform 0.2s ease",Tp=function(e){wp(n,e);var t=kp(n);function n(){var e;yp(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Mp(Op(e),"chartEl",void 0),Mp(Op(e),"tooltipContainerEl",void 0),Mp(Op(e),"templateFunc",void 0),Mp(Op(e),"theme",void 0),Mp(Op(e),"offsetX",void 0),Mp(Op(e),"offsetY",void 0),Mp(Op(e),"formatter",void 0),Mp(Op(e),"tooltipInfoModels",{}),Mp(Op(e),"onSeriesPointHovered",(function(t){var n=t.models,r=t.name;e.tooltipInfoModels[r]=null!==n&&void 0!==n&&n.length?fp(n):[];var i=!!e.getTooltipInfoModels().length;i?e.renderTooltip():e.removeTooltip()})),e}return bp(n,[{key:"isTooltipContainerOverflow",value:function(e,t){var n=this.tooltipContainerEl.getBoundingClientRect(),r=n.width,i=n.height,o=this.rect,a=o.x,s=o.y,l=o.width,c=o.height;return{overflowX:e>a+l||e+r>a+l,overflowY:t>s+c||t+i>s+c}}},{key:"getPositionInRect",value:function(e){var t=e.target,n=this.rect.x+e.x,r=this.rect.y+e.y,i=n+t.radius+t.width+this.offsetX,o=r+this.offsetY,a=this.isTooltipContainerOverflow(i,o),s=a.overflowX,l=a.overflowY,c=this.tooltipContainerEl.getBoundingClientRect(),u=c.width,f=c.height;return s&&(i=n-(u+t.radius+this.offsetX)>0?n-(u+t.radius+this.offsetX):n+this.offsetX),l&&(o=r+t.height-(f+this.offsetY)>0?r+t.height-(f+this.offsetY):o),{x:i,y:o}}},{key:"setTooltipPosition",value:function(e){var t=this.getPositionInRect(e),n=t.x,r=t.y;this.tooltipContainerEl.style.transform=at(n,r)}},{key:"getTooltipInfoModels",value:function(){return Object.values(this.tooltipInfoModels).flatMap((function(e){return e}))}},{key:"renderTooltip",value:function(){var e=this,t=this.getTooltipInfoModels().reduce((function(t,n){var r=n.data,i=n.x,o=n.y,a=n.radius,s=n.width,l=n.height;return t.x=t.x?(t.x+i)/2:i,t.y=t.y?(t.y+o)/2:o,T(a)&&(t.target.radius=a),s&&(t.target.width=s),l&&(t.target.height=l),t.data.push(up(up({},r),{},{value:Array.isArray(r.value)?r.value.map((function(t){return up(up({},t),{},{formattedValue:e.getFormattedValue(t.value,r)})})):r.value,formattedValue:e.getFormattedValue(r.value,r)})),!t.category&&r.category&&(t.category=r.category),r.templateType&&(t.templateType=r.templateType),t}),{type:"tooltip",x:0,y:0,data:[],target:{radius:0,width:0,height:0}});this.tooltipContainerEl.innerHTML=rp(this.templateFunc(t,{header:$h.defaultHeader(t,this.theme),body:Gh(t.templateType)(t,this.theme)},this.theme)),this.setTooltipPosition(t)}},{key:"initialize",value:function(e){var t=e.chartEl;this.type="tooltip",this.name="tooltip",this.chartEl=t,this.tooltipContainerEl=document.createElement("div"),this.tooltipContainerEl.classList.add("toastui-chart-tooltip-container");var n=this.chartEl.getBoundingClientRect(),r=n.width,i=n.height,o=n.top,a=n.left;this.tooltipContainerEl.style.transform=at(a+r/2,o+i/2),this.chartEl.appendChild(this.tooltipContainerEl),this.eventBus.on("seriesPointHovered",this.onSeriesPointHovered)}},{key:"removeTooltip",value:function(){this.tooltipContainerEl.innerHTML=""}},{key:"setTooltipTransition",value:function(e){var t,n=null===(t=e.tooltip)||void 0===t?void 0:t.transition;A(n)&&n?this.tooltipContainerEl.style.transition=Ap:P(n)&&(this.tooltipContainerEl.style.transition=n)}},{key:"render",value:function(e){var t,n,r,i,o,a,s,l=e.layout,c=e.options,u=e.theme;this.setTooltipTransition(c),this.rect=l.plot,this.theme=u.tooltip,this.templateFunc=null!==(t=null===c||void 0===c||null===(n=c.tooltip)||void 0===n?void 0:n.template)&&void 0!==t?t:$h.default,this.offsetX=null!==(r=null===c||void 0===c||null===(i=c.tooltip)||void 0===i?void 0:i.offsetX)&&void 0!==r?r:10,this.offsetY=null!==(o=null===c||void 0===c||null===(a=c.tooltip)||void 0===a?void 0:a.offsetY)&&void 0!==o?o:0,this.formatter=null===c||void 0===c||null===(s=c.tooltip)||void 0===s?void 0:s.formatter}},{key:"getFormattedValue",value:function(e,t){return this.formatter?this.formatter(e,t):Sh(e)}}]),n}(Kn);function Pp(e){return Pp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(e)}function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(n),!0).forEach((function(t){Qp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _p(e){return Ip(e)||Lp(e)||zp(e)||jp()}function jp(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lp(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ip(e){if(Array.isArray(e))return Hp(e)}function Np(e,t){return Fp(e)||Wp(e,t)||zp(e,t)||Bp()}function Bp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zp(e,t){if(e){if("string"===typeof e)return Hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hp(e,t):void 0}}function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wp(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Fp(e){if(Array.isArray(e))return e}function Up(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(e,t,n){return t&&Vp(e.prototype,t),n&&Vp(e,n),e}function Yp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$p(e,t)}function $p(e,t){return $p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$p(e,t)}function Gp(e){var t=Zp();return function(){var n,r=Jp(e);if(t){var i=Jp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xp(this,n)}}function Xp(e,t){return!t||"object"!==Pp(t)&&"function"!==typeof t?Kp(e):t}function Kp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zp(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jp(e)}function Qp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ev(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return~~e?e-t:e}function tv(e){var t=e.axisData,n=e.offsetSize,r=e.value,i=e.startIndex,o=void 0===i?0:i,a=ev(r,o),s=An(t,n,r,a);return s>0?Math.min(n,s):0}function nv(e,t){return e?t.xAxis:t.yAxis}var rv=function(e){Yp(n,e);var t=Gp(n);function n(){var e;Up(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Qp(Kp(e),"models",{plot:[],line:[],band:[]}),Qp(Kp(e),"startIndex",0),Qp(Kp(e),"theme",void 0),e}return qp(n,[{key:"initialize",value:function(){this.type="plot"}},{key:"getPlotAxisSize",value:function(e){return{offsetSize:e?this.rect.width:this.rect.height,anchorSize:e?this.rect.height:this.rect.width}}},{key:"renderLines",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return r.map((function(r){var i=r.value,o=r.color,a=n.getPlotAxisSize(!0),s=a.offsetSize,l=tv({axisData:nv(!0,e),offsetSize:s,value:i,categories:t,startIndex:n.startIndex});return n.makeLineModel(!0,l,{color:o})}))}},{key:"renderBands",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this.getPlotAxisSize(!0),o=i.offsetSize,a=i.anchorSize;return r.map((function(r){var i=r.range,s=r.color,l=i.map((function(r){return tv({axisData:nv(!0,e),offsetSize:o,value:r,categories:t,startIndex:n.startIndex})})),c=Np(l,2),u=c[0],f=c[1];return{type:"rect",x:kn(u),y:kn(0),width:f-u,height:a,color:s}}))}},{key:"renderPlotLineModels",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.size,a=i.startPosition,s=i.axes,l=this.theme[t?"vertical":"horizontal"],c=l.lineColor,u=l.lineWidth,f=l.dashSegments,d=(null===(n=t?null===s||void 0===s?void 0:s.xAxis:null===s||void 0===s?void 0:s.yAxis)||void 0===n?void 0:n.tickInterval)||1;return e.filter((function(e,t){return!(t%d)})).map((function(e){return r.makeLineModel(t,e,{color:c,lineWidth:u,dashSegments:f},null!==o&&void 0!==o?o:r.rect.width,null!==a&&void 0!==a?a:0)}))}},{key:"renderPlotsForCenterYAxis",value:function(e){var t=e.centerYAxis,n=t.xAxisHalfSize,r=t.secondStartX,i=t.yAxisHeight,o=e.xAxis.tickCount,a=[].concat(_p(this.renderPlotLineModels(xn(n,o),!0)),_p(this.renderPlotLineModels(xn(n,o,r),!0))),s=e.yAxis.tickCount,l=xn(i,s),c=[].concat(_p(this.renderPlotLineModels(l,!1,{size:n})),_p(this.renderPlotLineModels(l,!1,{size:n,startPosition:r})));return[].concat(_p(a),_p(c))}},{key:"renderPlots",value:function(e,t){var n=!0;return e.centerYAxis?this.renderPlotsForCenterYAxis(e):[].concat(_p(this.renderPlotLineModels(this.getHorizontalTickPixelPositions(e),!n,{axes:e})),_p(this.renderPlotLineModels(this.getVerticalTickPixelPositions(e,t),n,{axes:e})))}},{key:"getVerticalTickPixelPositions",value:function(e,t){var n=this.getPlotAxisSize(!0),r=n.offsetSize,i=nv(!0,e);if(null!==i&&void 0!==i&&i.labelRange){var o,a,s,l,c=null!==(o=null===t||void 0===t||null===(a=t.xAxis)||void 0===a?void 0:a.sizeRatio)&&void 0!==o?o:1,u=null!==(s=null===t||void 0===t||null===(l=t.xAxis)||void 0===l?void 0:l.positionRatio)&&void 0!==s?s:0,f=r*c,d=r*u;return xn(f,i.tickCount,d)}return xn(r,i.tickCount)}},{key:"getHorizontalTickPixelPositions",value:function(e){var t=this.getPlotAxisSize(!1),n=t.offsetSize,r=nv(!1,e);return xn(n,r.tickCount)}},{key:"renderPlotBackgroundRect",value:function(){return Dp(Dp({type:"rect",x:0,y:0},z(this.rect,"width","height")),{},{color:this.theme.backgroundColor})}},{key:"render",value:function(e){var t,n,r=e.layout,i=e.axes,o=e.plot,a=e.zoomRange,s=e.theme,l=e.scale;if(o){this.rect=r.plot,this.startIndex=null!==(t=null===a||void 0===a?void 0:a[0])&&void 0!==t?t:0,this.theme=s.plot;var c=null!==(n=e.categories)&&void 0!==n?n:[],u=o.lines,f=o.bands,d=o.visible;this.models.line=this.renderLines(i,c,u),this.models.band=this.renderBands(i,c,f),d&&(this.models.plot=[this.renderPlotBackgroundRect()].concat(_p(this.renderPlots(i,l))))}}},{key:"makeLineModel",value:function(e,t,n,r){var i=n.color,o=n.dashSegments,a=void 0===o?[]:o,s=n.lineWidth,l=void 0===s?1:s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=kn(e?t:c),f=kn(e?0:t),d=e?0:null!==r&&void 0!==r?r:this.rect.width,h=e?this.rect.height:0;return{type:"line",x:u,y:f,x2:u+d,y2:f+h,strokeStyle:i,lineWidth:l,dashSegments:a}}},{key:"beforeDraw",value:function(e){e.ctx.strokeStyle="rgba(0, 0, 0, 0.05)",e.ctx.lineWidth=1}}]),n}(Kn);function iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iv(Object(n),!0).forEach((function(t){av(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function av(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sv(e){return fv(e)||uv(e)||cv(e)||lv()}function lv(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cv(e,t){if(e){if("string"===typeof e)return dv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dv(e,t):void 0}}function uv(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function fv(e){if(Array.isArray(e))return dv(e)}function dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hv(e){var t=e.models,n=e.comparisonModel,r=e.name,i=e.eventDetectType;switch(r){case"heatmap":return bv(t,n);case"bullet":return"grouped"===i?Sv(t,n):bv(t,n);case"radar":case"bubble":case"scatter":case"area":case"line":return wv(t,n);case"pie":return xv(t,n);case"column":case"bar":return"grouped"===i?Sv(t,n):xv(t,n);case"boxPlot":return"grouped"===i?xv(t,n):Ov(t,n);case"treemap":return kv(t,n);case"gauge":return bv(t,n);default:return!1}}function pv(e,t,n){var r=1/0,i=[];return e.forEach((function(e){var o=e.x,a=e.y,s=e.radius,l={x:o+n.x,y:a+n.y},c=En(l,t);r>c?(r=c,i=[e]):r===c&&(i.length&&i[0].radius>s?i=[e]:i.push(e))})),i}function vv(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t.pointOnColumn,o=t.tickDistance,a=t.rectResponderCount,s=e.width,l=e.height,c=i?[]:[0,a-1],u=o/2;return I(0,a).map((function(e){var t=c.includes(e),a=t?u:o,f=0;return 0!==e&&(f+=i?o*e:u+o*(e-1)),{type:"rect",y:r?0:f,height:r?l:a,x:r?f:0,width:r?a:s,index:e,label:n[e]}}))}function mv(e,t){var n=t.width,r=t.height,i=0;return e.sort((function(e,t){return e.x-t.x})).reduce((function(t,o,a){var s=o.x,l=o.label,c=e[a+1],u=c?(c.x+s)/2:n,f={type:"rect",x:i,y:0,width:u-i,height:r,label:l,index:a};return i=u,[].concat(sv(t),[f])}),[])}function yv(e,t){var n=t.reduce((function(e,t){var n=t.index,r=t.seriesIndex;return e[r]||(e[r]=[]),e[r][n]=t,e}),[]);return e.reduce((function(e,t){var r=t.seriesIndex,i=t.index,o=n[r][i],a=o.category;return a?(e[a]||(e[a]=[]),e[a].push(ov(ov({},t),{},{data:o})),e):e}),{})}function gv(e){return e.reduce((function(e,t){return!e.length||t.depth>e[0].depth?[t]:e}),[])}function bv(e,t){return e.length&&(null===t||void 0===t?void 0:t.length)&&e[0].name===t[0].name}function wv(e,t){var n=!1;return e.length&&null!==t&&void 0!==t&&t.length&&e.length===t.length&&(n=e.reduce((function(e,n,r){return e&&n.seriesIndex===t[r].seriesIndex&&n.index===t[r].index}),!0)),n}function xv(e,t){var n=!1;return e.length&&null!==t&&void 0!==t&&t.length&&e.length===t.length&&(n=e.reduce((function(e,n,r){var i,o,a,s;return e&&(null===(i=n.data)||void 0===i?void 0:i.label)===(null===(o=t[r].data)||void 0===o?void 0:o.label)&&(null===(a=n.data)||void 0===a?void 0:a.category)===(null===(s=t[r].data)||void 0===s?void 0:s.category)}),!0)),n}function kv(e,t){return e.length&&(null===t||void 0===t?void 0:t.length)&&e[0].label===t[0].label}function Sv(e,t){return e.length&&(null===t||void 0===t?void 0:t.length)&&e[0].index===t[0].index}function Ov(e,t){var n=!1;if(e.length&&null!==t&&void 0!==t&&t.length){var r,i,o=e[0],a=o.type,s=o.data;n=a===t[0].type&&(null===s||void 0===s?void 0:s.label)===(null===(r=t[0].data)||void 0===r?void 0:r.label)&&(null===s||void 0===s?void 0:s.category)===(null===(i=t[0].data)||void 0===i?void 0:i.category)}return n}function Cv(e,t,n){var r=t.centerX,i=t.centerY,o=t.angleRange,a=o.start,s=o.end,l=t.clockwise;return Ft(e,0).map((function(e,t){return{type:"sector",x:r,y:i,degree:{start:a,end:s},radius:e,name:n[t],clockwise:l,index:t}}))}function Ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(n),!0).forEach((function(t){Av(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Av(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tv=30,Pv=20;function Rv(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="auto";switch(e){case"point":n="center";break;case"rect":n=t?"center":"auto";break;case"sector":case"treemapSeriesName":n="center";break;case"stackTotal":n="auto";break}return n}function Dv(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"stackTotal"!==t&&B(["center","start","end","auto","outer"],e.anchor)?e.anchor:Rv(t,n)}function _v(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Dv(e,t,r),o=e.offsetX,a=void 0===o?0:o,s=e.offsetY,l=void 0===s?0:s,c=_(e.formatter)?e.formatter:function(e){return String(e)||""},u={anchor:i,offsetX:a,offsetY:l,formatter:c};if(r){var f=e.stackTotal;u.stackTotal={visible:!A(null===f||void 0===f?void 0:f.visible)||f.visible,formatter:_(null===f||void 0===f?void 0:f.formatter)?f.formatter:c}}return"sector"===t&&null!==(n=e.pieSeriesName)&&void 0!==n&&n.visible&&(u.pieSeriesName=Mv(Mv({},{anchor:"center"}),e.pieSeriesName)),u}function jv(e,t,n){var r=n.width,i=n.height,o=t.anchor,a=t.offsetX,s=void 0===a?0:a,l=t.offsetY,c=void 0===l?0:l,u=t.formatter,f=e.name,d=e.theme,h="middle";"end"===o?h="bottom":"start"===o&&(h="top");var p=e.x+s,v=e.y+c,m=p<0||p>r?e.x:p,y=v<0||v>i?e.y:v;return{type:"point",x:m,y:y,text:u(e.value,e.data),textAlign:"center",textBaseline:h,name:f,theme:d}}function Lv(e){return B(["left","right"],e)}function Iv(e,t){var n,r=e.x,i=e.y,o=e.width,a=e.height,s=e.direction,l="middle",c=i+a/2,u="center";if("right"===s)switch(t){case"start":u="left",n=r;break;case"end":u="right",n=r+o;break;case"center":u="center",n=r+o/2;break;default:u="left",n=r+o}else switch(t){case"start":u="right",n=r+o;break;case"end":u="left",n=r;break;case"center":u="center",n=r+o/2;break;default:u="right",n=r}return{x:n,y:c,textAlign:u,textBaseline:l}}function Nv(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.direction,s="center",l=n+i/2,c="middle",u=0;if("top"===a)switch(t){case"end":c="top",u=r;break;case"start":c="bottom",u=r+o;break;case"center":c="middle",u=r+o/2;break;default:c="bottom",u=r}else switch(t){case"end":c="bottom",u=r+o;break;case"start":c="top",u=r;break;case"center":c="middle",u=r+o/2;break;default:c="top",u=r+o;break}return{x:l,y:u,textAlign:s,textBaseline:c}}function Bv(e,t,n){var r=e.width,i=e.value,o=e.direction,a=e.plot,s=e.theme,l=t.formatter,c=ct(s),u=P(i)?i:l(i),f=cn(u,c),d=n.x,h=n.textAlign,p="left"===o&&d-f<0||d+f>a.size;return p&&(d=e.x+r,h="right","left"===o&&r>=f&&(d=e.x,h="left")),{x:d,textAlign:h}}function zv(e,t,n){var r=e.height,i=e.direction,o=e.plot,a=e.theme,s=e.value,l=ct(a),c=o.size,u=un("".concat(s),l),f=n.y,d=n.textBaseline,h=!("bottom"===i)&&f-u<0||f+u>c;return h&&(f=e.y,d="top",f+u>c&&(f=e.y,d="bottom"),"bottom"===i&&(f=e.y+r,d="bottom")),{y:f,textBaseline:d}}function Hv(e,t){var n=t.anchor,r=t.offsetX,i=void 0===r?0:r,o=t.offsetY,a=void 0===o?0:o,s=e.direction,l=e.plot,c=l.x,u=void 0===c?0:c,f=l.y,d=void 0===f?0:f,h=Iv(e,n),p=h.x,v=h.y,m=h.textAlign;if("auto"===n){var y=Bv(e,t,{x:p,textAlign:m});p=y.x,m=y.textAlign}v+=a,"left"===s?p-=i:p+=i;var g=10;return"right"===m?p-=g:"left"===m&&(p+=g),p-=u,v-=d,{x:p,y:v,textAlign:m,textBaseline:h.textBaseline}}function Wv(e,t){var n=t.anchor,r=t.offsetX,i=void 0===r?0:r,o=t.offsetY,a=void 0===o?0:o,s=e.direction,l=e.plot,c=l.x,u=void 0===c?0:c,f=l.y,d=void 0===f?0:f,h=Nv(e,n),p=h.x,v=h.y,m=h.textBaseline;if("auto"===n){var y=zv(e,t,h);v=y.y,m=y.textBaseline}p+=i,"top"===s?v+=a:"bottom"===s&&(v-=a);var g=5;return"bottom"===m?v-=g:"top"===m&&(v+=g),p-=u,v-=d,{x:p,y:v,textAlign:h.textAlign,textBaseline:m}}function Fv(e,t){var n=e.type,r=e.value,i=e.direction,o=e.name,a=e.theme,s=Lv(i),l=s?Hv(e,t):Wv(e,t),c="stackTotal"===n?t.stackTotal.formatter:t.formatter;return Mv(Mv({type:n},l),{},{text:P(r)?r:c(r),name:o,seriesColor:e.color,theme:a})}function Uv(e,t){var n=t.anchor,r=Lt(Dt(n,Mv(Mv({},e),{},{radius:Mv(Mv({},e.radius),{},{outer:"outer"===n?e.radius.outer+Tv:e.radius.outer})}))),i=Wt(e,n);return Mv(Mv({},r),{},{textAlign:i,textBaseline:Kv(t)?"bottom":"middle"})}function Vv(e,t){var n=t.anchor,r=e.clockwise,i=e.degree,o=i.start,a=i.end,s=e.radius,l=s.inner,c=s.outer,u=o,f=a,d="center",h=(o+a)/2;"start"===n?(d=r?"left":"right",f=u,h=o):"end"===n&&(d=r?"right":"left",u=f,h=a);var p=Lt(Dt(n,Mv(Mv({},e),{},{degree:{start:u,end:f},radius:{inner:l,outer:c}}))),v=p.x,m=p.y;return{x:v,y:m,textAlign:d,textBaseline:"middle",radian:_t(h,0)}}function qv(e,t){var n=t.formatter,r=Vv(e,t),i=e.value,o=e.name,a=e.theme,s=Mv(Mv({},a),{},{color:a.useSeriesColor?e.color:a.color});return Mv(Mv({type:"sector"},r),{},{text:n(i),name:o,theme:s})}function Yv(e,t){var n=t.formatter,r=Uv(e,t),i=e.value,o=e.name,a=e.theme,s=t.anchor,l=Mv(Mv({},a),{},{color:a.useSeriesColor?e.color:a.color});return Mv(Mv({type:"sector"},r),{},{text:n(i),name:o,callout:Zv(t)?Qv(e,s):null,theme:l})}function $v(e,t){var n,r=null===(n=t.pieSeriesName)||void 0===n?void 0:n.anchor,i="outer"===r,o=Lt(Dt(r,Mv(Mv({},e),{},{radius:Mv(Mv({},e.radius),{},{outer:i?e.radius.outer+Tv:e.radius.outer})}))),a=Wt(e,r),s=e.theme.pieSeriesName,l=Mv(Mv({},s),{},{color:s.useSeriesColor?e.color:s.color});return Mv(Mv({type:"pieSeriesName"},o),{},{text:e.name,callout:Jv(t)?Qv(e,r):null,textAlign:a,textBaseline:Kv(t)?"top":"middle",theme:l})}function Gv(e,t){var n,r,i;return(null===e||void 0===e||null===(n=e.series)||void 0===n||null===(r=n[t])||void 0===r?void 0:r.dataLabels)||(null===e||void 0===e||null===(i=e.series)||void 0===i?void 0:i.dataLabels)||{}}function Xv(e,t){var n=e.value,r=e.textAlign,i=e.textBaseline,o=t.formatter;return Mv(Mv({},e),{},{x:e.x,y:(e.y+e.y2)/2,textAlign:null!==r&&void 0!==r?r:"center",textBaseline:null!==i&&void 0!==i?i:"middle",text:P(n)?n:o(n)})}function Kv(e){var t;return e.anchor===(null===(t=e.pieSeriesName)||void 0===t?void 0:t.anchor)}function Zv(e){var t;return"outer"===e.anchor||"outer"!==(null===(t=e.pieSeriesName)||void 0===t?void 0:t.anchor)}function Jv(e){var t;return"outer"!==e.anchor||"outer"===(null===(t=e.pieSeriesName)||void 0===t?void 0:t.anchor)}function Qv(e,t){if("outer"!==t)return null;var n=Lt(Dt("outer",Mv(Mv({},e),{},{radius:Mv(Mv({},e.radius),{},{outer:e.radius.outer+Pv})}))),r=n.x,i=n.y,o=Lt(Dt("outer",Mv({},e))),a=o.x,s=o.y,l=e.theme.callout,c=Mv(Mv({},l),{},{lineColor:l.useSeriesColor?e.color:l.lineColor});return{x:r,y:i,x2:a,y2:s,theme:c}}function em(e){return em="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(e)}function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach((function(t){hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function om(e,t,n){return t&&im(e.prototype,t),n&&im(e,n),e}function am(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sm(e,t)}function sm(e,t){return sm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sm(e,t)}function lm(e){var t=fm();return function(){var n,r=dm(e);if(t){var i=dm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cm(this,n)}}function cm(e,t){return!t||"object"!==em(t)&&"function"!==typeof t?um(e):t}function um(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function dm(e){return dm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dm(e)}function hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pm=function(e){am(n,e);var t=lm(n);function n(){var e;rm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),hm(um(e),"models",{rect:[],series:[],dot:[]}),hm(um(e),"drawModels",void 0),hm(um(e),"responders",void 0),hm(um(e),"theme",void 0),hm(um(e),"activatedResponders",[]),hm(um(e),"eventDetectType","nearest"),hm(um(e),"tooltipCircleMap",void 0),hm(um(e),"startIndex",void 0),hm(um(e),"yAxisName","yAxis"),hm(um(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name,eventDetectType:e.eventDetectType}),e.eventBus.emit("needDraw")})),hm(um(e),"selectSeries",(function(t){var n=t.index,r=t.seriesIndex;if(dc(t,"line")){var i=e.getResponderCategoryByIndex(n);if(!i)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);var o=e.tooltipCircleMap[i][r];if(!o)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);var a=e.getResponderSeriesWithTheme([o],"select");e.eventBus.emit("renderSelectedSeries",{models:a,name:e.name}),e.eventBus.emit("needDraw")}})),hm(um(e),"showTooltip",(function(t){var n=t.index,r=t.seriesIndex;if(fc(t,e.eventDetectType,"line")){var i=e.getResponderCategoryByIndex(n);if(i){var o="grouped"===e.eventDetectType?e.tooltipCircleMap[i]:[e.tooltipCircleMap[i][r]];null!==o&&void 0!==o&&o.length&&(e.onMousemoveNearType(o),e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw"))}}})),e}return om(n,[{key:"initialize",value:function(){this.type="series",this.name="line",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"initUpdate",value:function(e){this.drawModels.rect[0].width=this.models.rect[0].width*e}},{key:"setEventDetectType",value:function(e,t){var n;(e.area||e.column)&&(this.eventDetectType="grouped"),null!==t&&void 0!==t&&null!==(n=t.series)&&void 0!==n&&n.eventDetectType&&(this.eventDetectType=t.series.eventDetectType),e.scatter&&(this.eventDetectType="near")}},{key:"render",value:function(e,t){var n,r,i,o,a=t.viewRange,s=e.layout,l=e.series,c=e.scale,u=e.axes,f=e.legend,d=e.theme;if(!l.line)throw new Error(ae.noDataError(this.name));var h=null!==(n=e.categories)&&void 0!==n?n:[],p=null!==(r=e.rawCategories)&&void 0!==r?r:[],v=nm({},e.options);null!==v&&void 0!==v&&v.series&&"line"in v.series&&(v.series=nm(nm({},v.series),v.series.line)),this.setEventDetectType(l,v);var m=u.xAxis,y=null!==(i=v.series)&&void 0!==i?i:{},g=l.line.data;this.theme=d.series.line,this.rect=s.plot,this.activeSeriesMap=yc(f),this.startIndex=null!==(o=null===a||void 0===a?void 0:a[0])&&void 0!==o?o:0,this.selectable=this.getSelectableOption(v),this.yAxisName=Ci(v,this.name,"yAxis");var b=this.renderLinePointsModel(g,c,m,y,h),w=this.renderCircleModel(b,y),x=w.dotSeriesModel,k=w.responderModel,S=this.makeTooltipData(g,h);this.tooltipCircleMap=yv(k,S),this.models={rect:[this.renderClipRectAreaModel()],series:b,dot:x},this.drawModels||(this.drawModels=nm(nm({},this.models),{},{rect:[this.renderClipRectAreaModel(!0)]})),Gv(v,this.name).visible&&this.renderDataLabels(this.getDataLabels(b));var O=Zi(l);this.responders=this.getResponders({labelAxisData:m,responderModel:k,tooltipDataArr:S,categories:h,rawCategories:p,coordinateType:O})}},{key:"getResponders",value:function(e){var t=e.labelAxisData,n=e.responderModel,r=e.tooltipDataArr,i=e.categories,o=e.rawCategories,a=e.coordinateType;if("near"===this.eventDetectType)return this.makeNearTypeResponderModel(n,r,o);if("point"===this.eventDetectType)return this.makeNearTypeResponderModel(n,r,o,0);if(a){var s=this.getRectResponderInfoForCoordinateType(n,o);return mv(s,this.rect)}return vv(this.rect,t,i)}},{key:"makeNearTypeResponderModel",value:function(e,t,n,r){return e.map((function(e,i){return nm(nm({},e),{},{data:t[i],detectionSize:r,label:n[e.index]})}))}},{key:"makeTooltipData",value:function(e,t){var n=this;return e.flatMap((function(e,r){var i=e.rawData,o=e.name,a=e.color;return i.map((function(e,i){return M(e)?{}:{label:o,color:a,value:Yi(e),category:t[Xi(e,t,i,n.startIndex)],seriesIndex:r,index:i}}))}))}},{key:"renderClipRectAreaModel",value:function(e){return{type:"clipRectArea",x:0,y:0,width:e?0:this.rect.width,height:this.rect.height}}},{key:"renderLinePointsModel",value:function(e,t,n,r,i){var o=this,a=r.spline,s=t[this.yAxisName].limit,l=this.theme,c=l.lineWidth,u=l.dashSegments;return e.map((function(e,t){var r=e.rawData,l=e.name,f=e.color,d=[],h=o.activeSeriesMap[l];return r.forEach((function(e,t){if(M(e))return d.push(null);var r=Yi(e),a=Cn(r,s),l=(1-a)*o.rect.height,c=An(n,o.rect.width,$i(e),Xi(e,i,t,o.startIndex));d.push({x:c,y:l,value:r})})),a&&On(d),{type:"linePoints",points:d,seriesIndex:t,name:l,color:Qe(f,h?1:.3),lineWidth:c,dashSegments:u}}))}},{key:"getRectResponderInfoForCoordinateType",value:function(e,t){var n=this,r={},i=e.filter((function(e){var t=e.x;return t>=0&&t<=n.rect.width}));return i.reduce((function(e,n){var i=n.index,o=n.x;if(!r[o]){var a=t[i];r[o]=!0,e.push({x:o,label:a})}return e}),[])}},{key:"renderCircleModel",value:function(e,t){var n=this,r=[],i=[],o=!!t.showDot,a=this.theme,s=a.hover,l=a.dot,c=s.dot;return e.forEach((function(e,t){var a=e.color,s=e.name,u=e.points,f=n.activeSeriesMap[s];u.forEach((function(e,n){var u;if(!M(e)){var d,h=e.x,p=e.y,v={type:"circle",x:h,y:p,seriesIndex:t,name:s,index:n};if(o)r.push(nm(nm({},v),{},{radius:l.radius,color:Qe(a,f?1:.3),style:[{lineWidth:l.borderWidth,strokeStyle:null!==(d=l.borderColor)&&void 0!==d?d:a}]}));i.push(nm(nm({},v),{},{radius:c.radius,color:null!==(u=c.color)&&void 0!==u?u:Qe(a,1),style:["default"]}))}}))})),{dotSeriesModel:r,responderModel:i}}},{key:"getCircleModelsFromRectResponders",value:function(e,t){var n,r;if(!e.length||!e[0].label)return[];var i=null!==(n=this.tooltipCircleMap[null===(r=e[0])||void 0===r?void 0:r.label])&&void 0!==n?n:[];return"grouped"===this.eventDetectType?i:pv(i,t,this.rect)}},{key:"onMousemoveNearType",value:function(e){this.eventBus.emit("renderHoveredSeries",{models:this.getResponderSeriesWithTheme(e,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=e}},{key:"onMousemoveNearestType",value:function(e,t){var n=this.getCircleModelsFromRectResponders(e,t);this.onMousemoveNearType(n)}},{key:"onMousemoveGroupedType",value:function(e){var t=this.getCircleModelsFromRectResponders(e);this.onMousemoveNearType(t)}},{key:"onMousemove",value:function(e){var t=e.responders,n=e.mousePosition;"nearest"===this.eventDetectType?this.onMousemoveNearestType(t,n):B(["near","point"],this.eventDetectType)?this.onMousemoveNearType(t):this.onMousemoveGroupedType(t),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"getDataLabels",value:function(e){var t=this.theme.dataLabels;return e.flatMap((function(e){var n=e.points,r=e.name,i=e.color;return n.map((function(e){return M(e)?{}:nm(nm({type:"point"},e),{},{name:r,theme:nm(nm({},t),{},{color:t.useSeriesColor?i:t.color})})}))}))}},{key:"getResponderSeriesWithTheme",value:function(e,t){var n=this.theme[t].dot,r=n.radius,i=n.color,o=n.borderWidth,a=n.borderColor;return e.map((function(e){var t=null!==i&&void 0!==i?i:e.color;return nm(nm({},e),{},{radius:r,color:t,style:[{lineWidth:o,strokeStyle:null!==a&&void 0!==a?a:Qe(t,.5)}]})}))}},{key:"onClick",value:function(e){var t,n=e.responders,r=e.mousePosition;this.selectable&&(t="near"===this.eventDetectType?n:this.getCircleModelsFromRectResponders(n,r),this.eventBus.emit("renderSelectedSeries",{models:this.getResponderSeriesWithTheme(t,"select"),name:this.name}),this.eventBus.emit("needDraw"))}},{key:"getResponderCategoryByIndex",value:function(e){var t,n=Object.values(this.tooltipCircleMap).flatMap((function(e){return e})).find((function(t){return t.index===e}));return null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.category}}]),n}(Kn);function vm(e){return vm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(e)}function mm(e){return wm(e)||bm(e)||gm(e)||ym()}function ym(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gm(e,t){if(e){if("string"===typeof e)return xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xm(e,t):void 0}}function bm(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function wm(e){if(Array.isArray(e))return xm(e)}function xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?km(Object(n),!0).forEach((function(t){jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Em(e,t,n){return t&&Cm(e.prototype,t),n&&Cm(e,n),e}function Mm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Am(e,t)}function Am(e,t){return Am=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Am(e,t)}function Tm(e){var t=Dm();return function(){var n,r=_m(e);if(t){var i=_m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(e,t){return!t||"object"!==vm(t)&&"function"!==typeof t?Rm(e):t}function Rm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_m(e)}function jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lm=function(e){Mm(n,e);var t=Tm(n);function n(){var e;Om(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),jm(Rm(e),"models",void 0),jm(Rm(e),"responders",void 0),jm(Rm(e),"theme",void 0),jm(Rm(e),"activatedResponders",[]),jm(Rm(e),"seriesColorMap",{}),jm(Rm(e),"seriesIconTypeMap",{}),jm(Rm(e),"onClickCheckbox",(function(t){var n=t[0],r=n.label,i=n.checked;e.store.dispatch("setAllLegendActiveState",!0),e.store.dispatch("setLegendCheckedState",{name:r,checked:!i}),i?e.store.dispatch("disableSeries",r):e.store.dispatch("enableSeries",r),e.eventBus.emit("needDraw")})),jm(Rm(e),"onClickLabel",(function(t){var n=t[0].label;e.eventBus.emit("resetSelectedSeries"),e.activatedResponders.length&&e.activatedResponders[0].label===n?(e.store.dispatch("setAllLegendActiveState",!0),e.activatedResponders=[]):(e.store.dispatch("setAllLegendActiveState",!1),e.store.dispatch("setLegendActiveState",{name:n,active:!0}),e.activatedResponders=t),e.eventBus.emit("needDraw")})),e}return Em(n,[{key:"onClick",value:function(e){var t=e.responders;if(t.length){var n=t[0].data;"checkbox"===(null===n||void 0===n?void 0:n.name)?this.eventBus.emit("clickLegendCheckbox",Oe(t)):this.eventBus.emit("clickLegendLabel",Oe(t))}}},{key:"initialize",value:function(){this.type="legend",this.name="legend",this.eventBus.on("clickLegendCheckbox",this.onClickCheckbox),this.eventBus.on("clickLegendLabel",this.onClickLabel)}},{key:"initColorAndIconTypeMap",value:function(e){var t=this;this.seriesColorMap={},this.seriesIconTypeMap={},e.forEach((function(e){var n=e.label,r=e.color,i=e.iconType;t.seriesColorMap[n]=r,t.seriesIconTypeMap[n]=i}))}},{key:"getXPositionWhenVerticalAlign",value:function(e){var t=e.reduce((function(e,t){var n=t.rowIndex,r=t.columnIndex,i=t.width;return E(e.rowWidths[n])&&(e.rowWidths[n]=0,e.offset[n]=[0]),e.rowWidths[n]+=i+(r?wl:0),e.offset[n][r+1]=e.offset[n][r]+wl+i,e}),{offset:[],rowWidths:[]}),n=t.offset,r=t.rowWidths,i=this.rect.width;return r.forEach((function(e,t){var r=(i-e)/2;n[t]=n[t].map((function(e){return e+r}))})),n}},{key:"getXPositionWhenHorizontalAlign",value:function(e){var t=e.reduce((function(e,t){var n=t.columnIndex,r=t.width;return E(e[n])&&(e[n]=0),e[n]=Math.max(e[n],r),e}),[]);return e.reduce((function(e,n){var r=n.rowIndex,i=n.columnIndex;return E(e[r])&&(e[r]=[0]),e[r][i+1]=e[r][i]+wl+t[i],e}),[])}},{key:"renderLegendModel",value:function(e){var t=this,n=e.data,r=e.showCheckbox,i=e.align,o=e.useScatterChartIcon,a=Ga(i),s=Tl(this.theme.label.fontSize),l=a?this.getXPositionWhenVerticalAlign(n):this.getXPositionWhenHorizontalAlign(n);return[Sm({type:"legend",align:i,showCheckbox:r,data:n.map((function(e){var n,r=e.label,i=e.iconType,a=e.rowIndex,c=e.columnIndex;return Sm(Sm({},e),{},{iconType:null!==(n=t.seriesIconTypeMap[r])&&void 0!==n?n:i,color:t.seriesColorMap[r],x:l[a][c],y:qa.Y+s*a,useScatterChartIcon:o})}))},this.theme.label)]}},{key:"makeCheckboxResponder",value:function(e,t){return t?e.map((function(e){return Sm(Sm({},e),{},{type:"rect",x:e.x,y:e.y,width:kl,height:kl,data:{name:"checkbox"}})})):[]}},{key:"makeLabelResponder",value:function(e,t){var n=st(this.theme.label);return e.map((function(e){return Sm(Sm({},e),{},{type:"rect",x:e.x+(t?kl+xl:0)+Sl+xl,y:e.y,width:cn(e.label,n),data:{name:"label"},height:kl})}))}},{key:"render",value:function(e){var t=e.layout,n=e.legend,r=e.theme;if(this.isShow=n.visible&&!!n.data.length,this.isShow){var i=n.showCheckbox,o=n.data;this.rect=t.legend,this.theme=r.legend,this.initColorAndIconTypeMap(o),this.models=this.renderLegendModel(n);var a=this.models[0].data,s=this.makeCheckboxResponder(a,i),l=this.makeLabelResponder(a,i);this.responders=[].concat(mm(s),mm(l))}}}]),n}(Kn);function Im(e){return Im="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(e)}function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach((function(t){ty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zm(e){return Um(e)||Fm(e)||Wm(e)||Hm()}function Hm(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wm(e,t){if(e){if("string"===typeof e)return Vm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vm(e,t):void 0}}function Fm(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Um(e){if(Array.isArray(e))return Vm(e)}function Vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $m(e,t,n){return t&&Ym(e.prototype,t),n&&Ym(e,n),e}function Gm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xm(e,t)}function Km(e){var t=Qm();return function(){var n,r=ey(e);if(t){var i=ey(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zm(this,n)}}function Zm(e,t){return!t||"object"!==Im(t)&&"function"!==typeof t?Jm(e):t}function Jm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ey(e)}function ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ny(e,t,n,r){var i=e.type,o=[];if("point"===i)o.push(jv(e,t,n));else if("sector"===i){var a;if("radialBar"===r)o.push(qv(e,t));else if(o.push(Yv(e,t)),null!==(a=t.pieSeriesName)&&void 0!==a&&a.visible){var s=$v(e,t);o.push(s)}}else"line"===i?o.push(Xv(e,t)):o.push(Fv(e,t));return o}var ry=function(e){Gm(n,e);var t=Km(n);function n(){var e;qm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),ty(Jm(e),"models",void 0),ty(Jm(e),"drawModels",void 0),ty(Jm(e),"options",void 0),ty(Jm(e),"dataLabelsMap",{}),ty(Jm(e),"renderSeriesDataLabels",(function(t){e.appendDataLabels(t),e.models=e.renderLabelModel(),e.drawModels?e.sync():e.drawModels=e.getDrawModelsAppliedOpacity(0)})),e}return $m(n,[{key:"initialize",value:function(){this.type="dataLabels",this.name="dataLabels",this.eventBus.on("renderDataLabels",this.renderSeriesDataLabels)}},{key:"initUpdate",value:function(e){this.drawModels&&(this.drawModels=this.getDrawModelsAppliedOpacity(e))}},{key:"render",value:function(e){var t=e.layout,n=e.options,r=e.series,i=e.nestedPieSeries;this.rect=t.plot,this.options=n,this.isShow=this.visibleDataLabels(r,i)}},{key:"visibleDataLabels",value:function(e,t){var n,r,i=this,o=!(null===(n=this.options.series)||void 0===n||null===(r=n.dataLabels)||void 0===r||!r.visible),a=Object.keys(e).some((function(e){var t,n,r;return!(null===(t=i.options.series)||void 0===t||null===(n=t[e])||void 0===n||null===(r=n.dataLabels)||void 0===r||!r.visible)})),s=!(!t||!Object.keys(t).some((function(e){var t,n,r;return!(null===(t=i.options.series)||void 0===t||null===(n=t[e])||void 0===n||null===(r=n.dataLabels)||void 0===r||!r.visible)})));return o||a||s}},{key:"appendDataLabels",value:function(e){var t=this,n=e.name,r=e.data,i=Gv(this.options,n),o=!!Bd(this.options),a=[];r.forEach((function(e){var r,s=e.type,l=e.value,c=_v(i,s,o),u="stackTotal"===s&&!(null!==(r=c.stackTotal)&&void 0!==r&&r.visible);u||E(l)||a.splice.apply(a,[a.length,0].concat(zm(ny(e,c,t.rect,n))))})),this.dataLabelsMap[n]={data:a,options:i}}},{key:"getDrawModelsAppliedOpacity",value:function(e){var t=this;return Object.keys(this.models).reduce((function(n,r){return Bm(Bm({},n),{},ty({},r,t.models[r].map((function(t){return Bm(Bm({},t),{},{opacity:e})}))))}),{series:[],total:[]})}},{key:"renderLabelModel",value:function(){var e=this;return Object.keys(this.dataLabelsMap).map((function(t){var n=e.dataLabelsMap[t].data;return e.makeLabelModel(n)})).reduce((function(e,t){return{series:[].concat(zm(e.series),zm(t.series)),total:[].concat(zm(e.total),zm(t.total))}}),{series:[],total:[]})}},{key:"makeLabelModel",value:function(e){var t=this;return e.reduce((function(e,n){var r,i=n.type,o=n.x,a=n.y,s=n.text,l=n.textAlign,c=n.textBaseline,u=n.name,f=n.callout,d=n.theme,h=n.radian;if(!Ji(t.rect,{x:o,y:a}))return e;var p="stackTotal"===i?"total":"series";return Bm(Bm({},e),{},ty({},p,[].concat(zm(null!==(r=e[p])&&void 0!==r?r:[]),[{type:"dataLabel",dataLabelType:i,text:s,x:o,y:a,textAlign:l,textBaseline:c,opacity:1,name:u,callout:f,theme:d,radian:h}])))}),{series:[],total:[]})}}]),n}(Kn);function iy(e){return iy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function oy(e,t){return uy(e)||cy(e,t)||sy(e,t)||ay()}function ay(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sy(e,t){if(e){if("string"===typeof e)return ly(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ly(e,t):void 0}}function ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cy(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function uy(e){if(Array.isArray(e))return e}function fy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hy(e,t,n){return t&&dy(e.prototype,t),n&&dy(e,n),e}function py(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vy(e,t)}function my(e){var t=by();return function(){var n,r=wy(e);if(t){var i=wy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yy(this,n)}}function yy(e,t){return!t||"object"!==iy(t)&&"function"!==typeof t?gy(e):t}function gy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function by(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wy(e)}function xy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ky=function(e){py(n,e);var t=my(n);function n(){var e;fy(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),xy(gy(e),"models",void 0),xy(gy(e),"isYAxis",void 0),xy(gy(e),"isCircularAxis",void 0),xy(gy(e),"theme",void 0),e}return hy(n,[{key:"initialize",value:function(e){var t=e.name;this.type="axisTitle",this.name=t,this.isYAxis=B([Xn.Y,Xn.SECONDARY_Y],t),this.isCircularAxis=this.name===Xn.CIRCULAR}},{key:"getTitlePosition",value:function(e,t){return this.isCircularAxis?[this.rect.width/2+e,this.rect.height/2+t]:this.isYAxis?[this.name===Xn.Y?e:this.rect.width+e,t]:[this.rect.width+e,t]}},{key:"renderAxisTitle",value:function(e,t){var n=e.text,r=e.offsetX,i=e.offsetY,o=this.getTitlePosition(r,i),a=oy(o,2),s=a[0],l=a[1],c=st(this.theme),u=this.theme.color;return[{type:"label",text:n,x:s,y:l,style:["axisTitle",{textAlign:t,fillStyle:u,font:c}]}]}},{key:"getTextAlign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.name===Xn.Y?e?"center":"left":this.isCircularAxis?"center":"right"}},{key:"getCircularAxisTitleRect",value:function(e,t,n){var r=t.x,i=t.y,o=n.centerX,a=n.centerY,s=n.axisSize,l=n.radius.outer,c=e.offsetY;return{x:o+r-s/2,y:a+i-l/2,width:s,height:this.theme.fontSize+c}}},{key:"render",value:function(e){var t,n,r=e.axes,i=e.radialAxes,o=e.layout,a=e.theme,s=this.isCircularAxis?null===(t=i[this.name])||void 0===t?void 0:t.title:null===(n=r[this.name])||void 0===n?void 0:n.title;this.isShow=!!s,this.isShow&&(this.theme=Mi(a,this.name).title,this.rect=o["".concat(this.name,"Title")],this.models=this.renderAxisTitle(s,this.getTextAlign(!(null===r||void 0===r||!r.centerYAxis))))}}]),n}(Kn);function Sy(e){return Sy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(e)}function Oy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ey(e,t,n){return t&&Cy(e.prototype,t),n&&Cy(e,n),e}function My(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ay(e,t)}function Ty(e){var t=Dy();return function(){var n,r=_y(e);if(t){var i=_y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Py(this,n)}}function Py(e,t){return!t||"object"!==Sy(t)&&"function"!==typeof t?Ry(e):t}function Ry(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dy(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_y(e)}function jy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ly=function(e){My(n,e);var t=Ty(n);function n(){var e;Oy(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),jy(Ry(e),"models",void 0),jy(Ry(e),"theme",void 0),e}return Ey(n,[{key:"initialize",value:function(){this.type="title",this.name="title"}},{key:"renderTitle",value:function(e){var t,n,r,i="",o=0,a=0,s="left";P(e)?i=e:(i=e.text,s=null!==(t=e.align)&&void 0!==t?t:"left",o+=null!==(n=e.offsetX)&&void 0!==n?n:0,a+=null!==(r=e.offsetY)&&void 0!==r?r:0);var l=st(this.theme),c=cn(i,l);return"center"===s?o+=(this.rect.width-c)/2:"right"===s&&(o+=this.rect.width-c),[{type:"label",x:o,y:a,text:i,style:["title",{font:l,fillStyle:this.theme.color}]}]}},{key:"render",value:function(e){var t,n=e.options,r=e.layout,i=e.theme;this.isShow=!(null===(t=n.chart)||void 0===t||!t.title),this.isShow&&(this.theme=i.title,this.rect=r.title,this.models=this.renderTitle(n.chart.title))}}]),n}(Kn);function Iy(e){return Iy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(e)}function Ny(e,t){return Hy(e)||zy(e,t)||qy(e,t)||By()}function By(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zy(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Hy(e){if(Array.isArray(e))return e}function Wy(e,t){if(null==e)return{};var n,r,i=Fy(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fy(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Uy(e){return $y(e)||Yy(e)||qy(e)||Vy()}function Vy(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qy(e,t){if(e){if("string"===typeof e)return Gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gy(e,t):void 0}}function Yy(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function $y(e){if(Array.isArray(e))return Gy(e)}function Gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zy(e,t,n){return t&&Ky(e.prototype,t),n&&Ky(e,n),e}function Jy(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qy(e,t)}function Qy(e,t){return Qy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qy(e,t)}function eg(e){var t=rg();return function(){var n,r=ig(e);if(t){var i=ig(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tg(this,n)}}function tg(e,t){return!t||"object"!==Iy(t)&&"function"!==typeof t?ng(e):t}function ng(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rg(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ig(e)}function og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ag={line:"circle",area:"circle",boxPlot:"boxPlot"},sg=function(e){Jy(n,e);var t=eg(n);function n(){var e;Xy(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),og(ng(e),"models",{guideLine:[]}),og(ng(e),"isShow",!1),og(ng(e),"modelForGuideLine",void 0),og(ng(e),"renderHoveredSeries",(function(t){var n=t.models,r=t.name,i=t.eventDetectType,o=e.getSeriesModels(r);e.models[r]=Uy(n),e.isShow=!!e.getSeriesModels().length;var a=!(null===o||void 0===o||!o.length)&&!!n.length&&hv({models:n,comparisonModel:o,eventDetectType:i,name:r});null!==o&&void 0!==o&&o.length&&!n.length?e.eventBus.emit("unhoverSeries",Oe(o)):n.length&&!a&&e.eventBus.emit("hoverSeries",Oe(n)),e.modelForGuideLine=e.getModelForGuideLine(r),"grouped"===i&&e.renderGroupedModels(r)})),og(ng(e),"resetHoveredSeries",(function(){e.models={guideLine:[]}})),e}return Zy(n,[{key:"getSeriesModels",value:function(e){var t,n=this.models,r=(n.guideLine,Wy(n,["guideLine"]));return null===(t=e?r[e]:Object.values(r))||void 0===t?void 0:t.flatMap((function(e){return e}))}},{key:"hasGuideLine",value:function(){var e=this.getSeriesModels().filter((function(e){var t=e.type;return"rect"===t})),t=Ny(e,1),n=t[0];return!E(this.modelForGuideLine)&&E(n)}},{key:"getModelForGuideLine",value:function(e){return this.getSeriesModels().filter((function(t){var n=t.type;return n===ag[e]}))[0]}},{key:"renderGroupedModels",value:function(e){B(Object.keys(ag),e)&&(this.isShow&&this.hasGuideLine()?this.models.guideLine=[this.renderGuideLineModel(this.modelForGuideLine)]:this.models.guideLine=[])}},{key:"renderGuideLineModel",value:function(e){var t=kn("boxPlot"===e.type&&e.boxPlotDetection?e.boxPlotDetection.x+e.boxPlotDetection.width/2:e.x);return{type:"line",x:t,y:0,x2:t,y2:this.rect.height,strokeStyle:"#ddd",lineWidth:1}}},{key:"initialize",value:function(){this.type="hoveredSeries",this.name="hoveredSeries",this.eventBus.on("renderHoveredSeries",this.renderHoveredSeries),this.eventBus.on("resetHoveredSeries",this.resetHoveredSeries)}},{key:"render",value:function(e){var t=e.layout;this.rect=t.plot}}]),n}(Kn);function lg(e){return lg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(e)}function cg(e){return dg(e)||fg(e)||vg(e)||ug()}function ug(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fg(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function dg(e){if(Array.isArray(e))return mg(e)}function hg(e,t){return gg(e)||yg(e,t)||vg(e,t)||pg()}function pg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vg(e,t){if(e){if("string"===typeof e)return mg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mg(e,t):void 0}}function mg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yg(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function gg(e){if(Array.isArray(e))return e}function bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bg(Object(n),!0).forEach((function(t){Rg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sg(e,t,n){return t&&kg(e.prototype,t),n&&kg(e,n),e}function Og(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cg(e,t)}function Eg(e){var t=Tg();return function(){var n,r=Pg(e);if(t){var i=Pg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mg(this,n)}}function Mg(e,t){return!t||"object"!==lg(t)&&"function"!==typeof t?Ag(e):t}function Ag(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tg(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pg(e)}function Rg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dg=15,_g=function(e){Og(n,e);var t=Eg(n);function n(){var e;xg(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Rg(Ag(e),"models",{selectionArea:[]}),Rg(Ag(e),"responders",void 0),Rg(Ag(e),"startIndex",void 0),Rg(Ag(e),"dragStartPosition",null),Rg(Ag(e),"dragStartPoint",null),Rg(Ag(e),"isDragging",!1),e}return Sg(n,[{key:"initialize",value:function(){this.type="zoom"}},{key:"render",value:function(e,t){var n;if(e.zoomRange){this.resetSelectionArea();var r=t.viewRange,i=e.layout,o=e.axes,a=e.series,s=e.scale,l=e.categories;this.rect=i.plot,this.startIndex=null!==(n=null===r||void 0===r?void 0:r[0])&&void 0!==n?n:0;var c=Zi(a);if(c){var u=this.getRectResponderInfoForCoordinateType(a,s,o.xAxis,l);this.responders=this.makeRectResponderModelForCoordinateType(u,l)}else this.responders=this.makeRectResponderModel(l,o.xAxis)}}},{key:"getRectResponderInfoForCoordinateType",value:function(e,t,n,r){var i=this,o=[],a={};return Object.keys(e).forEach((function(t){var s=e[t].data;s.forEach((function(e){var t=e.rawData;t.forEach((function(e,t){if(!M(e)){var s=Xi(e,r,t,i.startIndex),l=An(n,i.rect.width,$i(e),s),c=l>=0&&l<=i.rect.width;!a[l]&&c&&(a[l]=!0,o.push({x:l,label:r[s]}))}}))}))})),o}},{key:"resetSelectionArea",value:function(){this.dragStartPosition=null,this.dragStartPoint=null,this.models.selectionArea=[],this.isDragging=!1}},{key:"onMousedown",value:function(e){var t=e.responders,n=e.mousePosition;t.length&&(this.dragStartPoint=t.find((function(e){return"selectionArea"===e.data.name})),this.dragStartPosition=n)}},{key:"onMouseup",value:function(e){var t=this,n=e.responders;if(this.isDragging&&this.dragStartPoint&&n.length){var r=[this.dragStartPoint,n[0]].sort((function(e,t){return e.index-t.index})).map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.value}));this.store.dispatch("zoom",r),this.eventBus.emit("zoom",Oe(r)),this.eventBus.emit("resetHoveredSeries"),this.eventBus.emit("hideTooltip"),setTimeout((function(){t.eventBus.emit("resetSelectedSeries")}))}this.resetSelectionArea()}},{key:"makeRectResponderModel",value:function(e,t){var n=e.length,r=t.pointOnColumn,i=t.tickDistance,o=this.rect.height,a=r?[]:[0,n-1],s=i/2;return I(0,n).map((function(t){var n=a.includes(t),l=n?s:i,c=0;return 0!==t&&(c+=r?i*t:s+i*(t-1)),{type:"rect",x:c,y:0,height:o,width:l,index:t,data:{name:"selectionArea",value:e[t]}}}))}},{key:"makeRectResponderModelForCoordinateType",value:function(e,t){var n=mv(e,this.rect);return n.map((function(e,n){return wg(wg({},e),{},{data:{name:"selectionArea",value:t[n]}})}))}},{key:"onMousemove",value:function(e){var t=e.responders,n=e.mousePosition;if(t.length){if(this.dragStartPosition&&!this.isDragging){var r=n.x,i=this.dragStartPosition.x;this.isDragging=Math.abs(i-r)>Dg}if(this.isDragging){var o=this.dragStartPoint.index,a=t[0].index,s=[o,a].sort(G),l=hg(s,2),c=l[0],u=l[1],f=this.responders.slice(c,u+1);this.models.selectionArea=cg(f.map((function(e){return wg(wg({},e),{},{x:e.x,y:0,type:"rect",color:"rgba(0, 0, 0, 0.2)"})}))),this.eventBus.emit("needDraw")}}}},{key:"onMouseoutComponent",value:function(){this.resetSelectionArea()}}]),n}(Kn);function jg(e){return jg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(e)}function Lg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ng(e,t,n){return t&&Ig(e.prototype,t),n&&Ig(e,n),e}function Bg(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zg(e,t)}function Hg(e){var t=Ug();return function(){var n,r=Vg(e);if(t){var i=Vg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wg(this,n)}}function Wg(e,t){return!t||"object"!==jg(t)&&"function"!==typeof t?Fg(e):t}function Fg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ug(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vg(e)}function qg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yg=function(e){Bg(n,e);var t=Hg(n);function n(){var e;Lg(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),qg(Fg(e),"responders",void 0),qg(Fg(e),"models",void 0),e}return Ng(n,[{key:"initialize",value:function(){this.type="resetButton",this.name="resetButton"}},{key:"onClick",value:function(e){var t=e.responders;t.length&&(this.eventBus.emit("resetZoom"),this.store.dispatch("resetZoom"))}},{key:"render",value:function(e,t){var n=e.options,r=e.layout;ms(n)&&(this.rect=r.resetButton,this.isShow=t.isLineTypeSeriesZooming,this.models=this.isShow?[{type:"resetButton",x:0,y:0}]:[],this.responders=this.isShow?[{type:"rect",x:0,y:0,width:ma,height:ma}]:[])}}]),n}(Kn);function $g(e){return $g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(e)}function Gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gg(Object(n),!0).forEach((function(t){ab(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jg(e,t,n){return t&&Zg(e.prototype,t),n&&Zg(e,n),e}function Qg(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eb(e,t)}function eb(e,t){return eb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eb(e,t)}function tb(e){var t=ib();return function(){var n,r=ob(e);if(t){var i=ob(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nb(this,n)}}function nb(e,t){return!t||"object"!==$g(t)&&"function"!==typeof t?rb(e):t}function rb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ib(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ob(e)}function ab(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sb=function(e){Qg(n,e);var t=tb(n);function n(){var e;Kg(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),ab(rb(e),"models",{}),ab(rb(e),"seriesModels",{}),ab(rb(e),"activeSeriesNames",{}),ab(rb(e),"isShow",!1),ab(rb(e),"renderSelectedSeries",(function(t){var n=t.name,r=t.alias,i=e.getSelectedSeriesModelsForRendering(t);e.models[r||n]=hv(Xg(Xg({},t),{},{models:i,comparisonModel:e.models[r||n]}))?[]:i,e.seriesModels[r||n]=e.getSelectedSeriesModels(t),e.isShow=!!Object.values(e.models).flatMap((function(e){return e})).length,e.eventBus.emit(e.isShow?"selectSeries":"unselectSeries",Oe(e.seriesModels)),e.activeSeriesNames[n]=e.getSeriesNames(t.models,n),e.setActiveState()})),ab(rb(e),"resetSelectedSeries",(function(){e.models={},e.store.dispatch("setAllLegendActiveState",!0)})),e}return Jg(n,[{key:"getSeriesNames",value:function(e,t){var n=this,r=[];return B(["line","area","radar","bubble","scatter","bullet","boxPlot"],t)?e.forEach((function(e){var t=e.name;t&&r.push(t)})):B(["bar","column","radialBar"],t)?e.forEach((function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.label;n&&r.push(n)})):"pie"===t&&Object.keys(this.models).flatMap((function(e){return n.models[e]})).forEach((function(e){var t,n,i=(null===(t=e.data)||void 0===t?void 0:t.rootParentName)||(null===(n=e.data)||void 0===n?void 0:n.label);i&&r.push(i)})),r}},{key:"getSelectedSeriesModelsForRendering",value:function(e){var t=e.models,n=e.eventDetectType,r=e.name,i=t;return"column"!==r&&"bar"!==r&&"bullet"!==r||"grouped"!==n?"radialBar"===r&&"grouped"===n&&(i=t.filter((function(e){return!e.data}))):i=t.filter((function(e){return!e.data})),i}},{key:"getSelectedSeriesModels",value:function(e){var t=e.models,n=e.eventDetectType,r=e.name,i=t;return"column"!==r&&"bar"!==r&&"bullet"!==r||"grouped"!==n?"radialBar"===r&&"grouped"===n&&(i=t.filter((function(e){return e.data}))):i=t.filter((function(e){return e.data})),i}},{key:"setActiveState",value:function(){var e=this;this.isShow?(this.store.dispatch("setAllLegendActiveState",!1),Object.values(this.activeSeriesNames).forEach((function(t){t.forEach((function(t){e.store.dispatch("setLegendActiveState",{name:t,active:!0})}))}))):this.store.dispatch("setAllLegendActiveState",!0),this.eventBus.emit("needDraw")}},{key:"initialize",value:function(){this.type="selectedSeries",this.name="selectedSeries",this.eventBus.on("renderSelectedSeries",this.renderSelectedSeries),this.eventBus.on("resetSelectedSeries",this.resetSelectedSeries)}},{key:"render",value:function(e){var t=e.layout;this.rect=t.plot}}]),n}(Kn);function lb(e){return lb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ub(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cb(Object(n),!0).forEach((function(t){xb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hb(e,t,n){return t&&db(e.prototype,t),n&&db(e,n),e}function pb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vb(e,t)}function vb(e,t){return vb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vb(e,t)}function mb(e){var t=bb();return function(){var n,r=wb(e);if(t){var i=wb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yb(this,n)}}function yb(e,t){return!t||"object"!==lb(t)&&"function"!==typeof t?gb(e):t}function gb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wb(e)}function xb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kb=function(e){pb(n,e);var t=mb(n);function n(){var e;fb(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),xb(gb(e),"models",void 0),xb(gb(e),"theme",void 0),e}return hb(n,[{key:"initialize",value:function(){this.type="background",this.name="background"}},{key:"render",value:function(e){var t=e.layout,n=e.theme,r=t.chart,i=r.width,o=r.height;this.theme=n.chart,this.rect={x:0,y:0,width:i,height:o},this.models=[ub(ub({type:"rect"},this.rect),{},{color:this.theme.backgroundColor})]}}]),n}(Kn);function Sb(e){return Sb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(e)}function Ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ob(Object(n),!0).forEach((function(t){Ib(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ab(e,t,n){return t&&Mb(e.prototype,t),n&&Mb(e,n),e}function Tb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pb(e,t)}function Pb(e,t){return Pb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pb(e,t)}function Rb(e){var t=jb();return function(){var n,r=Lb(e);if(t){var i=Lb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(e,t){return!t||"object"!==Sb(t)&&"function"!==typeof t?_b(e):t}function _b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jb(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lb(e)}function Ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nb="No data to display",Bb=function(e){Tb(n,e);var t=Rb(n);function n(){var e;Eb(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ib(_b(e),"models",void 0),e}return Ab(n,[{key:"initialize",value:function(){this.type="noDataText",this.name="noDataText"}},{key:"getCenterPosition",value:function(e,t){var n=cn(e,t),r=un(e,t);return{x:(this.rect.width-n)/2,y:(this.rect.height-r)/2}}},{key:"render",value:function(e){var t,n,r=e.layout,i=e.series,o=e.options,a=e.theme,s=null!==(t=null===o||void 0===o||null===(n=o.lang)||void 0===n?void 0:n.noData)&&void 0!==t?t:Nb,l=a.noData,c=st(l),u=l.color;this.isShow=hc(i),this.rect=r.plot,this.models=[Cb(Cb({type:"label"},this.getCenterPosition(s,c)),{},{text:s,style:[{font:c,fillStyle:u}]})]}}]),n}(Kn);function zb(e,t){var n=t.color,r=t.lineWidth,i=t.points,o=t.dashSegments,a=void 0===o?[]:o;e.lineCap="round",e.beginPath(),a&&ut(e,a);var s=!1;i.forEach((function(t,n){var r,o;if(M(t))s=!1;else{if(!s)return e.moveTo(t.x,t.y),void(s=!0);if(t.controlPoint&&null!==(r=i[n-1])&&void 0!==r&&null!==(o=r.controlPoint)&&void 0!==o&&o.next){var a=i[n-1].controlPoint.next,l=a.x,c=a.y,u=t.controlPoint,f=t.x,d=t.y;e.bezierCurveTo(l,c,u.prev.x,u.prev.y,f,d)}else e.lineTo(t.x,t.y)}})),ht(e,{lineWidth:r,strokeStyle:n}),e.closePath(),ut(e,[])}function Hb(e,t){var n=t.fillColor;e.beginPath(),zb(e,t),dt(e,n),e.closePath()}function Wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wb(Object(n),!0).forEach((function(t){Ub(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ub(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vb(e,t,n){var r=t.x,i=t.y,o=t.theme,a=o.color,s=o.lineWidth,l=n/3,c=r+l,u=i+l,f=r+2*l,d=i+2*l,h=[{x:c,y:u,x2:f,y2:d},{x:c,y:d,x2:f,y2:u}];h.forEach((function(t){Xt(e,Fb(Fb({type:"line"},t),{},{strokeStyle:a,lineWidth:s}))}))}function qb(e,t,n){var r=t.x,i=t.y,o=t.theme,a=o.color,s=o.width,l=o.height,c=o.gap,u=(n-s)/2,f=(n-(3*l+2*c))/2,d=r+u,h=[{x:d,y:i+f},{x:d,y:i+f+l+c},{x:d,y:i+f+2*(l+c)}];h.forEach((function(t){Kt(e,Fb(Fb({type:"rect"},t),{},{color:a,width:s,height:l}))}))}function Yb(e,t){var n=t.opened,r=t.x,i=t.y,o=t.theme,a=o,s=a.borderColor,l=a.backgroundColor,c=a.borderWidth,u=a.borderRadius,f=a.xIcon,d=a.dotIcon,h=r+c,p=i+c,v=ma-2*c;$t(e,{type:"pathRect",x:h,y:p,fill:l,stroke:s,width:v,height:v,radius:u,lineWidth:c}),n?Vb(e,{x:h,y:p,theme:f},v):qb(e,{x:h,y:p,theme:d},v)}var $b=3,Gb=6;function Xb(e,t){var n=t.x,r=t.y,i=n+ma/2,o=r+ma/2,a=ma/10,s="#545454";Gt(e,{type:"circle",x:i,y:o,radius:2*a,angle:{start:0,end:Math.PI/2},color:"transparent",style:[{lineWidth:2,strokeStyle:s}]});var l=i+2*a,c=o,u=[{x:l-Gb/2,y:c},{x:l+Gb/2,y:c},{x:l,y:c+$b}];Hb(e,{type:"areaPoints",points:u,lineWidth:1,color:s,fillColor:s})}function Kb(e,t){var n=4,r=ma/7,i=t.x,o=t.y,a=i+ma/2,s=o+ma/2,l="#545454";Xt(e,{type:"line",lineWidth:2,x:a-n/2,y:s+r,x2:a+n/2,y2:s+r,strokeStyle:l}),Xt(e,{type:"line",lineWidth:2,x:a-n/2,y:s-r,x2:a+n/2,y2:s-r,strokeStyle:l}),Gt(e,{type:"circle",x:a+n/2,y:s,radius:r,angle:{start:Math.PI/2,end:3*Math.PI/2},color:"transparent",style:[{lineWidth:2,strokeStyle:l}]});var c=a-n/2,u=s-r,f=[{x:c-$b,y:u},{x:c,y:u-Gb/2},{x:c,y:u+Gb/2}];Hb(e,{type:"areaPoints",points:f,lineWidth:1,color:l,fillColor:l})}function Zb(e,t){var n=t.x,r=t.y;$t(e,{type:"pathRect",x:n,y:r,fill:"#f4f4f4",stroke:"#f4f4f4",width:ma,height:ma,radius:5}),Kb(e,{x:n,y:r})}function Jb(e,t){var n=t.x,r=t.y;$t(e,{type:"pathRect",x:n,y:r,fill:"#f4f4f4",stroke:"#f4f4f4",width:ma,height:ma,radius:5}),Xb(e,{x:n,y:r})}function Qb(e){return Qb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(e)}function ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(n),!0).forEach((function(t){nw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ow(e,t,n){return t&&iw(e.prototype,t),n&&iw(e,n),e}function aw(e,t,n){return aw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},aw(e,t,n||e)}function sw(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=pw(e),null===e)break;return e}function lw(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cw(e,t)}function cw(e,t){return cw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cw(e,t)}function uw(e){var t=hw();return function(){var n,r=pw(e);if(t){var i=pw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fw(this,n)}}function fw(e,t){return!t||"object"!==Qb(t)&&"function"!==typeof t?dw(e):t}function dw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pw(e)}var vw=function(n){lw(a,n);var r=uw(a);function a(e){var t;return rw(this,a),r.call(this,{el:e.el,options:e.options,series:{line:e.data.series},categories:null===(t=e.data)||void 0===t?void 0:t.categories,modules:[qf,rh,Oo,xh]})}return ow(a,[{key:"initialize",value:function(){aw(pw(a.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(pm),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"secondaryYAxis"}),this.componentManager.add(ry),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ky,{name:"secondaryYAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(_g),this.componentManager.add(Yg),this.componentManager.add(Bb),this.painter.addGroups([t,i,u,c,e,f,o,d])}},{key:"addData",value:function(e,t){var n;null!==(n=this.store.state.options.series)&&void 0!==n&&n.showDot&&(this.animationControlFlag.updating=!0),this.resetSeries(),this.store.dispatch("addData",{data:e,category:t})}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{line:n},categories:t})}},{key:"addPlotLine",value:function(e){this.store.dispatch("addPlotLine",{data:e})}},{key:"removePlotLine",value:function(e){this.store.dispatch("removePlotLine",{id:e})}},{key:"addPlotBand",value:function(e){this.store.dispatch("addPlotBand",{data:e})}},{key:"removePlotBand",value:function(e){this.store.dispatch("removePlotBand",{id:e})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",tw({},e))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),a}(Ef);function mw(e){return mw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(e)}function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yw(Object(n),!0).forEach((function(t){Tw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xw(e,t,n){return t&&ww(e.prototype,t),n&&ww(e,n),e}function kw(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sw(e,t)}function Ow(e){var t=Mw();return function(){var n,r=Aw(e);if(t){var i=Aw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cw(this,n)}}function Cw(e,t){return!t||"object"!==mw(t)&&"function"!==typeof t?Ew(e):t}function Ew(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Aw(e)}function Tw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pw(e){var t=e.alias,n=e.renderOptions,r=e.radiusRangeMap,i=e.pieIndex,o=e.radiusRanges,a=e.totalPieAliasCount,s=Object.keys(r).length,l=n.defaultRadius,c=void 0===l?0:l,u=n.radiusRange,f=u.inner,d=u.outer;if(!r[t])if(s){var h;if(i&&o[i-1].outer&&(f=o[i-1].outer),null!==(h=o[i+1])&&void 0!==h&&h.inner)d=o[i+1].inner;else if(i===a-1)d=c;else{var p,v,m,y,g=(c-(null!==(p=null===(v=o[i-1])||void 0===v?void 0:v.outer)&&void 0!==p?p:0)-(null!==(m=null===(y=o[i+1])||void 0===y?void 0:y.inner)&&void 0!==m?m:0))/(a-s);d=f+g}}else{var b=c/a;f=i*b,d=(i+1)*b}return{inner:f,outer:d}}function Rw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.85,i=Number((e*Math.pow(r,t)).toFixed(2));return Number(Math.pow(i,n+1).toFixed(2))}function Dw(e,t,n){var r,i,o=[{hasOuterLabel:t.visible&&"outer"===t.anchor,labels:["00.00%"],theme:n},{hasOuterLabel:(null===(r=t.pieSeriesName)||void 0===r?void 0:r.visible)&&"outer"===(null===(i=t.pieSeriesName)||void 0===i?void 0:i.anchor),labels:e,theme:n.pieSeriesName}];return o.reduce((function(e,t){var n=e.width,r=e.height,i=t.hasOuterLabel,o=t.labels,a=t.theme;if(i){var s=zi(o,0,ct(a)),l=s.maxLabelWidth,c=s.maxLabelHeight;return{width:Math.max(l+Tv,n),height:Math.max(c+Tv,r)}}return e}),{width:0,height:0})}var _w=function(e){kw(n,e);var t=Ow(n);function n(){var e;bw(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Tw(Ew(e),"models",{series:[]}),Tw(Ew(e),"drawModels",void 0),Tw(Ew(e),"responders",void 0),Tw(Ew(e),"activatedResponders",[]),Tw(Ew(e),"alias",void 0),Tw(Ew(e),"theme",void 0),Tw(Ew(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.alias||e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.alias||e.name}),e.eventBus.emit("needDraw")})),Tw(Ew(e),"selectSeries",(function(t){var n=t.seriesIndex,r=t.name;if(T(n)&&(E(r)||r===e.alias)){var i=e.responders[n];if(!i)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:e.getResponderModelsWithTheme([i],"select"),name:e.name,alias:e.alias}),e.eventBus.emit("needDraw")}})),Tw(Ew(e),"showTooltip",(function(t){var n=t.seriesIndex,r=t.name;if(T(n)&&(E(r)||r===e.alias)){var i=[e.responders[n]];i.length&&(e.eventBus.emit("renderHoveredSeries",{models:e.getResponderModelsWithTheme(i,"hover"),name:e.name,alias:e.alias}),e.activatedResponders=e.makeTooltipResponder(i),e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.alias||e.name}),e.eventBus.emit("needDraw"))}})),e}return xw(n,[{key:"initUpdate",value:function(e){if(this.drawModels){var t,n=this.models.series.findIndex((function(n){var r=n.clockwise,i=n.degree,o=i.start,a=i.end,s=n.totalAngle;return t=r?s*e:Mt-s*e,Nt(r,o,a,t)}));this.syncEndAngle(n<0?this.models.series.length:n),~n&&(this.drawModels.series[n].degree.end=t)}}},{key:"syncEndAngle",value:function(e){if(!(e<1))for(var t=0;t<e;t+=1){var n=this.models.series[t].degree.end;this.drawModels.series[t].degree.end!==n&&(this.drawModels.series[t].degree.end=n)}}},{key:"initialize",value:function(e){var t;this.type="series",this.name="pie",this.alias=null!==(t=null===e||void 0===e?void 0:e.alias)&&void 0!==t?t:"",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"render",value:function(e){var t,n=this,r=e.layout,i=e.series,o=e.legend,a=e.options,s=e.nestedPieSeries,l=e.theme,c=null!==(t=e.categories)&&void 0!==t?t:[];if(!i.pie)throw new Error(ae.noDataError(this.name));var u,f,d=l.series.pie;this.theme=this.alias?d[this.alias]:d,this.rect=r.plot,this.activeSeriesMap=yc(o),this.selectable=this.getSelectableOption(a);var h=Gv(a,this.alias);if(s){var p=s[this.alias].data,v=Object.keys(s),m=v.findIndex((function(e){return e===n.alias})),y=K(v),g=s[y],b=Dw(g.data.map((function(e){var t=e.name;return t})),Gv(a,y),this.theme.dataLabels),w=this.getRenderOptionsMap(a,v,b);u=this.renderPieModel(p,w[this.alias],m),f=Wr(p,null===c||void 0===c?void 0:c[m])}else{var x,k=null===(x=i.pie)||void 0===x?void 0:x.data,S=Dw(k.map((function(e){var t=e.name;return t})),h,this.theme.dataLabels),O=S.width,C=S.height,E=this.makeRenderOptions(a,O,C);u=this.renderPieModel(k,E),f=Wr(k,null===c||void 0===c?void 0:c[0])}if(this.models.series=u,this.drawModels||(this.drawModels={series:this.models.series.map((function(e){return gw(gw({},e),{},{degree:gw(gw({},e.degree),{},{end:e.degree.start})})}))}),h.visible){var M=u.map((function(e){return gw(gw({},e),{},{value:"".concat(Vr(e.percentValue)),theme:n.theme.dataLabels})}));this.renderDataLabels(M,this.alias)}this.responders=u.map((function(e,t){return gw(gw({},e),{},{type:"sector",radius:e.radius,seriesIndex:t,data:gw(gw({},f[t]),{},{percentValue:e.percentValue}),color:Qe(e.color,1)})}))}},{key:"getRadiusRangeMap",value:function(e,t){var n=this;return t.reduce((function(t,r){var i=n.getOptions(e,r).series;return null!==i&&void 0!==i&&i.radiusRange&&(t[r]=null===i||void 0===i?void 0:i.radiusRange),t}),{})}},{key:"getRenderOptionsMap",value:function(e,t,n){var r=this.initRenderOptionsMap(e,t,n),i=this.getRadiusRangeMap(e,t);return t.forEach((function(e,n){var o=Object.values(r).map((function(e){var t=e.radiusRange;return t}));r[e].radiusRange=Pw({alias:e,renderOptions:r[e],radiusRangeMap:i,pieIndex:n,radiusRanges:o,totalPieAliasCount:t.length})})),r}},{key:"initRenderOptionsMap",value:function(e,t,n){var r=this,i=n.width,o=n.height;return t.reduce((function(t,n){return gw(gw({},t),{},Tw({},n,r.makeRenderOptions(r.getOptions(e,n),i,o)))}),{})}},{key:"getOptions",value:function(e,t){var n=gw({},e);return null!==n&&void 0!==n&&n.series&&t&&(n.series=gw(gw({},n.series),n.series[t])),n}},{key:"makeRenderOptions",value:function(e){var t,n,r,i,o,a,s,l,c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=e.series,h=null===(t=null===d||void 0===d?void 0:d.clockwise)||void 0===t||t,p=null!==(n=null===d||void 0===d||null===(r=d.angleRange)||void 0===r?void 0:r.start)&&void 0!==n?n:At,v=null!==(i=null===d||void 0===d||null===(o=d.angleRange)||void 0===o?void 0:o.end)&&void 0!==i?i:Mt,m=Br(h,p,v),y=zr(h,p,v),g=this.rect,b=g.width,w=g.height,x=zt(this.rect,y,u,f),k=re(x,null!==(a=null===d||void 0===d||null===(s=d.radiusRange)||void 0===s?void 0:s.inner)&&void 0!==a?a:0),S=re(x,null!==(l=null===d||void 0===d||null===(c=d.radiusRange)||void 0===c?void 0:c.outer)&&void 0!==l?l:this.alias?0:x),O=b/2,C=y?Hr(this.rect.height,h):w/2;return{clockwise:h,cx:O,cy:C,drawingStartAngle:p-Pt,radiusRange:{inner:k,outer:S},angleRange:{start:p,end:v},totalAngle:m,defaultRadius:x}}},{key:"renderPieModel",value:function(e,t,n){var r=this,i=[],o=e.reduce((function(e,t){var n=t.data;return e+(null!==n&&void 0!==n?n:0)}),0),a=t.clockwise,s=t.cx,l=t.cy,c=t.drawingStartAngle,u=t.radiusRange,f=u.inner,d=u.outer,h=t.totalAngle,p=a?At:Mt,v=this.theme,m=v.lineWidth,y=v.strokeStyle;return e.forEach((function(t,u){var v=r.alias?r.getAliasSeriesColor(t,e,n):r.getSeriesColor(t),g=t.data,b=t.name;if(g){var w=Math.max(g/o*h,1)*(a?1:-1),x=g/o*100,k=i[i.length-1],S=u&&k?k.degree.end:p,O=a?Math.min(S+w,Mt):Math.max(S+w,At);i.push({type:"sector",name:b,color:v,x:s,y:l,degree:{start:S,end:O},radius:{inner:f,outer:d},value:g,style:[{strokeStyle:y}],lineWidth:m,clockwise:a,drawingStartAngle:c,totalAngle:h,percentValue:x})}})),i}},{key:"makeTooltipResponder",value:function(e){var t=this;return e.map((function(e){return gw(gw({},e),Lt(Dt("center",t.models.series[e.seriesIndex])))}))}},{key:"onMousemove",value:function(e){var t=e.responders;this.eventBus.emit("renderHoveredSeries",{models:this.getResponderModelsWithTheme(t,"hover"),name:this.alias||this.name}),this.activatedResponders=this.makeTooltipResponder(t),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.alias||this.name}),this.eventBus.emit("needDraw")}},{key:"onClick",value:function(e){var t=e.responders;this.selectable&&(this.eventBus.emit("renderSelectedSeries",{models:this.getResponderModelsWithTheme(t,"select"),name:this.name,alias:this.alias}),this.eventBus.emit("needDraw"))}},{key:"getResponderModelsWithTheme",value:function(e,t){var n=this.theme[t],r=n.lineWidth,i=this.theme.lineWidth===r,o=i?0:.5*r;return e.map((function(e){var t;return gw(gw({},e),{},{color:null!==(t=null===n||void 0===n?void 0:n.color)&&void 0!==t?t:e.color,lineWidth:r,style:[z(n,"strokeStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY")],radius:{inner:Math.max(e.radius.inner-o,0),outer:e.radius.outer+o}})}))}},{key:"getOpacity",value:function(e,t){var n=this.theme,r=n.select,i=n.areaOpacity,o=r,a=o.areaOpacity,s=o.restSeries.areaOpacity,l=e?a:s;return t?l:i}},{key:"getIndexOfGroup",value:function(e,t,n){return e.filter((function(e){return t===e.parentName})).findIndex((function(e){return n===e.name}))}},{key:"getSeriesColor",value:function(e){var t=e.color,n=e.name,r=this.activeSeriesMap[n],i=this.getOpacity(r,this.hasActiveSeries());return Qe(t,i)}},{key:"getAliasSeriesColor",value:function(e,t,n){var r=e.color,i=e.name,o=this.theme.select.color,a=e.rootParentName,s=e.parentName,l=this.getIndexOfGroup(t,s,i),c=this.getAliasSeriesOpacity(a,s,n,l,i),u=this.activeSeriesMap[null!==a&&void 0!==a?a:i],f=u&&null!==o&&void 0!==o?o:r;return Qe(f,c)}},{key:"getAliasSeriesOpacity",value:function(e,t,n,r,i){var o=this.activeSeriesMap[null!==e&&void 0!==e?e:i],a=this.getOpacity(o,this.hasActiveSeries());return n&&t?Rw(a,n,r):a}},{key:"hasActiveSeries",value:function(){return Object.values(this.activeSeriesMap).some((function(e){return!e}))}}]),n}(Kn);function jw(e,t){var n=t.degree,r=n.start,i=n.end,o=t.color,a=t.style,s=t.lineWidth;if(r!==i){var l=Math.abs(r-i)===Mt;if(e.beginPath(),a){var c=ot(a,{});Object.keys(c).forEach((function(t){e[t]=c[t]}))}l?Iw(e,t):Lw(e,t),e.closePath(),dt(e,o),s&&(e.lineWidth=s,e.stroke())}}function Lw(e,t){var n=t.x,r=t.y,i=t.radius,o=i.inner,a=i.outer,s=t.degree,l=s.start,c=s.end,u=t.clockwise,f=t.drawingStartAngle;if(!(o<0||a<0)){var d=_t(l,f),h=_t(c,f);o||e.moveTo(n,r),e.arc(n,r,a,d,h,!u),o&&e.arc(n,r,o,h,d,u)}}function Iw(e,t){var n=t.x,r=t.y,i=t.radius,o=i.inner,a=i.outer,s=t.clockwise;if(e.arc(n,r,a,0,2*Math.PI,!s),o){var l=It(n,r,o,0),c=l.x,u=l.y,f=o?c:n,d=o?u:r;e.moveTo(f,d),e.arc(n,r,o,0,2*Math.PI,s)}}function Nw(e){return Nw="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nw(e)}function Bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bw(Object(n),!0).forEach((function(t){Hw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ww(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uw(e,t,n){return t&&Fw(e.prototype,t),n&&Fw(e,n),e}function Vw(e,t,n){return Vw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},Vw(e,t,n||e)}function qw(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Jw(e),null===e)break;return e}function Yw(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$w(e,t)}function $w(e,t){return $w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$w(e,t)}function Gw(e){var t=Zw();return function(){var n,r=Jw(e);if(t){var i=Jw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xw(this,n)}}function Xw(e,t){return!t||"object"!==Nw(t)&&"function"!==typeof t?Kw(e):t}function Kw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zw(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Jw(e){return Jw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jw(e)}var Qw=function(n){Yw(i,n);var r=Gw(i);function i(e){var t=e.el,n=e.options,o=e.data;return Ww(this,i),r.call(this,{el:t,options:n,series:{pie:o.series},categories:o.categories})}return Uw(i,[{key:"initialize",value:function(){Vw(Jw(i.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(Lm),this.componentManager.add(_w),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,c,e,f,h,o])}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{pie:n},categories:t})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",zw(zw({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),i}(Ef);function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(n),!0).forEach((function(t){nx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rx(e,t){var n,r,i,o,a,s,l,c=e.categories,u=e.axisSize,f=e.axisLayout,d=e.options,h=e.theme,p=t===Xn.X,v=p?"x":"y",m=qi(d,t),y=Ni(c[v],d,m,t),g=y.length,b=g?u/g:u,w=u/g,x=!0,k=g+1,S=null!==(n=null===(r=d[t])||void 0===r||null===(i=r.tick)||void 0===i?void 0:i.interval)&&void 0!==n?n:1,O=null!==(o=null===(a=d[t])||void 0===a||null===(s=a.label)||void 0===s?void 0:s.interval)&&void 0!==o?o:1,C=ji({labels:y,pointOnColumn:x,tickDistance:b,tickCount:k,tickInterval:S,labelInterval:O},u),E=Hi(t,d),M=zi(y,E,st(h.label)),A=M.maxLabelWidth,T=M.maxLabelHeight,P={labels:y,viewLabels:C,pointOnColumn:x,isLabelAxis:p,tickCount:k,tickDistance:b,labelDistance:w,tickInterval:S,labelInterval:O,title:Li(null===(l=d[t])||void 0===l?void 0:l.title),maxLabelWidth:A,maxLabelHeight:T};if(t===Xn.X){var R,D,_,j=null!==(R=null===(D=d.xAxis)||void 0===D||null===(_=D.label)||void 0===_?void 0:_.margin)&&void 0!==R?R:0,L=dn(T)+j,I=u/C.length,N=Bi(A,T,I,_i(d),f),B=N.needRotateLabel,z=N.rotationHeight,H=(B?z:T)+L;return tx(tx(tx({},P),N),{},{maxHeight:H,offsetY:L})}return P}var ix={name:"axes",state:function(){return{axes:{xAxis:{},yAxis:{}}}},action:{setAxesData:function(e){var t=e.state,n=t.layout,r=t.theme,i=n.plot,o=i.width,a=i.height,s=t.categories,l=t.options,c=rx({axisSize:o,categories:s,options:l,theme:Mi(r,Xn.X),axisLayout:n[Xn.X]},Xn.X),u=rx({axisSize:a,categories:s,options:l,theme:Mi(r,Xn.Y)},Xn.Y),f={xAxis:c,yAxis:u};Di(t.axes,f)&&this.notify(t,"layout"),t.axes=f}},computed:{},observe:{updateAxes:function(){this.dispatch("setAxesData")}}},ox=ix;function ax(e,t,n){return e.heatmap?e.heatmap.data.map((function(e,r){var i=e.yCategory,o=e.data;return Ds(o,n).map((function(e,n){return{colorValue:e,category:{x:t.x[n],y:i},indexes:[n,r]}}))})):[]}var sx={name:"heatmapSeriesData",state:function(){return{heatmapSeries:[]}},action:{setHeatmapSeriesData:function(e){var t=e.state,n=e.computed;t.heatmapSeries=ax(t.series,t.categories,n.viewRange)}},observe:{updateTreemapSeriesData:function(){this.dispatch("setHeatmapSeriesData")}}},lx=sx;function cx(e){return hx(e)||dx(e)||fx(e)||ux()}function ux(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fx(e,t){if(e){if("string"===typeof e)return px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?px(e,t):void 0}}function dx(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function hx(e){if(Array.isArray(e))return px(e)}function px(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vx="__TOAST_UI_TREEMAP",mx="".concat(vx,"_ROOT");function yx(e,t,n,r){var i,o=K(t),a=r?"".concat(r,"_").concat(o):"".concat(vx,"_").concat(o),s=e.colorValue,l=[{label:e.label,hasChild:!!e.children,id:a,indexes:t,parentId:r||mx,depth:n,data:null!==(i=e.data)&&void 0!==i?i:0,colorValue:s}];return e.children&&e.children.forEach((function(e,r){M(e.data)||l.push.apply(l,cx(yx(e,[].concat(cx(t),[r]),n+1,a)))})),l}function gx(e){e.forEach((function(t){var n=t.parentId,r=t.data;n!==mx&&(e.find((function(e){var t=e.id;return t===n})).data+=r)}))}function bx(e){e.forEach((function(t){var n=t.id,r=t.colorValue;if(E(r)){var i=e.filter((function(e){var t=e.parentId;return t===n})),o=i.reduce((function(e,t){return e+(E(t.colorValue)?0:t.colorValue)}),0);t.colorValue=o/i.length}}))}function wx(e){var t=e.filter((function(e){var t=e.parentId;return t===mx})).reduce((function(e,t){var n=t.data;return e+n}),0);e.forEach((function(n){var r=n.parentId===mx?t:e.find((function(e){var t=e.id;return t===n.parentId})).data;n.ratio=n.data/r}))}function xx(e,t){var n;if(!e.treemap)return[];var r=e.treemap.data.filter((function(e){return!M(e.data)})).map((function(e,t){return yx(e,[t],0)})).flatMap((function(e){return e})).sort((function(e,t){return t.depth-e.depth}));return gx(r),wx(r),null!==(n=t.series)&&void 0!==n&&n.useColorValue&&bx(r),r}var kx={name:"treemapSeriesData",state:function(){return{treemapSeries:[]}},action:{setTreemapSeriesData:function(e){var t=e.state;t.treemapSeries=xx(t.series,t.options)}},observe:{updateTreemapSeriesData:function(){this.dispatch("setTreemapSeriesData")}}},Sx=kx;function Ox(e){return Ax(e)||Mx(e)||Ex(e)||Cx()}function Cx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ex(e,t){if(e){if("string"===typeof e)return Tx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tx(e,t):void 0}}function Mx(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ax(e){if(Array.isArray(e))return Tx(e)}function Tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Px={name:"colorValueScale",state:function(){return{treemapZoomId:{prev:mx,cur:mx},colorValueScale:{}}},action:{setColorValueScale:function(e){var t=e.state,n=t.layout,r=t.treemapSeries,i=t.legend,o=t.heatmapSeries;if(i.useSpectrumLegend){var a=null!==r&&void 0!==r?r:o.flatMap((function(e){return e})),s=a.reduce((function(e,t){var n=t.colorValue;return n?[].concat(Ox(e),[n]):e}),[]),l=Nf(Ox(new Set(s))),c=Ga(i.align)?n.plot.width/2:n.plot.height;Re(t.colorValueScale,pd({dataRange:l,offsetSize:c,useSpectrumLegend:!0,scaleOption:{}}))}},setTreemapZoomId:function(e,t){var n=e.state;n.treemapZoomId.prev=n.treemapZoomId.cur,n.treemapZoomId.cur=t},zoomBack:function(e){var t,n=e.state,r=n.treemapSeries,i=n.treemapZoomId,o=i.prev,a=r.find((function(e){var t=e.id;return t===o}));n.treemapZoomId.prev=null!==(t=null===a||void 0===a?void 0:a.parentId)&&void 0!==t?t:mx,n.treemapZoomId.cur=o}},observe:{updateColorValueScale:function(){this.dispatch("setColorValueScale")}},computed:{isTreemapSeriesZooming:function(e){var t=e.treemapZoomId;return t&&t.cur!==t.prev}}},Rx=Px;function Dx(e){return Dx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(e)}function _x(e){return Ix(e)||Lx(e)||zx(e)||jx()}function jx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lx(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ix(e){if(Array.isArray(e))return Hx(e)}function Nx(e,t){return Fx(e)||Wx(e,t)||zx(e,t)||Bx()}function Bx(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zx(e,t){if(e){if("string"===typeof e)return Hx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hx(e,t):void 0}}function Hx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wx(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function Fx(e){if(Array.isArray(e))return e}function Ux(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qx(e,t,n){return t&&Vx(e.prototype,t),n&&Vx(e,n),e}function Yx(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$x(e,t)}function $x(e,t){return $x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$x(e,t)}function Gx(e){var t=Zx();return function(){var n,r=Jx(e);if(t){var i=Jx(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xx(this,n)}}function Xx(e,t){return!t||"object"!==Dx(t)&&"function"!==typeof t?Kx(e):t}function Kx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zx(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jx(e)}function Qx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ek=function(e){Yx(n,e);var t=Gx(n);function n(){var e;Ux(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Qx(Kx(e),"models",void 0),Qx(Kx(e),"labels",[]),Qx(Kx(e),"align",void 0),Qx(Kx(e),"renderSpectrumTooltip",(function(t){var n=Nx(t,1),r=n[0];if(r){var i=Kx(e),o=i.labels,a=i.align,s=r.colorValue,l=r.color,c=e.rect,u=c.width,f=c.height;e.models.tooltip=[{type:"spectrumTooltip",width:u,height:f,x:0,y:0,labels:o,align:a,colorRatio:r.colorRatio,color:l,text:String(s),verticalAlign:Ga(a)}]}else e.models.tooltip=[]})),e}return qx(n,[{key:"initialize",value:function(){this.type="spectrumLegend",this.name="spectrumLegend"}},{key:"makeLabels",value:function(e){var t=e.stepCount,n=e.limit,r=e.stepSize,i=n.min;return I(0,t+1).reduce((function(e,t){return[].concat(_x(e),[String(i+r*t)])}),[])}},{key:"renderSpectrumLegendModel",value:function(e,t){var n=this.labels,r=this.align,i=this.rect,o=i.width,a=i.height;return[{type:"spectrumLegend",width:o,height:a,x:0,y:0,labels:n,align:r,startColor:e,endColor:t,verticalAlign:Ga(this.align)}]}},{key:"render",value:function(e){var t,n,r=e.layout,i=e.legend,o=e.colorValueScale,a=e.theme;if(this.rect=r.legend,this.align=i.align,this.isShow=i.visible&&!!i.data.length,this.isShow){this.labels=this.makeLabels(o);var s=(null===(t=a.series)||void 0===t?void 0:t.heatmap)||(null===(n=a.series)||void 0===n?void 0:n.treemap),l=s.startColor,c=s.endColor;this.models={legend:this.renderSpectrumLegendModel(l,c),tooltip:[]},this.eventBus.on("renderSpectrumTooltip",this.renderSpectrumTooltip)}}}]),n}(Kn);function tk(e){return ok(e)||ik(e)||rk(e)||nk()}function nk(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rk(e,t){if(e){if("string"===typeof e)return ak(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ak(e,t):void 0}}function ik(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ok(e){if(Array.isArray(e))return ak(e)}function ak(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sk(e,t){return e.map((function(e,n){return t[n]-e}))}function lk(e,t){if(!E(t)){var n=Math.abs(e.max-e.min);return n&&!M(t)?(t-e.min)/n:0}}function ck(e,t,n){var r=n.map((function(n,r){return n+parseInt(String(t[r]*e),10)})),i=Je.apply(void 0,tk(r));return P(i)?i:""}function uk(e){return uk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uk(e)}function fk(e,t){return pk(e)||hk(e,t)||bk(e,t)||dk()}function dk(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hk(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function pk(e){if(Array.isArray(e))return e}function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vk(Object(n),!0).forEach((function(t){_k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yk(e){return xk(e)||wk(e)||bk(e)||gk()}function gk(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bk(e,t){if(e){if("string"===typeof e)return kk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kk(e,t):void 0}}function wk(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function xk(e){if(Array.isArray(e))return kk(e)}function kk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ok(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ck(e,t,n){return t&&Ok(e.prototype,t),n&&Ok(e,n),e}function Ek(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mk(e,t)}function Mk(e,t){return Mk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mk(e,t)}function Ak(e){var t=Rk();return function(){var n,r=Dk(e);if(t){var i=Dk(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tk(this,n)}}function Tk(e,t){return!t||"object"!==uk(t)&&"function"!==typeof t?Pk(e):t}function Pk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Dk(e){return Dk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dk(e)}function _k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jk=function(e){Ek(n,e);var t=Ak(n);function n(){var e;Sk(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),_k(Pk(e),"models",void 0),_k(Pk(e),"responders",void 0),_k(Pk(e),"theme",void 0),_k(Pk(e),"activatedResponders",[]),_k(Pk(e),"onMouseoutComponent",(function(){e.emitMouseEvent([])})),_k(Pk(e),"selectSeries",(function(t){var n,r=t.index,i=t.seriesIndex,o=t.state;if(T(r)&&T(i)){var a=null===(n=o.series.heatmap)||void 0===n?void 0:n[0].data.length,s=i*a+r,l=e.responders[s];if(!l)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:e.getRespondersWithTheme([l],"select"),name:e.name}),e.eventBus.emit("needDraw")}})),_k(Pk(e),"showTooltip",(function(t){var n,r=t.index,i=t.seriesIndex,o=t.state;if(T(r)&&T(i)){var a=null===(n=o.series.heatmap)||void 0===n?void 0:n[0].data.length,s=i*a+r,l=e.responders[s];l&&e.emitMouseEvent([l])}})),e}return Ck(n,[{key:"initialize",value:function(){this.type="series",this.name="heatmap",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"render",value:function(e){var t=e.layout,n=e.heatmapSeries,r=e.axes,i=e.theme,o=e.colorValueScale,a=e.options;if(!n)throw new Error(ae.noDataError(this.name));this.theme=i.series.heatmap,this.selectable=this.getSelectableOption(a),this.rect=t.plot;var s={height:r.yAxis.tickDistance,width:r.xAxis.tickDistance};this.models={series:this.renderHeatmapSeries(n,s,o)},Gv(a,this.name).visible&&this.renderDataLabels(this.makeDataLabels()),this.responders=this.makeHeatmapSeriesResponder()}},{key:"makeDataLabels",value:function(){var e=this.theme.dataLabels;return this.models.series.reduce((function(t,n){return M(n.colorValue)?t:[].concat(yk(t),[mk(mk({},n),{},{type:"treemapSeriesName",value:n.colorValue,direction:"left",plot:{x:0,y:0,size:0},theme:mk(mk({},e),{},{color:e.useSeriesColor?n.color:e.color})})])}),[])}},{key:"makeHeatmapSeriesResponder",value:function(){return this.models.series.reduce((function(e,t){return M(t.colorValue)?e:[].concat(yk(e),[mk(mk({},t),{},{data:mk(mk({},t),{},{label:t.name,value:t.colorValue,templateType:"heatmap"}),thickness:Yl.HOVER_THICKNESS,style:["shadow"]})])}),[])}},{key:"renderHeatmapSeries",value:function(e,t,n){var r=this.theme,i=r.startColor,o=r.endColor,a=r.borderColor,s=r.borderWidth,l=Ze(i),c=sk(l,Ze(o)),u=t.height,f=t.width;return e.flatMap((function(e){return e.flatMap((function(e){var t=e.indexes,r=e.colorValue,i=e.category,o="".concat(i.x,", ").concat(i.y),d=fk(t,2),h=d[0],p=d[1],v=lk(n.limit,r),m=M(r)?"rgba(0, 0, 0, 0)":ck(v,c,l),y=s;return{type:"rect",name:o,width:f-2*y,height:u-2*y,x:f*h+y,y:u*p+y,colorValue:r,colorRatio:v,color:m,thickness:y,borderColor:a}}))}))}},{key:"getRespondersWithTheme",value:function(e,t){var n=this;return e.map((function(e){return V(e,mk(mk({},n.theme[t]),{},{style:["shadow"]}))}))}},{key:"onClick",value:function(e){var t=e.responders;this.selectable&&(this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(t,"select"),name:this.name}),this.eventBus.emit("needDraw"))}},{key:"onMousemove",value:function(e){var t=e.responders;this.activatedResponders=t,this.emitMouseEvent(t)}},{key:"emitMouseEvent",value:function(e){this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(e,"hover"),name:this.name}),this.eventBus.emit("seriesPointHovered",{models:e,name:this.name}),this.eventBus.emit("renderSpectrumTooltip",e),this.eventBus.emit("needDraw")}}]),n}(Kn);function Lk(e){return Lk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lk(e)}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ik(Object(n),!0).forEach((function(t){Bk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wk(e,t,n){return t&&Hk(e.prototype,t),n&&Hk(e,n),e}function Fk(e,t,n){return Fk="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Uk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},Fk(e,t,n||e)}function Uk(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Kk(e),null===e)break;return e}function Vk(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qk(e,t)}function qk(e,t){return qk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qk(e,t)}function Yk(e){var t=Xk();return function(){var n,r=Kk(e);if(t){var i=Kk(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $k(this,n)}}function $k(e,t){return!t||"object"!==Lk(t)&&"function"!==typeof t?Gk(e):t}function Gk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xk(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Kk(e){return Kk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kk(e)}function Zk(e,t){return e.map((function(e,n){return{data:e,yCategory:t.y[n]}}))}var Jk=function(n){Vk(s,n);var r=Yk(s);function s(e){return zk(this,s),r.call(this,{el:e.el,categories:e.data.categories,options:e.options,series:{heatmap:Zk(e.data.series,e.data.categories)},modules:[lx,Rx,ox]})}return Wk(s,[{key:"initialize",value:function(){Fk(Kk(s.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(ek),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(jk),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,i,c,e,f,o,a])}},{key:"addData",value:function(e,t){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e,category:t})}},{key:"addSeries",value:function(e,t){this.resetSeries(),this.store.dispatch("addHeatmapSeries",Nk({data:e},t))}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{heatmap:Zk(n,t)},categories:t})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",Nk(Nk({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),s}(Ef);function Qk(e){return Qk="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qk(e)}function eS(e){return iS(e)||rS(e)||nS(e)||tS()}function tS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nS(e,t){if(e){if("string"===typeof e)return oS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oS(e,t):void 0}}function rS(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function iS(e){if(Array.isArray(e))return oS(e)}function oS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aS(Object(n),!0).forEach((function(t){gS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uS(e,t,n){return t&&cS(e.prototype,t),n&&cS(e,n),e}function fS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dS(e,t)}function hS(e){var t=mS();return function(){var n,r=yS(e);if(t){var i=yS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pS(this,n)}}function pS(e,t){return!t||"object"!==Qk(t)&&"function"!==typeof t?vS(e):t}function vS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function yS(e){return yS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yS(e)}function gS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bS={INACTIVE:.06,ACTIVE:1},wS=function(e){fS(n,e);var t=hS(n);function n(){var e;lS(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),gS(vS(e),"models",{rect:[],series:[],dot:[]}),gS(vS(e),"drawModels",void 0),gS(vS(e),"theme",void 0),gS(vS(e),"responders",void 0),gS(vS(e),"activatedResponders",[]),gS(vS(e),"eventDetectType","nearest"),gS(vS(e),"tooltipCircleMap",void 0),gS(vS(e),"linePointsModel",void 0),gS(vS(e),"baseYPosition",void 0),gS(vS(e),"isStackChart",!1),gS(vS(e),"isRangeChart",!1),gS(vS(e),"isSplineChart",!1),gS(vS(e),"startIndex",void 0),gS(vS(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name,eventDetectType:e.eventDetectType}),e.eventBus.emit("needDraw")})),gS(vS(e),"selectSeries",(function(t){var n=t.index,r=t.seriesIndex;if(dc(t,"area")){var i=e.getResponderCategoryByIndex(n);if(!i)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);var o=e.tooltipCircleMap[i][r];if(!o)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);var a=e.getResponderSeriesWithTheme([o],"select");e.eventBus.emit("renderSelectedSeries",{models:a,name:e.name}),e.eventBus.emit("needDraw")}})),gS(vS(e),"showTooltip",(function(t){var n=t.index,r=t.seriesIndex;if(fc(t,e.eventDetectType,"area")){var i=e.getResponderCategoryByIndex(n);if(i){var o="grouped"===e.eventDetectType?e.tooltipCircleMap[i]:[e.tooltipCircleMap[i][r]];o.length&&(e.onMousemoveNearType(o),e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw"))}}})),e}return uS(n,[{key:"initialize",value:function(){this.type="series",this.name="area",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"initUpdate",value:function(e){this.drawModels&&(this.drawModels.rect[0].width=this.models.rect[0].width*e)}},{key:"getBaseYPosition",value:function(e){var t=e.min>=0?e.min:Math.min(e.max,0),n=this.rect.height/(e.max-e.min);return(e.max-t)*n}},{key:"getStackValue",value:function(e,t,n){var r=e.stack.type,i=e.stackData[n],o=i.values,a=i.sum,s=J(o.slice(0,t+1));return"percent"===r?100*s/a:s}},{key:"setEventDetectType",value:function(e,t){var n;null!==t&&void 0!==t&&null!==(n=t.series)&&void 0!==n&&n.eventDetectType&&(this.eventDetectType=t.series.eventDetectType),(e.line||this.isStackChart)&&(this.eventDetectType="grouped")}},{key:"getAreaOptions",value:function(e){var t,n=sS({},e);return null!==(t=n.series)&&void 0!==t&&t.area&&(n.series=sS(sS({},n.series),n.series.area)),n}},{key:"render",value:function(e,t){var n,r,i,o,a,s,l,c=t.viewRange,u=e.layout,f=e.series,d=e.scale,h=e.axes,p=e.legend,v=e.stackSeries,m=e.theme;if(!f.area)throw new Error(ae.noDataError(this.name));var y=this.getAreaOptions(e.options),g=e.categories,b=null!==(n=e.rawCategories)&&void 0!==n?n:[];this.theme=m.series.area,this.rect=u.plot,this.activeSeriesMap=yc(p),this.startIndex=null!==(r=null===c||void 0===c?void 0:c[0])&&void 0!==r?r:0,this.selectable=this.getSelectableOption(y),this.isSplineChart=null!==(i=null===(o=y.series)||void 0===o?void 0:o.spline)&&void 0!==i&&i;var w=d[Ci(y,this.name,"yAxis")].limit,x=h.xAxis,k=x.tickDistance,S=x.pointOnColumn,O=x.tickCount,C=f.area.data;this.baseYPosition=this.getBaseYPosition(w),null!==v&&void 0!==v&&v.area?(this.isStackChart=!0,l=v.area):Ps(null===(a=te(C))||void 0===a?void 0:a.data)&&(this.isRangeChart=!0),this.setEventDetectType(f,y);var E={pointOnColumn:S,options:y.series||{},tickDistance:k,tickCount:O,areaStackSeries:l};this.linePointsModel=this.renderLinePointsModel(C,w,E);var M=this.renderAreaPointsModel(),A=!(null===(s=y.series)||void 0===s||!s.showDot),T=this.renderCircleModel(A),P=T.dotSeriesModel,R=T.responderModel,D=this.makeTooltipData(C,b);this.models=Y({rect:[this.renderClipRectAreaModel()],series:[].concat(eS(this.linePointsModel),eS(M)),dot:P}),this.drawModels||(this.drawModels=sS(sS({},this.models),{},{rect:[this.renderClipRectAreaModel(!0)]})),Gv(y,this.name).visible&&this.renderDataLabels(this.getDataLabels(M)),this.tooltipCircleMap=yv(R,D),this.responders=this.getResponders(R,D,g,b,h.xAxis)}},{key:"getResponders",value:function(e,t,n,r,i){return"near"===this.eventDetectType?this.makeNearTypeResponderModel(e,t,r):"point"===this.eventDetectType?this.makeNearTypeResponderModel(e,t,r,0):vv(this.rect,i,n)}},{key:"makeNearTypeResponderModel",value:function(e,t,n,r){var i=t.length;return e.map((function(e,o){return sS(sS({},e),{},{data:t[o%i],detectionSize:r,label:n[e.index]})}))}},{key:"renderClipRectAreaModel",value:function(e){return{type:"clipRectArea",x:0,y:0,width:e?0:this.rect.width,height:this.rect.height}}},{key:"makeTooltipData",value:function(e,t){var n=this;return e.flatMap((function(e,r){var i=e.rawData,o=e.name,a=e.color,s=[];return i.forEach((function(e,i){if(!M(e)){var l=n.isRangeChart?"".concat(e[0]," ~ ").concat(e[1]):e;s.push({label:o,color:a,value:l,category:t[i],seriesIndex:r,index:i})}})),s}))}},{key:"getLinePointModelValue",value:function(e,t){return this.isRangeChart?t?e[0]:e[1]:e}},{key:"getLinePointModel",value:function(e,t,n,r){var i=this,o=r.pointOnColumn,a=r.tickDistance,s=r.pairModel,l=r.areaStackSeries,c=e.rawData,u=e.name,f=e.color,d=this.activeSeriesMap[u],h=[],p=Qe(f,d?bS.ACTIVE:bS.INACTIVE),v=this.theme,m=v.lineWidth,y=v.dashSegments;return c.forEach((function(e,r){if(M(e))h.push(null);else{var c=i.getLinePointModelValue(e,s),u=i.isStackChart?i.getStackValue(l,t,r):c,f=Cn(u,n),d=a*(r-i.startIndex)+(o?a/2:0),p=(1-f)*i.rect.height;h.push({x:d,y:p,value:c})}})),s&&h.reverse(),this.isSplineChart&&On(h),{type:"linePoints",lineWidth:m,dashSegments:y,color:p,points:h,seriesIndex:t,name:u}}},{key:"renderLinePointsModel",value:function(e,t,n){var r=this,i=e.map((function(e,i){return r.getLinePointModel(e,i,t,n)}));if(this.isRangeChart){var o=V(n,{pairModel:!0}),a=e.map((function(e,n){return r.getLinePointModel(e,n,t,o)}));i.push.apply(i,eS(a))}return i}},{key:"getCombinedPoints",value:function(e,t){var n=e>=0?this.linePointsModel[e].points:[],r=eS(this.linePointsModel[t].points).reverse();return[].concat(eS(n),eS(r))}},{key:"renderRangeAreaSeries",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=[],i=e.points;i.slice(0,i.length/2+1).forEach((function(o,a){var s=a===i.length/2-1,l=M(o);if(l||r.push(o),r.length&&(s||l)){var c=r.map((function(e,t){var n=i.length/2+a-r.length+t+(!l&&s?1:0);return i[n]})).reverse();n.push(sS(sS({},e),{},{type:"areaPoints",lineWidth:0,color:"rgba(0, 0, 0, 0)",fillColor:t.getAreaOpacity(e.name,e.color),points:[].concat(eS(r),eS(c))})),r=[]}}))})),n}},{key:"renderAreaSeries",value:function(e){var t=this,n=[],r=[];return e.forEach((function(e){var i=[],o=[].concat(r),a=e.points;a.forEach((function(s,l){var c=l===a.length-1,u=M(s);if(M(s)||i.push(s),i.length&&(u||c)){var f=i.map((function(e,n){var a=l-i.length+n+(!u&&c?1:0),s=E(o[a])?t.baseYPosition:o[a];return t.isStackChart&&(r[a]=e.y),{x:e.x,y:s}})).reverse();t.isStackChart&&t.isSplineChart&&On(f),n.push(sS(sS({},e),{},{type:"areaPoints",lineWidth:0,color:"rgba(0, 0, 0, 0)",fillColor:t.getAreaOpacity(e.name,e.color),points:[].concat(eS(i),eS(f))})),i=[]}}))})),n}},{key:"getCombinedLinePointsModel",value:function(){var e=this;if(!this.isRangeChart)return this.linePointsModel;var t=this.linePointsModel.length/2;return I(0,t).reduce((function(n,r){var i=r,o=t+r,a=e.getCombinedPoints(i,o);return[].concat(eS(n),[sS(sS({},e.linePointsModel[r]),{},{points:a})])}),[])}},{key:"getAreaOpacity",value:function(e,t){var n=this.theme,r=n.select,i=n.areaOpacity,o=this.activeSeriesMap[e],a=Object.values(this.activeSeriesMap).some((function(e){return!e}));return Qe(t,a?o?r.areaOpacity:r.restSeries.areaOpacity:i)}},{key:"renderAreaPointsModel",value:function(){var e=this.getCombinedLinePointsModel();return this.isRangeChart?this.renderRangeAreaSeries(e):this.renderAreaSeries(e)}},{key:"renderCircleModel",value:function(e){var t=this,n=[],r=[],i=this.theme.dot;return this.linePointsModel.forEach((function(o,a){var s=o.points,l=o.color,c=o.seriesIndex,u=o.name,f=t.isRangeChart&&a>=t.linePointsModel.length/2,d=t.activeSeriesMap[u];s.forEach((function(o,a){if(!M(o)){var h,p=sS(sS({type:"circle"},o),{},{seriesIndex:c,name:u,index:f?s.length-a-1:a});if(e)n.push(sS(sS({},p),{},{radius:i.radius,color:Qe(l,d?1:.3),style:[{lineWidth:i.borderWidth,strokeStyle:null!==(h=i.borderColor)&&void 0!==h?h:l}]}));r.push.apply(r,eS(t.getResponderSeriesWithTheme([p],"hover",l)))}}))})),{dotSeriesModel:n,responderModel:r}}},{key:"getPairCircleModel",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=e.seriesIndex,i=e.y,o=e.data,a=o.category,s=t.tooltipCircleMap[a].find((function(e){return e.seriesIndex===r&&e.y!==i}));n.push(s)})),n}},{key:"getCircleModelsFromRectResponders",value:function(e,t){var n;if(!e.length||!e[0].label)return[];var r=null!==(n=this.tooltipCircleMap[e[0].label])&&void 0!==n?n:[];return"grouped"===this.eventDetectType?r:pv(r,t,this.rect)}},{key:"onMousemoveGroupedType",value:function(e){var t=this.getCircleModelsFromRectResponders(e);this.eventBus.emit("renderHoveredSeries",{models:t,name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=this.isRangeChart?t.slice(0,t.length/2):t}},{key:"onMousemoveNearestType",value:function(e,t){var n=this.getCircleModelsFromRectResponders(e,t);this.onMousemoveNearType(n)}},{key:"onMousemoveNearType",value:function(e){var t=[];this.isRangeChart&&(t=this.getPairCircleModel(e));var n=[].concat(eS(e),eS(t));this.eventBus.emit("renderHoveredSeries",{models:n,name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=e}},{key:"onMousemove",value:function(e){var t=e.responders,n=e.mousePosition;"nearest"===this.eventDetectType?this.onMousemoveNearestType(t,n):["near","point"].includes(this.eventDetectType)?this.onMousemoveNearType(t):this.onMousemoveGroupedType(t),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"getDataLabels",value:function(e){var t=this.theme.dataLabels;return e.flatMap((function(e){var n=e.points,r=e.name,i=e.fillColor;return n.map((function(e){return M(e)?{}:sS(sS({type:"point"},e),{},{name:r,theme:sS(sS({},t),{},{color:t.useSeriesColor?Qe(i,1):t.color})})}))}))}},{key:"getResponderSeriesWithTheme",value:function(e,t,n){var r=this.theme[t].dot,i=r.radius,o=r.color,a=r.borderWidth,s=r.borderColor;return e.map((function(e){var t,r=null!==(t=null!==o&&void 0!==o?o:e.color)&&void 0!==t?t:n;return sS(sS({},e),{},{radius:i,color:r,style:[{lineWidth:a,strokeStyle:null!==s&&void 0!==s?s:Qe(r,.5)}]})}))}},{key:"onClick",value:function(e){var t,n=e.responders,r=e.mousePosition;this.selectable&&(t="near"===this.eventDetectType?n:this.getCircleModelsFromRectResponders(n,r),this.eventBus.emit("renderSelectedSeries",{models:this.getResponderSeriesWithTheme(t,"select"),name:this.name}),this.eventBus.emit("needDraw"))}},{key:"getResponderCategoryByIndex",value:function(e){var t,n=Object.values(this.tooltipCircleMap).flatMap((function(e){return e})).find((function(t){return t.index===e}));return null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.category}}]),n}(Kn);function xS(e){return xS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(e)}function kS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kS(Object(n),!0).forEach((function(t){OS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ES(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MS(e,t,n){return t&&ES(e.prototype,t),n&&ES(e,n),e}function AS(e,t,n){return AS="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},AS(e,t,n||e)}function TS(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=IS(e),null===e)break;return e}function PS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},RS(e,t)}function DS(e){var t=LS();return function(){var n,r=IS(e);if(t){var i=IS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _S(this,n)}}function _S(e,t){return!t||"object"!==xS(t)&&"function"!==typeof t?jS(e):t}function jS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LS(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function IS(e){return IS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},IS(e)}var NS=function(n){PS(a,n);var r=DS(a);function a(e){return CS(this,a),r.call(this,{el:e.el,options:e.options,series:{area:e.data.series},categories:e.data.categories,modules:[Zd,qf,rh,Oo,xh]})}return MS(a,[{key:"initialize",value:function(){AS(IS(a.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(wS),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"secondaryYAxis"}),this.componentManager.add(ry),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ky,{name:"secondaryYAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(_g),this.componentManager.add(Yg),this.componentManager.add(Bb),this.painter.addGroups([t,i,u,c,e,f,o,d])}},{key:"addData",value:function(e,t){this.resetSeries(),this.animationControlFlag.updating=!0,this.store.dispatch("addData",{data:e,category:t})}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{area:n},categories:t})}},{key:"addPlotLine",value:function(e){this.store.dispatch("addPlotLine",{data:e})}},{key:"removePlotLine",value:function(e){this.store.dispatch("removePlotLine",{id:e})}},{key:"addPlotBand",value:function(e){this.store.dispatch("addPlotBand",{data:e})}},{key:"removePlotBand",value:function(e){this.store.dispatch("removePlotBand",{id:e})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",SS({},e))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),a}(Ef);function BS(e){return BS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BS(e)}function zS(e){return US(e)||FS(e)||WS(e)||HS()}function HS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function WS(e,t){if(e){if("string"===typeof e)return VS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VS(e,t):void 0}}function FS(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function US(e){if(Array.isArray(e))return VS(e)}function VS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qS(Object(n),!0).forEach((function(t){rO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XS(e,t,n){return t&&GS(e.prototype,t),n&&GS(e,n),e}function KS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZS(e,t)}function ZS(e,t){return ZS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ZS(e,t)}function JS(e){var t=tO();return function(){var n,r=nO(e);if(t){var i=nO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return QS(this,n)}}function QS(e,t){return!t||"object"!==BS(t)&&"function"!==typeof t?eO(e):t}function eO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nO(e){return nO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nO(e)}function rO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iO=function(e){KS(n,e);var t=JS(n);function n(){var e;$S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),rO(eO(e),"theme",void 0),rO(eO(e),"models",{series:[]}),rO(eO(e),"drawModels",void 0),rO(eO(e),"responders",void 0),rO(eO(e),"activatedResponders",[]),rO(eO(e),"rect",void 0),rO(eO(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name}),e.eventBus.emit("needDraw")})),rO(eO(e),"getModelsForSelectInfo",(function(t){var n=t.index,r=t.seriesIndex,i=t.state;if(T(n)&&T(r)&&dc(t,"scatter")){var o=i.series.scatter.data[r].name;return[e.responders.filter((function(e){var t=e.name;return t===o}))[n]]}})),rO(eO(e),"selectSeries",(function(t){var n=e.getModelsForSelectInfo(t);if(n){var r=e.getClosestModel(n);if(!n.length)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:e.getResponderAppliedTheme(r,"select"),name:e.name}),e.eventBus.emit("needDraw")}})),rO(eO(e),"showTooltip",(function(t){var n=e.getModelsForSelectInfo(t);n&&(e.eventBus.emit("renderHoveredSeries",{models:n,name:e.name}),e.activatedResponders=n,e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw"))})),e}return XS(n,[{key:"initialize",value:function(){this.type="series",this.name="scatter",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"initUpdate",value:function(e){var t=this;this.drawModels.series.forEach((function(n,r){n.size=t.models.series[r].size*e}))}},{key:"render",value:function(e){var t,n,r=this,i=e.layout,o=e.series,a=e.scale,s=e.legend,l=e.options,c=e.theme,u=e.axes;if(!o.scatter)throw new Error(ae.noDataError(this.name));var f=o.scatter.data;this.theme=c.series.scatter,this.rect=i.plot,this.activeSeriesMap=yc(s),this.selectable=this.getSelectableOption(l);var d=null!==(t=null===(n=u.xAxis)||void 0===n?void 0:n.labelRange)&&void 0!==t?t:a.xAxis.limit,h=this.renderScatterPointsModel(f,d,a[Ci(l,this.name,"yAxis")].limit),p=this.makeTooltipModel(f);this.models.series=h,this.drawModels||(this.drawModels=Y(this.models)),this.responders=h.map((function(e,t){return YS(YS({},e),{},{type:"circle",detectionSize:0,radius:r.theme.size/2,color:e.fillColor,style:[{strokeStyle:e.borderColor,lineWidth:e.borderWidth}],data:p[t]})}))}},{key:"renderScatterPointsModel",value:function(e,t,n){var r=this;return e.flatMap((function(e,i){var o=e.data,a=e.name,s=e.color,l=e.iconType,c=[],u=r.activeSeriesMap[a],f=Qe(s,u?1:.3);return o.forEach((function(e,o){var s=$i(e),u=P(s)?Number(new Date(s)):Number(s),d=Yi(e),h=Cn(u,t),p=Cn(d,n),v=h*r.rect.width,m=(1-p)*r.rect.height;c.push(YS({x:v,y:m,type:"scatterSeries",iconType:l,seriesIndex:i,name:a,borderColor:f,index:o},z(r.theme,"borderWidth","size","fillColor")))})),c}))}},{key:"makeTooltipModel",value:function(e){return zS(e).flatMap((function(e){var t=e.data,n=e.name,r=e.color,i=[];return t.forEach((function(e){var t={x:$i(e),y:Yi(e)};i.push({label:n,color:r,value:t})})),i}))}},{key:"getClosestModel",value:function(e){if(!e.length)return[];var t=this.models.series.find((function(t){var n=t.index,r=t.seriesIndex;return T(n)&&T(r)&&n===e[0].index&&r===e[0].seriesIndex}));return t?[t]:[]}},{key:"getResponderAppliedTheme",value:function(e,t){var n=this,r=this.theme[t],i=r.fillColor,o=r.size;return e.map((function(e){return V(e,YS(YS({},n.theme[t]),{},{color:i,radius:o/2}))}))}},{key:"onMousemove",value:function(e){var t=e.responders,n=e.mousePosition,r=pv(t,n,this.rect),i=this.getClosestModel(r);i=this.getResponderAppliedTheme(i,"hover"),this.eventBus.emit("renderHoveredSeries",{models:i,name:this.name}),this.activatedResponders=r,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"onClick",value:function(e){var t=e.responders,n=e.mousePosition;if(this.selectable){var r=pv(t,n,this.rect),i=this.getClosestModel(r);i=this.getResponderAppliedTheme(i,"select"),this.eventBus.emit("renderSelectedSeries",{models:i,name:this.name}),this.eventBus.emit("needDraw")}}}]),n}(Kn);function oO(e){return oO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oO(e)}function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aO(Object(n),!0).forEach((function(t){lO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fO(e,t,n){return t&&uO(e.prototype,t),n&&uO(e,n),e}function dO(e,t,n){return dO="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},dO(e,t,n||e)}function hO(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=wO(e),null===e)break;return e}function pO(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vO(e,t)}function vO(e,t){return vO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vO(e,t)}function mO(e){var t=bO();return function(){var n,r=wO(e);if(t){var i=wO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yO(this,n)}}function yO(e,t){return!t||"object"!==oO(t)&&"function"!==typeof t?gO(e):t}function gO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bO(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wO(e){return wO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wO(e)}var xO=function(n){pO(a,n);var r=mO(a);function a(e){return cO(this,a),r.call(this,{el:e.el,options:e.options,series:e.data.series,modules:[qf,rh,Oo,xh]})}return fO(a,[{key:"initialize",value:function(){dO(wO(a.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(pm),this.componentManager.add(iO),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"secondaryYAxis"}),this.componentManager.add(ry),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ky,{name:"secondaryYAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(_g),this.componentManager.add(Bb),this.painter.addGroups([t,i,u,c,e,f,o,d,l])}},{key:"addData",value:function(e,t){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e,chartType:t})}},{key:"addSeries",value:function(e,t){this.resetSeries(),this.store.dispatch("addSeries",sO({data:e},t))}},{key:"setData",value:function(e){this.resetSeries(),this.store.dispatch("setData",e)}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",sO(sO({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),a}(Ef);function kO(e){return kO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kO(e)}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SO(Object(n),!0).forEach((function(t){CO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AO(e,t,n){return t&&MO(e.prototype,t),n&&MO(e,n),e}function TO(e,t,n){return TO="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=PO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},TO(e,t,n||e)}function PO(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=NO(e),null===e)break;return e}function RO(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DO(e,t)}function DO(e,t){return DO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},DO(e,t)}function _O(e){var t=IO();return function(){var n,r=NO(e);if(t){var i=NO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(e,t){return!t||"object"!==kO(t)&&"function"!==typeof t?LO(e):t}function LO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function NO(e){return NO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},NO(e)}var BO,zO=function(n){RO(a,n);var r=_O(a);function a(e){return EO(this,a),r.call(this,{el:e.el,options:e.options,series:e.data.series,categories:e.data.categories,modules:[Zd,qf,rh,Oo,xh]})}return AO(a,[{key:"initialize",value:function(){TO(NO(a.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(wS),this.componentManager.add(pm),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"secondaryYAxis"}),this.componentManager.add(ry),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ky,{name:"secondaryYAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(_g),this.componentManager.add(Yg),this.componentManager.add(Bb),this.painter.addGroups([t,i,u,c,e,f,o,d])}},{key:"addData",value:function(e,t,n){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e,category:t,chartType:n})}},{key:"addSeries",value:function(e,t){this.resetSeries(),this.store.dispatch("addSeries",OO({data:e},t))}},{key:"setData",value:function(e){this.resetSeries(),this.store.dispatch("setData",e)}},{key:"addPlotLine",value:function(e){this.store.dispatch("addPlotLine",{data:e})}},{key:"removePlotLine",value:function(e){this.store.dispatch("removePlotLine",{id:e})}},{key:"addPlotBand",value:function(e){this.store.dispatch("addPlotBand",{data:e})}},{key:"removePlotBand",value:function(e){this.store.dispatch("removePlotBand",{id:e})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",OO({},e))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),a}(Ef);function HO(e,t,n){var r=e;return r>=n?0:(n<0&&(r=Math.min(e-n,0)),e<t&&(r-=e-t),r)}function WO(e,t,n){var r=e;return t>0&&(r=Math.max(e-t,0)),e>n&&(r-=e-n),r}function FO(e,t,n){return e<0?HO(e,t,n):WO(e,t,n)}function UO(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e[t];return e.reduce((function(e,i,o){var a=n?o<=t:o<t,s=i*r>=0;return a&&s?e+i:e}),0)}function VO(e,t,n,r){var i=e[t],o=UO(e,t,!1),a=i>=0,s=i<0;return a&&o>=r||s&&o<=n||0===t&&a&&i<n||0===t&&s&&i>r}function qO(e,t,n,r){var i=UO(e,t,!1),o=UO(e,t,!0);if(VO(e,t,n,r))return null;if(0===t)return FO(e[t],n,r);if(i<n&&o>r)return r-n;var a=e[t];return o>r?a=r-i:o<n?a=n-i:i<n?a=o-n:i>r&&(a=o-r),a}function YO(e){return YO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YO(e)}function $O(e){return KO(e)||XO(e)||dC(e)||GO()}function GO(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function XO(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function KO(e){if(Array.isArray(e))return hC(e)}function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZO(Object(n),!0).forEach((function(t){cC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tC(e,t,n){return t&&eC(e.prototype,t),n&&eC(e,n),e}function nC(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rC(e,t)}function rC(e,t){return rC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rC(e,t)}function iC(e){var t=sC();return function(){var n,r=lC(e);if(t){var i=lC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oC(this,n)}}function oC(e,t){return!t||"object"!==YO(t)&&"function"!==typeof t?aC(e):t}function aC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sC(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lC(e){return lC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lC(e)}function cC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uC(e,t){return vC(e)||pC(e,t)||dC(e,t)||fC()}function fC(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dC(e,t){if(e){if("string"===typeof e)return hC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hC(e,t):void 0}}function hC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pC(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function vC(e){if(Array.isArray(e))return e}(function(e){e[e["POSITIVE"]=0]="POSITIVE",e[e["NEGATIVE"]=1]="NEGATIVE",e[e["BOTH"]=2]="BOTH"})(BO||(BO={}));var mC={BAR:"bar",COLUMN:"column"};function yC(e){return!!(e%2)}function gC(e,t,n){if(Ts(e)){var r=uC(e,2),i=r[0],o=r[1];return i<t&&(i=t),o>n&&(o=n),o-i}return FO(e,t,n)}var bC=function(e){nC(n,e);var t=iC(n);function n(){var e;QO(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),cC(aC(e),"models",{series:[]}),cC(aC(e),"drawModels",void 0),cC(aC(e),"responders",void 0),cC(aC(e),"activatedResponders",[]),cC(aC(e),"isBar",!0),cC(aC(e),"valueAxis","xAxis"),cC(aC(e),"labelAxis","yAxis"),cC(aC(e),"anchorSizeKey","height"),cC(aC(e),"offsetSizeKey","width"),cC(aC(e),"basePosition",0),cC(aC(e),"leftBasePosition",0),cC(aC(e),"rightBasePosition",0),cC(aC(e),"isRangeData",!1),cC(aC(e),"offsetKey","x"),cC(aC(e),"eventDetectType","point"),cC(aC(e),"tooltipRectMap",void 0),cC(aC(e),"theme",void 0),cC(aC(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name,eventDetectType:e.eventDetectType}),e.eventBus.emit("needDraw")})),cC(aC(e),"selectSeries",(function(t){var n=t.index,r=t.seriesIndex;if(dc(t,"column")){var i=e.tooltipRectMap[r][n];if(!i)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:e.getRespondersWithTheme([i],"select"),name:e.name}),e.eventBus.emit("needDraw")}})),cC(aC(e),"showTooltip",(function(t){var n=t.index,r=t.seriesIndex;if(fc(t,e.eventDetectType,"column")){var i="grouped"===e.eventDetectType?e.getGroupedRect([e.responders[n]],"hover"):e.getRespondersWithTheme([e.tooltipRectMap[n][r]],"hover");i.length&&(e.eventBus.emit("renderHoveredSeries",{models:i,name:e.name,eventDetectType:e.eventDetectType}),e.activatedResponders="grouped"===e.eventDetectType?e.tooltipRectMap[n]:i,e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw"))}})),e}return tC(n,[{key:"initialize",value:function(e){var t=e.name,n=e.stackChart;this.initializeFields(t),n||(this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent))}},{key:"initializeFields",value:function(e){this.type="series",this.name=e,this.isBar=e===mC.BAR,this.offsetKey=this.isBar?"x":"y",this.valueAxis=this.isBar?"xAxis":"yAxis",this.labelAxis=this.isBar?"yAxis":"xAxis",this.anchorSizeKey=this.isBar?"height":"width",this.offsetSizeKey=this.isBar?"width":"height"}},{key:"initUpdate",value:function(e){this.drawModels&&(this.isRangeData?this.initUpdateRangeData(e):(this.initUpdateClipRect(e),this.initUpdateConnector(e)))}},{key:"initUpdateRangeData",value:function(e){var t=this,n=this.drawModels.series;this.drawModels.clipRect=this.models.clipRect;var r=this.models.series;n.forEach((function(n,i){var o=r[i];0===e&&(n[t.offsetSizeKey]=0);var a=n[t.offsetSizeKey]+(o[t.offsetSizeKey]-n[t.offsetSizeKey])*e;n[t.offsetSizeKey]=a,t.isBar||(n[t.offsetKey]=o[t.offsetKey]+o[t.offsetSizeKey]-a)}))}},{key:"initUpdateClipRect",value:function(e){var t=this.drawModels.clipRect;if(t){var n=t[0],r=this.offsetSizeKey,i=this.models.clipRect[0],o=n[r]+(i[r]-n[r])*e;n[r]=o,n[this.offsetKey]=Math.max(this.basePosition-o*this.basePosition/i[r],0)}}},{key:"initUpdateConnector",value:function(e){var t=this.drawModels.connector;if(t){var n=this.models.connector;t.forEach((function(t,r){var i=et(n[r].strokeStyle)*e;t.strokeStyle=Qe(t.strokeStyle,i)}))}}},{key:"setEventDetectType",value:function(e,t){var n;e.line&&(this.eventDetectType="grouped"),null!==t&&void 0!==t&&null!==(n=t.series)&&void 0!==n&&n.eventDetectType&&(this.eventDetectType=t.series.eventDetectType)}},{key:"getOptions",value:function(e){var t=JO({},e);return null!==t&&void 0!==t&&t.series&&t.series.column&&(t.series=JO(JO({},t.series),t.series.column)),t}},{key:"render",value:function(e,t){var n,r,i=this,o=e.layout,a=e.series,s=e.axes,l=e.stackSeries,c=e.legend,u=e.theme,f=e.scale;if(this.isShow=!(l&&l[this.name]),this.isShow){var d=null!==(n=e.categories)&&void 0!==n?n:[],h=this.getOptions(e.options);this.setEventDetectType(a,h),this.theme=u.series[this.name],this.rect=o.plot,this.activeSeriesMap=yc(c),this.selectable=this.getSelectableOption(h),this.valueAxis=Ci(h,this.name,this.isBar?"xAxis":"yAxis");var p=a[this.name].data.map((function(e){return JO(JO({},e),{},{data:Ds(e.data,t.viewRange)})}));s.centerYAxis&&(this.valueAxis="centerYAxis");var v=s[this.labelAxis].tickDistance,m=!(null===(r=h.series)||void 0===r||!r.diverging),y=this.getScaleData(f),g=y.limit,b=y.stepSize,w=wn(g,b),x=ki(w),k=x.min,S=x.max;this.basePosition=this.getBasePosition(s[this.valueAxis]);var O=this.getOffsetSize(),C=s.centerYAxis;if(m){var E=this.getDivergingBasePosition(C),M=uC(E,2),A=M[0],T=M[1];this.basePosition=this.getOffsetSize()/2,this.leftBasePosition=A,this.rightBasePosition=T,O=this.getOffsetSizeWithDiverging(C)}var P={min:k,max:S,tickDistance:v,diverging:m,ratio:this.getValueRatio(k,S,O),hasNegativeValue:Z(w),seriesDirection:this.getSeriesDirection(w),defaultPadding:ft(v)},R=this.renderSeriesModel(p,P),D=this.makeTooltipData(p,P,d),_=this.renderClipRectAreaModel();if(this.models={clipRect:[_],series:R},this.drawModels||(this.drawModels={clipRect:[this.initClipRect(_)],series:q(R)}),Gv(h,this.name).visible){var j=R.reduce((function(e,t){return Ts(t.value)?[].concat($O(e),$O(i.makeDataLabelRangeData(t))):[].concat($O(e),[i.makeDataLabel(t,C)])}),[]);this.renderDataLabels(j)}this.tooltipRectMap=this.makeTooltipRectMap(R,D),this.responders=this.getBoxSeriesResponders(R,D,s,d)}}},{key:"getScaleData",value:function(e){return e["centerYAxis"===this.valueAxis?"xAxis":this.valueAxis]}},{key:"getBoxSeriesResponders",value:function(e,t,n,r){var i=this.renderHoveredSeriesModel(e);return"grouped"===this.eventDetectType?vv(this.rect,this.isBar?n.yAxis:n.xAxis,r,!this.isBar):i.map((function(e,n){return JO(JO({},e),{},{data:t[n]})}))}},{key:"makeTooltipRectMap",value:function(e,t){return e.reduce((function(e,n,r){var i=n.index,o=JO(JO({},n),{},{data:t[r]});return e[i]||(e[i]=[]),e[i].push(o),e}),[])}},{key:"renderClipRectAreaModel",value:function(){return{type:"clipRectArea",x:0,y:0,width:this.rect.width,height:this.rect.height}}},{key:"initClipRect",value:function(e){return{type:"clipRectArea",width:this.isBar?0:e.width,height:this.isBar?e.height:0,x:this.isBar?0:e.x,y:this.isBar?e.y:0}}},{key:"renderSeriesModel",value:function(e,t){var n=this,r=t.tickDistance,i=t.diverging,o=e.length,a=i&&2===e.length,s=this.getColumnWidth(t,o,a),l=[],c=(r-s*(a?1:o))/2;return e.forEach((function(e,o){var a=e.data,u=e.color,f=e.name,d=e.colorByCategories,h=(i?0:o)*s+c,p=i&&yC(o),v=d?u.length:1;n.isRangeData=Ps(a),a.forEach((function(e,i){var o=h+i*r,a=n.makeBarLength(e,t),c=n.getSeriesColor(f,d?u[i%v]:u);if(T(a)){var m=n.getStartPosition(a,e,t,p);l.push(JO(JO({type:"rect",color:c,value:e},n.getAdjustedRect(o,m,a,s)),{},{name:f,index:i}))}}))})),l}},{key:"renderHoveredSeriesModel",value:function(e){var t=this;return e.map((function(e){return t.makeHoveredSeriesModel(e)}))}},{key:"makeHoveredSeriesModel",value:function(e){var t=e,n=t.x,r=t.y,i=t.width,o=t.height,a=t.color,s=t.index;return{type:"rect",color:Qe(a,1),x:n,y:r,width:i,height:o,index:s}}},{key:"getRectModelsFromRectResponders",value:function(e){var t;return e.length&&null!==(t=this.tooltipRectMap[e[0].index])&&void 0!==t?t:[]}},{key:"getGroupedRect",value:function(e,t){var n=this.getRectModelsFromRectResponders(e),r=this.theme[t].groupedRect,i=r.color,o=r.opacity;return n.length?e.map((function(e){return JO(JO({},e),{},{color:Qe(i,o)})})):[]}},{key:"onMousemoveGroupedType",value:function(e){var t=this.getRectModelsFromRectResponders(e);this.eventBus.emit("renderHoveredSeries",{models:this.getGroupedRect(e,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t}},{key:"onMousemove",value:function(e){var t=e.responders;"grouped"===this.eventDetectType?this.onMousemoveGroupedType(t):(this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(t,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"makeTooltipData",value:function(e,t,n){var r=this,i=[];return e.forEach((function(e){var o=e.data,a=e.name,s=e.color,l=e.colorByCategories;o.forEach((function(e,o){if(!M(e)){var c=r.makeBarLength(e,t);T(c)&&i.push({label:a,color:l?s[o]:s,value:r.getTooltipValue(e),category:n.length?n[o]:""})}}))})),i}},{key:"getTooltipValue",value:function(e){return Ts(e)?"".concat(e[0]," ~ ").concat(e[1]):e}},{key:"getBasePosition",value:function(e){var t=e.labels,n=e.tickCount,r=e.zeroPosition,i=this.isBar?t:$O(t).reverse(),o=xn(this.getOffsetSize(),n),a=this.getSeriesDirection(i);return r||this.getTickPositionIfNotZero(o,a)}},{key:"getDivergingBasePosition",value:function(e){var t,n;if(e)t=e.xAxisHalfSize,n=e.secondStartX;else{var r=this.getOffsetSize()/2;t=n=r}return[t,n]}},{key:"getOffsetSize",value:function(){return this.rect[this.offsetSizeKey]}},{key:"getValueRatio",value:function(e,t,n){return n/(t-e)}},{key:"makeBarLength",value:function(e,t){if(M(e))return null;var n=t.min,r=t.max,i=t.ratio,o=gC(e,n,r);return Math.max(this.getBarLength(o,i),2)}},{key:"getBarLength",value:function(e,t){return e<0?Math.abs(e)*t:e*t}},{key:"getStartPositionWithRangeValue",value:function(e,t,n){var r=n.min,i=n.ratio,o=uC(e,1),a=o[0];a<r&&(a=r);var s=(a-r)*i;return this.isBar?s:this.getOffsetSize()-s-t}},{key:"getStartPosition",value:function(e,t,n,r){var i,o=n.diverging,a=n.seriesDirection;return i=Ts(t)?this.getStartPositionWithRangeValue(t,e,n):o?r?this.getStartPosOnLeftBottomSide(e,o):this.getStartPosOnRightTopSide(e,o):a===BO.POSITIVE?this.getStartPosOnRightTopSide(e):a===BO.NEGATIVE||t<0?this.getStartPosOnLeftBottomSide(e):this.getStartPosOnRightTopSide(e),i}},{key:"getStartPosOnRightTopSide",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=n?this.isBar?this.rightBasePosition:this.rightBasePosition-e:this.isBar?this.basePosition:this.basePosition-e,t}},{key:"getStartPosOnLeftBottomSide",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=n?this.isBar?this.leftBasePosition-e:this.leftBasePosition:this.isBar?this.basePosition-e:this.basePosition,t}},{key:"getAdjustedRect",value:function(e,t,n,r){return{x:this.isBar?t:e,y:this.isBar?e:t,width:this.isBar?n:r,height:this.isBar?r:n}}},{key:"getColumnWidth",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.tickDistance,i=e.defaultPadding;t=n?1:t;var o=this.theme.barWidth;return o?re(r,o):(r-2*i)/t}},{key:"getSeriesDirection",value:function(e){var t=BO.BOTH;return Q(e)?t=BO.POSITIVE:ee(e)&&(t=BO.NEGATIVE),t}},{key:"getTickPositionIfNotZero",value:function(e,t){if(!e.length)return 0;var n=Number(X(e)),r=Number(K(e));return t===BO.POSITIVE?this.isBar?n:r:t===BO.NEGATIVE?this.isBar?r:n:0}},{key:"makeDataLabel",value:function(e,t){var n=this.theme.dataLabels;return JO(JO({},e),{},{direction:this.getDataLabelDirection(e,t),plot:{x:0,y:0,size:this.getOffsetSize()},theme:JO(JO({},H(n,"stackTotal")),{},{color:n.useSeriesColor?e.color:n.color})})}},{key:"makeDataLabelRangeData",value:function(e){var t=this,n=this.theme.dataLabels;return e.value.reduce((function(r,i,o){return[].concat($O(r),[JO(JO({},e),{},{value:i,direction:t.getDataLabelRangeDataDirection(o%2===0),plot:{x:0,y:0,size:t.getOffsetSize()},theme:JO(JO({},H(n,"stackTotal")),{},{color:n.useSeriesColor?e.color:n.color})})])}),[])}},{key:"getDataLabelRangeDataDirection",value:function(e){var t;return t=this.isBar?e?"left":"right":e?"bottom":"top",t}},{key:"getDataLabelDirection",value:function(e,t){var n;if(this.isBar){var r=t?this.leftBasePosition:this.basePosition;n=e.x<r?"left":"right"}else n=e.y>=this.basePosition?"bottom":"top";return n}},{key:"getOffsetSizeWithDiverging",value:function(e){return e?e.xAxisHalfSize:this.getOffsetSize()/2}},{key:"onClick",value:function(e){var t,n=e.responders;this.selectable&&(t="grouped"===this.eventDetectType?[].concat($O(this.getGroupedRect(n,"select")),$O(this.getRectModelsFromRectResponders(n))):this.getRespondersWithTheme(n,"select"),this.eventBus.emit("renderSelectedSeries",{models:t,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw"))}},{key:"getRespondersWithTheme",value:function(e,t){var n=this.theme[t],r=n.color,i=n.borderColor,o=n.borderWidth,a=n.shadowBlur,s=n.shadowColor,l=n.shadowOffsetX,c=n.shadowOffsetY;return e.map((function(e){return JO(JO({},e),{},{color:null!==r&&void 0!==r?r:e.color,thickness:o,borderColor:i,style:[{shadowBlur:a,shadowColor:s,shadowOffsetX:l,shadowOffsetY:c}]})}))}},{key:"getSeriesColor",value:function(e,t){var n=this.theme,r=n.select,i=n.areaOpacity,o=this.activeSeriesMap[e],a=Object.values(this.activeSeriesMap).some((function(e){return!e}));return Qe(t,a?o?r.areaOpacity:r.restSeries.areaOpacity:i)}}]),n}(Kn);function wC(e){return wC="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wC(e)}function xC(e){return OC(e)||SC(e)||MC(e)||kC()}function kC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function SC(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function OC(e){if(Array.isArray(e))return AC(e)}function CC(e,t){return PC(e)||TC(e,t)||MC(e,t)||EC()}function EC(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function MC(e,t){if(e){if("string"===typeof e)return AC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AC(e,t):void 0}}function AC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TC(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function PC(e){if(Array.isArray(e))return e}function RC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _C(e,t,n){return t&&DC(e.prototype,t),n&&DC(e,n),e}function jC(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LC(e,t)}function LC(e,t){return LC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},LC(e,t)}function IC(e){var t=zC();return function(){var n,r=HC(e);if(t){var i=HC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NC(this,n)}}function NC(e,t){return!t||"object"!==wC(t)&&"function"!==typeof t?BC(e):t}function BC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zC(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function HC(e){return HC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},HC(e)}function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WC(Object(n),!0).forEach((function(t){UC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VC(e,t,n){var r=n.stack,i=n.min,o=n.max;return Ld(r)?e[t]:qO(e,t,i,o)}function qC(e,t){var n=e.positive,r=e.negative,i=n+Math.abs(r);return B(["dualPercentStack","divergingPercentStack"],t)&&(i*=2),i}function YC(e){var t=["positive","negative"];return e===BO.POSITIVE?t=["positive"]:e===BO.NEGATIVE&&(t=["negative"]),t}function $C(e,t){if(!t)return e;var n=Array.isArray(e.stackData)?Ds(e.stackData,t):FC({},Object.keys(e.stackData).reduce((function(n,r){return FC(FC({},n),{},UC({},r,Ds(e.stackData[r],t)))}),{})),r=e.data.map((function(e){return FC(FC({},e),{},{data:Ds(e.data,t)})}));return FC(FC({},e),{},{data:r,stackData:n})}var GC=function(e){jC(n,e);var t=IC(n);function n(){var e;RC(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),UC(BC(e),"selectSeries",(function(t){var n=t.index,r=t.seriesIndex,i=t.state;if(T(n)&&T(r)){var o=i.stackSeries,a=o[e.name],s=a.data[r].name,l=e.tooltipRectMap[n].find((function(e){var t=e.name;return t===s}));if(!l)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:e.getRespondersWithTheme([l],"select"),name:e.name,eventDetectType:e.eventDetectType}),e.eventBus.emit("needDraw")}})),e}return _C(n,[{key:"initialize",value:function(e){var t=e.name,n=e.stackChart;this.initializeFields(t),n&&(this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent))}},{key:"render",value:function(e,t){var n,r,i=e.layout,o=e.series,a=e.axes,s=e.stackSeries,l=e.legend,c=e.theme,u=e.scale,f=t.viewRange;if(this.isShow=!!s[this.name],this.isShow){var d=null!==(n=e.categories)&&void 0!==n?n:[],h=this.getOptions(e.options);this.setEventDetectType(o,h),this.theme=c.series[this.name],this.rect=i.plot,this.activeSeriesMap=yc(l),this.selectable=this.getSelectableOption(h);var p=$C(s[this.name],f),v=a[this.labelAxis].tickDistance,m=!(null===(r=h.series)||void 0===r||!r.diverging),y=this.getScaleData(u),g=y.limit,b=y.stepSize,w=wn(g,b),x=ki(w),k=x.min,S=x.max,O=p.stack,C=p.scaleType;this.basePosition=this.getBasePosition(a[this.valueAxis]);var E=this.getOffsetSize(),M=a.centerYAxis;if(m){var A=this.getDivergingBasePosition(M),T=CC(A,2),P=T[0],R=T[1];this.basePosition=this.getOffsetSize()/2,this.leftBasePosition=P,this.rightBasePosition=R,E=this.getOffsetSizeWithDiverging(M)}var D={stack:O,scaleType:C,tickDistance:v,min:k,max:S,diverging:m,hasNegativeValue:Z(w),seriesDirection:this.getSeriesDirection(w),defaultPadding:ft(v),offsetSize:E,centerYAxis:M},_=this.renderStackSeriesModel(p,D),j=_.series,L=_.connector,I=this.renderClipRectAreaModel(),N=this.getTooltipData(p,d);if(this.models={clipRect:[I],series:j,connector:L},this.drawModels||(this.drawModels={clipRect:[this.initClipRect(I)],series:q(j),connector:q(L)}),Gv(h,this.name).visible){var B=this.getDataLabels(j,D),z=this.getTotalDataLabels(p,D);this.renderDataLabels([].concat(xC(B),xC(z)))}this.tooltipRectMap=this.makeTooltipRectMap(j,N),this.responders=this.getBoxSeriesResponders(j,N,a,d)}}},{key:"renderStackSeriesModel",value:function(e,t){var n=e.stackData;return Id(n)?this.makeStackGroupSeriesModel(e,t):this.makeStackSeriesModel(n,t,e.data)}},{key:"makeStackSeriesModel",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=[],s=this.getStackColumnWidth(t,i),l=t.diverging,c=l&&yC(o);return e.forEach((function(e,l){var u=e.values,f=e.total,d=r.getSeriesPosition(t,s,l,o,i),h=r.getStackValueRatio(f,t);u.forEach((function(e,i){var o=r.getStackRectInfo(u,i,h,t,c),f=o.barLength,p=o.dataPosition,v=n[i],m=v.name,y=v.colorByCategories,g=v.color,b=r.activeSeriesMap[m],w=g.length||1,x=y?g[l%w]:g,k=Qe(x,b?1:.2);a.push(FC(FC({type:"rect",color:k,name:m,value:e},r.getAdjustedRect(d,p,null!==f&&void 0!==f?f:0,s)),{},{index:l}))}))})),{series:a,connector:this.makeConnectorSeriesModel(e,t,i,o)}}},{key:"makeStackGroupSeriesModel",value:function(e,t){var n=this,r=t.stack,i=e.stackData,o=e.data,a=Object.keys(i),s=[],l=[];return a.forEach((function(e,c){var u=o.filter((function(t){var n=t.stackGroup;return n===e})),f=n.makeStackSeriesModel(i[e],t,u,a.length,c),d=f.series,h=f.connector;s=[].concat(xC(s),xC(d)),r.connector&&(l=[].concat(xC(l),xC(h)))})),{series:s,connector:l}}},{key:"makeConnectorSeriesModel",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=t.diverging,a=t.stack.connector;if(!a)return[];var s=this.getStackColumnWidth(t,r),l=o&&yC(i),c=[];return e.forEach((function(e,o){var a=e.values,u=e.total,f=n.getSeriesPosition(t,s,o,i,r),d=[],h=n.getStackValueRatio(u,t);a.forEach((function(e,r){var i=n.getStackRectInfo(a,r,h,t,l),o=i.barLength,c=i.dataPosition,u=n.getAdjustedRect(f,c,o,s),p=u.x,v=u.y,m=!l&&n.isBar?p+o:p,y=l&&!n.isBar?v+o:v;d.push({x:m,y:y})})),c.push(d)})),this.makeConnectorModel(c,a,s)}},{key:"getTooltipData",value:function(e,t){var n=e.data,r=e.stackData,i=n.map((function(e){var t=e.color;return t}));return Id(r)?this.makeGroupStackTooltipData(n,r,t):this.makeStackTooltipData(n,r,i,t)}},{key:"makeGroupStackTooltipData",value:function(e,t,n){var r=this;return Object.keys(t).flatMap((function(i){var o=e.filter((function(e){var t=e.stackGroup;return t===i})),a=o.map((function(e){var t=e.color;return t}));return r.makeStackTooltipData(o,t[i],a,n)}))}},{key:"makeStackTooltipData",value:function(e,t,n,r){var i=[];return t.forEach((function(t,o){var a=t.values;a.forEach((function(t,a){i.push({label:e[a].name,color:n[a],value:t,category:r.length?r[o]:""})}))})),i}},{key:"makeConnectorModel",value:function(e,t,n){var r=this;if(!t||!e.length)return[];for(var i=this.theme.connector,o=i.color,a=i.lineWidth,s=i.dashSegments,l=[],c=e.length,u=e[0].length,f=function(t){for(var i=[],u=0;u<c;u+=1)i.push(e[u][t]);i.forEach((function(e,t){var c=e.x,u=e.y;if(t<i.length-1){var f=i[t+1],d=f.x,h=f.y;l.push({type:"line",x:r.isBar?c:c+n,y:r.isBar?u+n:u,x2:d,y2:h,dashSegments:s,strokeStyle:o,lineWidth:a})}}))},d=0;d<u;d+=1)f(d);return l}},{key:"getStackValueRatio",value:function(e,t){var n=t.stack.type,r=t.scaleType,i=t.min,o=t.max,a=t.offsetSize;return"percent"===n?a/qC(e,r):this.getValueRatio(i,o,a)}},{key:"getStackBarLength",value:function(e,t,n,r){var i=VC(e,t,r);return T(i)?this.getBarLength(i,n):null}},{key:"getStackColumnWidth",value:function(e,t){var n=e.tickDistance,r=e.diverging,i=e.defaultPadding,o=r?1:t,a=this.theme.barWidth;return a?re(n,a):(n-2*i)/o}},{key:"getSeriesPosition",value:function(e,t,n,r,i){var o=e.tickDistance,a=e.diverging,s=a?0:r,l=a?1:i,c=(o-t*l)/2;return n*o+c+t*s}},{key:"getStackStartPosition",value:function(e,t,n,r,i){var o,a=r.stack,s=r.diverging,l=r.seriesDirection;return o=s?i?this.calcStartPosOnLeftBottomSide(e,t,r,n):this.calcStartPosOnRightTopSide(e,t,r,n):Ld(a)?this.calcStartPositionWithPercent(e,t,n):l===BO.POSITIVE?this.calcStartPosOnRightTopSide(e,t,r,n):l===BO.NEGATIVE?this.calcStartPosOnLeftBottomSide(e,t,r,n):this.calcStartPositionWithStack(e,t,r,n),o}},{key:"calcStartPosOnLeftBottomSide",value:function(e,t,n,r){var i,o=n.min,a=n.max,s=n.diverging,l=s?this.leftBasePosition:this.basePosition,c=UO(e,t,!1),u=UO(e,t,!0),f=u<o,d=this.isBar?u:c,h=a<0?Math.min(d-a,0):d;return i=this.isBar?f?0:l-Math.abs(h)*r:l+Math.abs(h)*r,i}},{key:"calcStartPosOnRightTopSide",value:function(e,t,n,r){var i,o=n.min,a=n.max,s=n.diverging,l=s?this.rightBasePosition:this.basePosition,c=UO(e,t,!1),u=UO(e,t,!0),f=u>a,d=this.isBar?c:u,h=o>0?Math.max(d-o,0):d,p=h*r;return i=this.isBar?l+p:f?0:l-p,i}},{key:"calcStartPositionWithStack",value:function(e,t,n,r){return e[t]<0?this.calcStartPosOnLeftBottomSide(e,t,n,r):this.calcStartPosOnRightTopSide(e,t,n,r)}},{key:"calcStartPositionWithPercent",value:function(e,t,n){var r=this.basePosition,i=UO(e,t,this.isBar?e[t]<0:e[t]>0);return this.isBar?i*n+r:r-i*n}},{key:"getStackRectInfo",value:function(e,t,n,r,i){var o=this.getStackBarLength(e,t,n,r),a=this.getStackStartPosition(e,t,n,r,i);return{barLength:o,dataPosition:a}}},{key:"getDataLabels",value:function(e,t){var n=this;return e.map((function(e){return n.makeDataLabel(e,t.centerYAxis)}))}},{key:"getTotalDataLabels",value:function(e,t){var n=e.stackData,r=e.stack;return Ld(r)?[]:Id(n)?this.makeGroupTotalDataLabels(e,t):this.makeTotalDataLabels(n,t)}},{key:"makeGroupTotalDataLabels",value:function(e,t){var n=this,r=[],i=e.stackData,o=Object.keys(i);return o.forEach((function(e,a){var s=n.makeTotalDataLabels(i[e],t,o.length,a);r=[].concat(xC(r),xC(s))})),r}},{key:"makeTotalDataLabels",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=[],a=t.min,s=t.max,l=t.seriesDirection,c=t.diverging,u=t.centerYAxis,f=this.getStackColumnWidth(t,r);return e.forEach((function(e,d){var h=e.total,p=n.getSeriesPosition(t,f,d,i,r),v=n.getStackValueRatio(h,t),m=YC(l);m.forEach((function(e){var r=h[e];if(r){var l=n.makeBarLength(r,{min:a,max:s,ratio:v}),d=n.getStartPosition(l,r,t,c&&yC(i)),m=FC({type:"stackTotal",value:r,name:"totalLabel-".concat(e),theme:n.theme.dataLabels.stackTotal},n.getAdjustedRect(p,d,l,f));o.push(n.makeTotalDataLabel(m,u))}}))})),o}},{key:"makeTotalDataLabel",value:function(e,t){return FC(FC({},e),{},{direction:this.getDataLabelDirection(e,t),plot:{x:0,y:0,size:this.getOffsetSize()}})}},{key:"onMousemoveGroupedType",value:function(e){var t=this.getRectModelsFromRectResponders(e);this.eventBus.emit("renderHoveredSeries",{models:[].concat(xC(t),xC(this.getGroupedRect(e,"hover"))),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t}}]),n}(bC);function XC(e){return XC="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XC(e)}function KC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JC(e,t,n){return t&&ZC(e.prototype,t),n&&ZC(e,n),e}function QC(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eE(e,t)}function eE(e,t){return eE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eE(e,t)}function tE(e){var t=iE();return function(){var n,r=oE(e);if(t){var i=oE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nE(this,n)}}function nE(e,t){return!t||"object"!==XC(t)&&"function"!==typeof t?rE(e):t}function rE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oE(e){return oE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oE(e)}function aE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sE=function(e){QC(n,e);var t=tE(n);function n(){var e;KC(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),aE(rE(e),"models",[]),e}return JC(n,[{key:"initialize",value:function(){this.type="zeroAxis",this.name="zeroAxis"}},{key:"render",value:function(e){var t=e.layout,n=e.axes,r=e.series,i=e.options;this.rect=t.plot;var o=vi({series:r,options:i}),a=o?"xAxis":"yAxis",s=n[a],l=s.zeroPosition;T(l)&&(this.models=this.renderZeroModel(l,o))}},{key:"renderZeroModel",value:function(e,t){var n,r=kn(0),i=kn(e);return n=t?{type:"line",x:i,y:r,x2:i,y2:kn(this.rect.height),strokeStyle:"rgba(0, 0, 0, 0.5)"}:{type:"line",x:r,y:i,x2:kn(this.rect.width),y2:i,strokeStyle:"rgba(0, 0, 0, 0.5)"},[n]}}]),n}(Kn);function lE(e){return lE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lE(e)}function cE(e){return hE(e)||dE(e)||fE(e)||uE()}function uE(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fE(e,t){if(e){if("string"===typeof e)return pE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pE(e,t):void 0}}function dE(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function hE(e){if(Array.isArray(e))return pE(e)}function pE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vE(Object(n),!0).forEach((function(t){ME(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bE(e,t,n){return t&&gE(e.prototype,t),n&&gE(e,n),e}function wE(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xE(e,t)}function kE(e){var t=CE();return function(){var n,r=EE(e);if(t){var i=EE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return SE(this,n)}}function SE(e,t){return!t||"object"!==lE(t)&&"function"!==typeof t?OE(e):t}function OE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function EE(e){return EE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},EE(e)}function ME(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AE=function(e){wE(n,e);var t=kE(n);function n(){var e;yE(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),ME(OE(e),"name",void 0),ME(OE(e),"models",{label:[],tick:[],axisLine:[]}),ME(OE(e),"drawModels",void 0),ME(OE(e),"yAxisComponent",void 0),ME(OE(e),"theme",void 0),e}return bE(n,[{key:"initialize",value:function(e){var t=e.name;this.type="axis",this.name=t,this.yAxisComponent=t===Xn.Y}},{key:"render",value:function(e){var t=this,n=e.layout,r=e.axes,i=e.theme,o=r.centerYAxis;if(o){this.theme=Mi(i,this.name),this.rect=n[this.name],"yAxis"===this.name&&(this.rect=mE(mE({},this.rect),{},{x:o.x}));var a=r[this.name],s=a.viewLabels,l=a.tickCount,c=a.tickInterval,u=a.needRotateLabel,f=a.radian,d=a.offsetY,h={tickInterval:c,centerYAxis:o,needRotateLabel:u,radian:f,offsetY:d,relativePositions:xn(this.axisSize(o),l)},p=this.yAxisComponent?"y":"x",v=this.yAxisComponent?"x":"y";this.models.label=this.renderLabelModels(s,p,v,h),this.models.tick=this.renderTickModels(p,v,h),this.models.axisLine=this.renderAxisLineModel(o),this.drawModels||(this.drawModels={tick:[],label:[],axisLine:this.models.axisLine},["tick","label"].forEach((function(e){t.drawModels[e]=t.models[e].map((function(e){var n=mE({},e);return t.yAxisComponent?n.y=0:n.x=0,n}))})))}}},{key:"renderAxisLineModel",value:function(e){var t,n=e.xAxisHalfSize,r=e.secondStartX,i=kn(0),o=kn(this.rect.width);if(this.yAxisComponent){var a=kn(this.rect.height);t=[{type:"line",x:o,y:i,x2:o,y2:a},{type:"line",x:i,y:i,x2:i,y2:a}]}else t=[{type:"line",x:i,y:i,x2:kn(n),y2:i},{type:"line",x:kn(r),y:i,x2:o,y2:i}];return t}},{key:"renderTickModels",value:function(e,t,n){var r=this,i=this.yAxisComponent?kn(this.rect.width):kn(0),o=n.tickInterval,a=n.centerYAxis.secondStartX,s=n.relativePositions;return s.reduce((function(n,s,l){var c;if(l%o)return n;var u=(c={type:"tick",isYAxis:r.yAxisComponent,tickSize:r.yAxisComponent?-5:5},ME(c,e,kn(s)),ME(c,t,i),c),f=mE({},u);return r.yAxisComponent?(f[t]=kn(0),f.tickSize=5):f[e]=kn(s+a),[].concat(cE(n),[u,f])}),[])}},{key:"renderLabelModels",value:function(e,t,n,r){var i,o,a,s=this,l=r.centerYAxis,c=l.secondStartX,u=l.yAxisLabelAnchorPoint,f=r.offsetY,d=r.needRotateLabel,h=r.radian,p=this.theme.label,v=st(p);this.yAxisComponent?(i=kn(u),o="center",a=e):(i=f,a=cE(e).reverse(),o=d?"left":"center");var m=["default",{textAlign:o,font:v,fillStyle:p.color}];return a.reduce((function(r,o,a){var l,u=o.text,f=o.offsetPos,d=(l={type:"label",text:u,style:m},ME(l,t,kn(f)+(s.yAxisComponent?0:c)),ME(l,n,i),ME(l,"radian",h),l),p=[d];if(!s.yAxisComponent){var v=mE(mE({},d),{},ME({text:e[a].text},t,kn(d[t]-c)));p.push(v)}return[].concat(cE(r),p)}),[])}},{key:"axisSize",value:function(e){var t;return t=this.yAxisComponent?this.rect.height:e.xAxisHalfSize,t}},{key:"beforeDraw",value:function(e){e.ctx.strokeStyle="rgba(0, 0, 0, 0.5)",e.ctx.lineWidth=1}}]),n}(Kn);function TE(e){return TE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TE(e)}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PE(Object(n),!0).forEach((function(t){DE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LE(e,t,n){return t&&jE(e.prototype,t),n&&jE(e,n),e}function IE(e,t,n){return IE="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=NE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},IE(e,t,n||e)}function NE(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=VE(e),null===e)break;return e}function BE(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zE(e,t)}function HE(e){var t=UE();return function(){var n,r=VE(e);if(t){var i=VE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return WE(this,n)}}function WE(e,t){return!t||"object"!==TE(t)&&"function"!==typeof t?FE(e):t}function FE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UE(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function VE(e){return VE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VE(e)}var qE=function(n){BE(a,n);var r=HE(a);function a(e){var t=e.el,n=e.options,i=e.data;return _E(this,a),r.call(this,{el:t,options:n,series:{bar:i.series},categories:i.categories,modules:[Zd,qf,rh,Oo,xh]})}return LE(a,[{key:"initialize",value:function(){var n;IE(VE(a.prototype),"initialize",this).call(this);var r=!(null===(n=this.store.initStoreState.options.series)||void 0===n||!n.stack);this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(bC,{name:"bar",stackChart:r}),this.componentManager.add(GC,{name:"bar",stackChart:r}),this.componentManager.add(sE),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"secondaryYAxis"}),this.componentManager.add(AE,{name:"yAxis"}),this.componentManager.add(AE,{name:"xAxis"}),this.componentManager.add(ky,{name:"secondaryYAxis"}),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,i,c,e,f,o])}},{key:"addData",value:function(e,t){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e,category:t})}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{bar:n},categories:t})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",RE({},e))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),a}(Ef);function YE(e){return YE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YE(e)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$E(Object(n),!0).forEach((function(t){XE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JE(e,t,n){return t&&ZE(e.prototype,t),n&&ZE(e,n),e}function QE(e,t,n){return QE="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=eM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},QE(e,t,n||e)}function eM(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=sM(e),null===e)break;return e}function tM(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nM(e,t)}function nM(e,t){return nM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nM(e,t)}function rM(e){var t=aM();return function(){var n,r=sM(e);if(t){var i=sM(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return iM(this,n)}}function iM(e,t){return!t||"object"!==YE(t)&&"function"!==typeof t?oM(e):t}function oM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sM(e){return sM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sM(e)}var lM=function(n){tM(a,n);var r=rM(a);function a(e){var t=e.el,n=e.options,i=e.data;return KE(this,a),r.call(this,{el:t,options:n,series:{column:i.series},categories:i.categories,modules:[Zd,qf,rh,Oo,xh]})}return JE(a,[{key:"initialize",value:function(){var n;QE(sM(a.prototype),"initialize",this).call(this);var r=!(null===(n=this.store.initStoreState.options.series)||void 0===n||!n.stack);this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(GC,{name:"column",stackChart:r}),this.componentManager.add(bC,{name:"column",stackChart:r}),this.componentManager.add(sE),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,i,c,e,f,o])}},{key:"addData",value:function(e,t){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e,category:t})}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{column:n},categories:t})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",GE({},e))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),a}(Ef);function cM(e){return cM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cM(e)}function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uM(Object(n),!0).forEach((function(t){dM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vM(e,t,n){return t&&pM(e.prototype,t),n&&pM(e,n),e}function mM(e,t,n){return mM="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},mM(e,t,n||e)}function yM(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=OM(e),null===e)break;return e}function gM(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bM(e,t)}function bM(e,t){return bM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bM(e,t)}function wM(e){var t=SM();return function(){var n,r=OM(e);if(t){var i=OM(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xM(this,n)}}function xM(e,t){return!t||"object"!==cM(t)&&"function"!==typeof t?kM(e):t}function kM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function OM(e){return OM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},OM(e)}function CM(e,t){return e.find((function(e){var n=e.component;return n.name===t&&"point"===n.eventDetectType}))}function EM(e){return O(CM(e,"column"))&&O(CM(e,"line"))}var MM=function(n){gM(a,n);var r=wM(a);function a(e){var t=e.el,n=e.options,i=e.data,o=i.series,s=i.categories;return hM(this,a),r.call(this,{el:t,options:n,series:o,categories:s,modules:[Zd,qf,rh,Oo,xh]})}return vM(a,[{key:"initialize",value:function(){mM(OM(a.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(GC,{name:"column"}),this.componentManager.add(bC,{name:"column"}),this.componentManager.add(pm),this.componentManager.add(sE),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"secondaryYAxis"}),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ky,{name:"secondaryYAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,i,c,e,f,o,u])}},{key:"handleEventForAllResponders",value:function(e,t,n,r){if(EM(t)){var i=t.find((function(e){var t=e.component;return"column"===t.name}));i.component[n]({mousePosition:r,responders:[]},e)}}},{key:"addData",value:function(e,t,n){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e,category:t,chartType:n})}},{key:"addSeries",value:function(e,t){this.resetSeries(),this.store.dispatch("addSeries",fM({data:e},t))}},{key:"setData",value:function(e){this.resetSeries(),this.store.dispatch("setData",e)}},{key:"addPlotLine",value:function(e){this.store.dispatch("addPlotLine",{data:e})}},{key:"removePlotLine",value:function(e){this.store.dispatch("removePlotLine",{id:e})}},{key:"addPlotBand",value:function(e){this.store.dispatch("addPlotBand",{data:e})}},{key:"removePlotBand",value:function(e){this.store.dispatch("removePlotBand",{id:e})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",fM({},e))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),a}(Ef);function AM(e){return AM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AM(e)}function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TM(Object(n),!0).forEach((function(t){WM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _M(e,t,n){return t&&DM(e.prototype,t),n&&DM(e,n),e}function jM(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LM(e,t)}function LM(e,t){return LM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},LM(e,t)}function IM(e){var t=zM();return function(){var n,r=HM(e);if(t){var i=HM(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NM(this,n)}}function NM(e,t){return!t||"object"!==AM(t)&&"function"!==typeof t?BM(e):t}function BM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zM(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function HM(e){return HM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},HM(e)}function WM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FM(e){return YM(e)||qM(e)||VM(e)||UM()}function UM(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function VM(e,t){if(e){if("string"===typeof e)return $M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$M(e,t):void 0}}function qM(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function YM(e){if(Array.isArray(e))return $M(e)}function $M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GM=.5,XM=1;function KM(e){return e.reduce((function(e,t){var n=t.data.filter((function(e){return!M(e)}));return Math.max.apply(Math,[e].concat(FM(n.map((function(e){var t=e.r;return t})))))}),0)}var ZM=function(e){jM(n,e);var t=IM(n);function n(){var e;RM(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),WM(BM(e),"models",{series:[]}),WM(BM(e),"drawModels",void 0),WM(BM(e),"responders",void 0),WM(BM(e),"activatedResponders",[]),WM(BM(e),"theme",void 0),WM(BM(e),"rect",void 0),WM(BM(e),"maxRadius",-1),WM(BM(e),"maxValue",-1),WM(BM(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name}),e.eventBus.emit("needDraw")})),WM(BM(e),"selectSeries",(function(t){var n=t.index,r=t.seriesIndex,i=t.state;if(T(n)&&T(r)){var o=i.series.bubble.data[n].name,a=e.responders.filter((function(e){var t=e.name;return t===o}))[r];if(!a)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);var s=e.getResponderAppliedTheme([a],"select");e.eventBus.emit("renderSelectedSeries",{models:s,name:e.name}),e.eventBus.emit("needDraw")}})),WM(BM(e),"showTooltip",(function(t){var n=t.index,r=t.seriesIndex,i=t.state;if(T(n)&&T(r)){var o=i.series.bubble.data[r].name,a=[e.responders.filter((function(e){var t=e.name;return t===o}))[n]];a.length&&(e.eventBus.emit("renderHoveredSeries",{models:a,name:e.name}),e.activatedResponders=a,e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw"))}})),e}return _M(n,[{key:"initialize",value:function(){this.type="series",this.name="bubble",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"initUpdate",value:function(e){var t=this;this.drawModels.series.forEach((function(n,r){n.radius=t.models.series[r].radius*e}))}},{key:"render",value:function(e){var t=e.layout,n=e.series,r=e.scale,i=e.axes,o=e.circleLegend,a=e.legend,s=e.options,l=e.theme,c=t.plot;if(!n.bubble)throw new Error(ae.noDataError(this.name));var u=i.xAxis,f=i.yAxis,d=n.bubble.data;this.theme=l.series.bubble,this.rect=c,this.activeSeriesMap=yc(a),this.selectable=this.getSelectableOption(s);var h=this.rect.width/u.tickCount,p=this.rect.height/f.tickCount;this.maxRadius=o.radius?o.radius:Math.min(h,p),this.maxValue=KM(d);var v=this.renderBubblePointsModel(d,r),m=this.makeTooltipModel(d);this.models.series=v,this.drawModels||(this.drawModels=Y(this.models)),this.responders=v.map((function(e,t){return PM(PM({},e),{},{type:"circle",detectionSize:0,radius:e.radius+XM,color:Qe(e.color,.85),data:m[t],index:t})}))}},{key:"renderBubblePointsModel",value:function(e,t){var n=this,r=t.xAxis.limit,i=t.yAxis.limit,o=this.theme,a=o.borderWidth,s=o.borderColor;return e.flatMap((function(e,t){var o=e.data,l=e.name,c=e.color,u=[],f=n.activeSeriesMap[l],d=Qe(c,f?.8:.1),h=o.filter((function(e){return!M(e)}));return h.forEach((function(e){var o=$i(e),c=P(o)?Number(new Date(o)):Number(o),f=Yi(e),h=Cn(c,r),p=Cn(f,i),v=h*n.rect.width,m=(1-p)*n.rect.height,y=Math.max(GM,e.r/n.maxValue*n.maxRadius);u.push({x:v,y:m,type:"circle",radius:y,color:d,style:["default"],seriesIndex:t,name:l,borderWidth:a,borderColor:s})})),u}))}},{key:"makeTooltipModel",value:function(e){return FM(e).flatMap((function(e){var t=e.data,n=e.name,r=e.color,i=[],o=t.filter((function(e){return!M(e)}));return o.forEach((function(e){var t=e.r,o=e.label;i.push({label:"".concat(n,"/").concat(o),color:r,value:{x:$i(e),y:Yi(e),r:t}})})),i}))}},{key:"getResponderAppliedTheme",value:function(e,t){var n=this;return e.map((function(e){return V(e,n.theme[t])}))}},{key:"onMousemove",value:function(e){var t=e.responders,n=e.mousePosition,r=pv(t,n,this.rect),i=this.getResponderAppliedTheme(r,"hover");this.eventBus.emit("renderHoveredSeries",{models:i,name:this.name}),this.activatedResponders=r,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"onClick",value:function(e){var t=e.responders,n=e.mousePosition;if(this.selectable){var r=pv(t,n,this.rect),i=this.getResponderAppliedTheme(r,"select");this.eventBus.emit("renderSelectedSeries",{models:i,name:this.name}),this.eventBus.emit("needDraw")}}}]),n}(Kn);function JM(e){return JM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JM(e)}function QM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tA(e,t,n){return t&&eA(e.prototype,t),n&&eA(e,n),e}function nA(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rA(e,t)}function rA(e,t){return rA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rA(e,t)}function iA(e){var t=sA();return function(){var n,r=lA(e);if(t){var i=lA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oA(this,n)}}function oA(e,t){return!t||"object"!==JM(t)&&"function"!==typeof t?aA(e):t}function aA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lA(e){return lA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lA(e)}function cA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uA=function(e){nA(n,e);var t=iA(n);function n(){var e;QM(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),cA(aA(e),"models",{circleLegend:[]}),e}return tA(n,[{key:"initialize",value:function(){this.type="circleLegend"}},{key:"render",value:function(e){var t=e.layout,n=e.series,r=e.circleLegend;if(!n.bubble)throw new Error(ae.CIRCLE_LEGEND_RENDER_ERROR);if(this.isShow=r.visible,this.isShow){var i=n.bubble.data;this.rect=t.circleLegend,this.renderCircleLegend(i,r)}}},{key:"renderCircleLegend",value:function(e,t){var n=KM(e),r=t.radius;this.models.circleLegend=[{type:"circleLegend",radius:r,value:n,x:r,y:this.rect.height-r}]}}]),n}(Kn);function fA(e,t){var n=t.x,r=t.y,i=t.radius,o=t.value,a=[1,.5,.25];a.forEach((function(t,a){var s=t*i,l=r+(a?(1-t)*i:0);Gt(e,{type:"circle",x:n,y:l,radius:s,color:"#fff",seriesIndex:0,style:["default",{strokeStyle:"#888",lineWidth:1}]}),yt(e,{type:"label",x:n,y:l-s,text:String(o*t),style:["default",{textAlign:"center",textBaseline:"bottom"}]})}))}function dA(e){return dA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(e)}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hA(Object(n),!0).forEach((function(t){vA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gA(e,t,n){return t&&yA(e.prototype,t),n&&yA(e,n),e}function bA(e,t,n){return bA="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},bA(e,t,n||e)}function wA(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=MA(e),null===e)break;return e}function xA(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kA(e,t)}function kA(e,t){return kA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kA(e,t)}function SA(e){var t=EA();return function(){var n,r=MA(e);if(t){var i=MA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OA(this,n)}}function OA(e,t){return!t||"object"!==dA(t)&&"function"!==typeof t?CA(e):t}function CA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function MA(e){return MA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},MA(e)}var AA=function(n){xA(o,n);var r=SA(o);function o(e){return mA(this,o),r.call(this,{el:e.el,options:e.options,series:{bubble:e.data.series},modules:[qf,rh,Oo,xh]})}return gA(o,[{key:"initialize",value:function(){bA(MA(o.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(ZM),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(uA),this.componentManager.add(Bb),this.painter.addGroups([t,i,p,c,e,f])}},{key:"addData",value:function(e){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e})}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){this.resetSeries(),this.store.dispatch("setData",{series:{bubble:e.series}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",pA(pA({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),o}(Ef);function TA(e){return TA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TA(e)}function PA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DA(e,t,n){return t&&RA(e.prototype,t),n&&RA(e,n),e}function _A(e,t,n){return _A="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},_A(e,t,n||e)}function jA(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=WA(e),null===e)break;return e}function LA(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IA(e,t)}function IA(e,t){return IA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},IA(e,t)}function NA(e){var t=HA();return function(){var n,r=WA(e);if(t){var i=WA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return BA(this,n)}}function BA(e,t){return!t||"object"!==TA(t)&&"function"!==typeof t?zA(e):t}function zA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function WA(e){return WA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},WA(e)}function FA(e){return YA(e)||qA(e)||VA(e)||UA()}function UA(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function VA(e,t){if(e){if("string"===typeof e)return $A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$A(e,t):void 0}}function qA(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function YA(e){if(Array.isArray(e))return $A(e)}function $A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GA(Object(n),!0).forEach((function(t){KA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZA(e){return e.map((function(e){var t={};return XA(XA({},e),{},{data:e.data.filter((function(e){return!M(e)})).reduce((function(e,n){var r=$i(n),i=Yi(n),o="".concat(r,"-").concat(i);return t[o]?e:(t[o]=!0,[].concat(FA(e),[n]))}),[])})}))}var JA=function(n){LA(o,n);var r=NA(o);function o(e){var t;return PA(this,o),r.call(this,{el:e.el,options:e.options,series:{scatter:ZA(e.data.series)},categories:null===(t=e.data)||void 0===t?void 0:t.categories,modules:[qf,rh,Oo,xh]})}return DA(o,[{key:"initialize",value:function(){_A(WA(o.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(iO),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,i,c,e,f,l])}},{key:"addData",value:function(e){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e})}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{scatter:n},categories:t})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",XA(XA({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),o}(Ef);function QA(e){return QA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QA(e)}function eT(e,t){return rT(e)||nT(e,t)||bT(e,t)||tT()}function tT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nT(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function rT(e){if(Array.isArray(e))return e}function iT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aT(e,t,n){return t&&oT(e.prototype,t),n&&oT(e,n),e}function sT(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lT(e,t)}function lT(e,t){return lT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lT(e,t)}function cT(e){var t=dT();return function(){var n,r=hT(e);if(t){var i=hT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uT(this,n)}}function uT(e,t){return!t||"object"!==QA(t)&&"function"!==typeof t?fT(e):t}function fT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function hT(e){return hT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hT(e)}function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pT(Object(n),!0).forEach((function(t){mT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yT(e){return xT(e)||wT(e)||bT(e)||gT()}function gT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bT(e,t){if(e){if("string"===typeof e)return kT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kT(e,t):void 0}}function wT(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function xT(e){if(Array.isArray(e))return kT(e)}function kT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ST=.6,OT=5;function CT(e,t,n){return{width:e?t:n,height:e?n:t}}function ET(e,t,n){return e*t+(t-n)/2}function MT(e,t){var n=e.range,r=e.marker,i=e.bullet,o=t.range,a=t.marker,s=t.bullet;return[].concat(yT(n.map((function(e,t){return vT(vT({},e),{},{data:o[t]})}))),yT(i.map((function(e,t){return vT(vT({},e),{},{data:s[t]})}))),yT(r.map((function(e,t){return vT(vT({},e),{},{detectionSize:OT,data:a[t]})}))))}var AT=function(e){sT(n,e);var t=cT(n);function n(){var e;iT(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),mT(fT(e),"models",{range:[],bullet:[],marker:[]}),mT(fT(e),"drawModels",void 0),mT(fT(e),"responders",void 0),mT(fT(e),"activatedResponders",[]),mT(fT(e),"theme",void 0),mT(fT(e),"eventDetectType","point"),mT(fT(e),"tooltipRectMap",void 0),mT(fT(e),"vertical",!1),mT(fT(e),"basePosition",void 0),mT(fT(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name}),e.eventBus.emit("needDraw")})),mT(fT(e),"selectSeries",(function(t){var n,r=t.seriesIndex,i=t.state;if(T(r)){var o=null===(n=i.series.bullet)||void 0===n?void 0:n[r],a=o.name,s=e.filterBulletResponder(e.responders).filter((function(e){var t=e.name;return t===a}));if(!s)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:e.getRespondersWithTheme(s,"select"),name:e.name}),e.eventBus.emit("needDraw")}})),mT(fT(e),"showTooltip",(function(t){var n,r=t.seriesIndex,i=t.state;if(T(r)){var o=null===(n=i.series.bullet)||void 0===n?void 0:n[r],a=o.name,s=e.filterBulletResponder(e.responders).filter((function(e){var t=e.name;return t===a}));s.length&&e.onMousemove({responders:s})}})),e}return aT(n,[{key:"initialize",value:function(){this.type="series",this.name="bullet",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"initUpdate",value:function(e){if(this.drawModels){var t=this.drawModels.clipRect;if(t){var n=this.vertical?"y":"x",r=this.vertical?"height":"width",i=t[0],o=this.models.clipRect[0],a=i[r]+(o[r]-i[r])*e;i[r]=a,i[n]=Math.max(this.basePosition-a*this.basePosition/o[r],0)}}}},{key:"render",value:function(e){var t,n=e.layout,r=e.axes,i=e.series,o=e.scale,a=e.legend,s=e.options,l=e.theme,c=e.categories;if(!i.bullet)throw new Error(ae.noDataError(this.name));this.setEventDetectType(i,s),this.theme=l.series.bullet,this.rect=n.plot,this.activeSeriesMap=yc(a),this.selectable=this.getSelectableOption(s),this.vertical=!(null===s||void 0===s||null===(t=s.series)||void 0===t||!t.vertical);var u=vi({series:i,options:s}),f=wi(u,i),d=f.labelAxisName,h=f.valueAxisName,p=xi(u),v=p.valueSizeKey,m=r[d].tickDistance,y=r[h].zeroPosition,g=o[h].limit,b=g.min,w=g.max,x=i.bullet.data;this.basePosition=null!==y&&void 0!==y?y:0;var k=vT({ratio:this.rect[v]/(w-b),tickDistance:m,zeroPosition:y},this.getBulletBarWidths(m)),S=this.renderRanges(x,k),O=this.renderBullet(x,k),C=this.renderMarkers(x,k),E=this.renderClipRectArea();this.models.clipRect=[E],this.models.range=S,this.models.bullet=O,this.models.marker=C,this.drawModels||(this.drawModels={clipRect:[this.makeInitialClipRectModel(E)],range:q(S),bullet:q(O),marker:q(C)});var M={range:S,bullet:O,marker:C},A=this.makeTooltipModel(M);this.tooltipRectMap=this.makeTooltipRectMap(M,A),this.responders=this.getBulletSeriesResponders(M,A,r,c),Gv(s,this.name).visible&&this.renderDataLabels(this.getDataLabels([].concat(yT(S),yT(O),yT(C)),this.vertical,this.rect[v]))}},{key:"renderClipRectArea",value:function(){return{type:"clipRectArea",x:0,y:0,width:this.rect.width,height:this.rect.height}}},{key:"makeInitialClipRectModel",value:function(e){var t=this.vertical?e.width:0,n=this.vertical?0:e.height,r=this.vertical?e.x:0,i=this.vertical?0:e.y;return{type:"clipRectArea",width:t,height:n,x:r,y:i}}},{key:"getDataLabels",value:function(e,t,n){var r=this.theme.dataLabels,i=H(r,"marker"),o=i.useSeriesColor,a=i.color,s=r.marker;return e.filter((function(e){return"line"===e.type||"range"!==e.modelType})).map((function(e){if("line"===e.type)return vT(vT({},e),{},{x:t?(e.x+e.x2)/2:e.x,theme:vT(vT({},s),{},{color:s.useSeriesColor?e.strokeStyle:s.color})});var r=T(e.value)&&(null===e||void 0===e?void 0:e.value)<0,l=t?"top":"right";return r&&(l=t?"bottom":"left"),vT(vT({},e),{},{direction:l,plot:{x:0,y:0,size:n},theme:vT(vT({},i),{},{color:o?e.color:a})})}))}},{key:"setEventDetectType",value:function(e,t){var n;null!==t&&void 0!==t&&null!==(n=t.series)&&void 0!==n&&n.eventDetectType&&(this.eventDetectType=t.series.eventDetectType)}},{key:"getBulletSeriesResponders",value:function(e,t,n,r){return"grouped"===this.eventDetectType?vv(this.rect,this.vertical?n.xAxis:n.yAxis,r,this.vertical):MT(e,t)}},{key:"makeTooltipRectMap",value:function(e,t){var n={};return Object.keys(e).forEach((function(r){e[r].forEach((function(e,i){var o=e.name;n[o]||(n[o]=[]);var a=vT(vT({},e),{},{data:t[r][i]});n[o].push(a)}))})),n}},{key:"getBulletSeriesModelsFromRectResponders",value:function(e){var t;return e.length&&null!==(t=this.tooltipRectMap[e[0].label])&&void 0!==t?t:[]}},{key:"getGroupedRect",value:function(e,t){var n=this.getBulletSeriesModelsFromRectResponders(e),r=this.theme[t].groupedRect,i=r.color,o=r.opacity;return n.length?e.map((function(e){return vT(vT({},e),{},{color:Qe(i,o)})})):[]}},{key:"onMousemoveGroupedType",value:function(e){var t=this.getBulletSeriesModelsFromRectResponders(e);this.eventBus.emit("renderHoveredSeries",{models:[].concat(yT(this.getGroupedRect(e,"hover")),yT(this.getRespondersWithTheme(t,"hover"))),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t}},{key:"onMousemove",value:function(e){var t=e.responders;"grouped"===this.eventDetectType?this.onMousemoveGroupedType(t):(this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(t,"hover"),name:this.name}),this.activatedResponders=t.length?[t[t.length-1]]:[]),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"onClick",value:function(e){var t=e.responders;if(this.selectable){var n="grouped"===this.eventDetectType?[].concat(yT(this.getGroupedRect(t,"select")),yT(this.getRespondersWithTheme(this.getBulletSeriesModelsFromRectResponders(t),"select"))):this.getRespondersWithTheme(t,"select");this.eventBus.emit("renderSelectedSeries",{models:n,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")}}},{key:"filterBulletResponder",value:function(e){return e.filter((function(e){return"bullet"===(null===e||void 0===e?void 0:e.modelType)}))}},{key:"renderRanges",value:function(e,t){var n=this,r=t.tickDistance,i=t.ratio,o=t.zeroPosition,a=t.rangeWidth,s=[];return e.forEach((function(e,t){var l=e.ranges,c=e.color,u=e.name;(null!==l&&void 0!==l?l:[]).forEach((function(e,l){if(!M(e)){var f=eT(e,2),d=f[0],h=f[1],p=(h-d)*i,v=ET(t,r,a);s.push(vT(vT({type:"rect",name:u,color:n.getRangeColor(Qe(c,n.getSeriesOpacity(u)),l,u),x:n.vertical?v:d*i+o,y:n.vertical?o-h*i:v},CT(n.vertical,a,p)),{},{modelType:"range",seriesColor:c,tooltipColor:n.getRangeColor(c,l,u,!0),value:e}))}}))})),s}},{key:"renderBullet",value:function(e,t){var n=this,r=t.tickDistance,i=t.ratio,o=t.zeroPosition,a=t.bulletWidth,s=this.theme,l=s.borderColor,c=s.borderWidth;return e.reduce((function(e,t,s){var u=t.data,f=t.color,d=t.name;if(M(u))return yT(e);var h=Math.max(Math.abs(u*i),2),p=ET(s,r,a),v=n.vertical?p:o-(u<0?h:0),m=n.vertical?o-h+(u<0?h:0):p,y=vT({type:"rect",name:d,color:Qe(f,n.getSeriesOpacity(d)),x:v,y:m,thickness:c,borderColor:l,modelType:"bullet",seriesColor:f,tooltipColor:f,value:u},CT(n.vertical,a,h));return[].concat(yT(e),[y])}),[])}},{key:"renderMarkers",value:function(e,t){var n=this,r=t.tickDistance,i=t.ratio,o=t.zeroPosition,a=t.markerWidth,s=this.theme.markerLineWidth,l=[];return e.forEach((function(e,t){var c=e.markers,u=e.color,f=e.name,d=ET(t,r,a);(null!==c&&void 0!==c?c:[]).forEach((function(e){if(!M(e)){var t=e*i,r=n.vertical?d:t+o,c=n.vertical?o-t:d;l.push({type:"line",name:f,x:r,y:c,x2:n.vertical?r+a:r,y2:n.vertical?c:c+a,strokeStyle:Qe(u,n.getSeriesOpacity(f)),lineWidth:s,seriesColor:u,tooltipColor:u,value:e})}}))})),l}},{key:"makeTooltipModel",value:function(e){var t=e.range,n=e.bullet,r=e.marker;return{range:this.makeTooltipData(t,"Range"),bullet:this.makeTooltipData(n,"Actual"),marker:this.makeTooltipData(r,"Marker")}}},{key:"makeTooltipData",value:function(e,t){return e.map((function(e){var n=e.name,r=e.seriesColor,i=e.tooltipColor,o=e.value;return{label:n,color:Qe(r,1),value:[{title:t,value:o,color:i}],templateType:"bullet"}}))}},{key:"getBulletBarWidths",value:function(e){var t=this.theme,n=t.barWidth,r=t.barWidthRatios,i=r.rangeRatio,o=r.bulletRatio,a=r.markerRatio,s=n?re(e,n):e*ST;return{rangeWidth:s*i,bulletWidth:s*o,markerWidth:s*a}}},{key:"getRangeColor",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.theme.rangeColors,o=Array.isArray(i)&&i[t],a=o?i[t]:e,s=o?et(i[t]):Gl[t];return Qe(a,s*this.getSeriesOpacity(n,r))}},{key:"getSeriesOpacity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.theme,r=n.select,i=n.areaOpacity,o=this.activeSeriesMap[e],a=Object.values(this.activeSeriesMap).some((function(e){return!e})),s=t?i:r.restSeries.areaOpacity,l=o?r.areaOpacity:s;return a?l:i}},{key:"getRespondersWithTheme",value:function(e,t){var n=this,r=this.theme[t],i=r.color,o=r.borderColor,a=r.borderWidth;return this.filterBulletResponder(e).map((function(e){return vT(vT({},e),{},{color:null!==i&&void 0!==i?i:e.tooltipColor,thickness:a,borderColor:o,style:[vT({},z(n.theme[t],"shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY"))]})}))}}]),n}(Kn);function TT(e){return TT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TT(e)}function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PT(Object(n),!0).forEach((function(t){VT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jT(e,t,n){return t&&_T(e.prototype,t),n&&_T(e,n),e}function LT(e,t,n){return LT="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=IT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},LT(e,t,n||e)}function IT(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=UT(e),null===e)break;return e}function NT(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BT(e,t)}function BT(e,t){return BT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},BT(e,t)}function zT(e){var t=FT();return function(){var n,r=UT(e);if(t){var i=UT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return HT(this,n)}}function HT(e,t){return!t||"object"!==TT(t)&&"function"!==typeof t?WT(e):t}function WT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function UT(e){return UT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},UT(e)}function VT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qT=function(n){NT(a,n);var r=zT(a);function a(e){var t,n=e.el,i=e.options,o=e.data.series;return DT(this,a),t=r.call(this,{el:n,options:i,series:{bullet:o},modules:[qf,rh,Oo,xh]}),VT(WT(t),"hideTooltip",(function(){t.eventBus.emit("hideTooltip")})),t}return jT(a,[{key:"initialize",value:function(){LT(UT(a.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(AT),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,i,c,e,f,o])}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){this.resetSeries(),this.store.dispatch("setData",{series:{bullet:e.series}})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",RT(RT({},e),{},{state:this.store.state}))}}]),a}(Ef);function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YT(Object(n),!0).forEach((function(t){GT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XT(e,t,n){var r,i=null===(r=e.pie)||void 0===r?void 0:r[t].data.find((function(e){var t=e.name;return t===n}));return null!==i&&void 0!==i&&i.parentName?XT(e,t-1,i.parentName):n}var KT={name:"seriesData",state:function(){return{nestedPieSeries:{}}},action:{setNestedPieSeriesData:function(e){var t=e.state,n=e.initStoreState,r=t.theme,i=t.disabledSeries,o=n.series,a={},s={};o.pie.forEach((function(e,t){var n=e.name,l=e.data,c=r.series.pie[n].colors,u=[],f=l.map((function(e,n){var r=e.parentName,i=e.name,a=r&&t?s[r]:null===c||void 0===c?void 0:c[n];u.push(a),s[i]=a;var l=r&&t?XT(o,t-1,r):i;return $T($T({},e),{},{data:e.data,rootParentName:l,color:a})}));a[n]={data:f.filter((function(e){var t=e.rootParentName;return!i.includes(t)})),colors:u}})),t.nestedPieSeries=a,this.dispatch("updateNestedPieChartLegend")}},observe:{updateNestedPieSeriesData:function(){this.dispatch("setNestedPieSeriesData")}}},ZT=KT;function JT(e){return JT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JT(e)}function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QT(Object(n),!0).forEach((function(t){tP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iP(e,t,n){return t&&rP(e.prototype,t),n&&rP(e,n),e}function oP(e,t,n){return oP="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=aP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},oP(e,t,n||e)}function aP(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=hP(e),null===e)break;return e}function sP(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lP(e,t)}function lP(e,t){return lP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lP(e,t)}function cP(e){var t=dP();return function(){var n,r=hP(e);if(t){var i=hP(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uP(this,n)}}function uP(e,t){return!t||"object"!==JT(t)&&"function"!==typeof t?fP(e):t}function fP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function hP(e){return hP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hP(e)}var pP=function(n){sP(i,n);var r=cP(i);function i(e){var t=e.el,n=e.options,o=e.data,a=o.series,s=o.categories;return nP(this,i),r.call(this,{el:t,options:n,series:{pie:a},categories:s,modules:[ZT]})}return iP(i,[{key:"initialize",value:function(){var n,r=this;oP(hP(i.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(Lm),(null!==(n=this.store.initStoreState.series.pie)&&void 0!==n?n:[]).forEach((function(e){var t=e.name;r.componentManager.add(_w,{alias:t})})),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,c,e,f,h,o])}},{key:"addSeries",value:function(e,t){this.resetSeries(),this.store.dispatch("addSeries",eP({data:e},t)),this.componentManager.add(_w,{alias:e.name})}},{key:"setData",value:function(e){var t,n=this;this.componentManager.remove(_w),this.resetSeries(),this.store.dispatch("setData",{series:{pie:e.series}}),(null!==(t=this.store.initStoreState.series.pie)&&void 0!==t?t:[]).forEach((function(e){var t=e.name;n.componentManager.add(_w,{alias:t})}))}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",eP({},e))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),i}(Ef);function vP(e){return vP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vP(e)}function mP(e){return wP(e)||bP(e)||gP(e)||yP()}function yP(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gP(e,t){if(e){if("string"===typeof e)return xP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xP(e,t):void 0}}function bP(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function wP(e){if(Array.isArray(e))return xP(e)}function xP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kP(Object(n),!0).forEach((function(t){jP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EP(e,t,n){return t&&CP(e.prototype,t),n&&CP(e,n),e}function MP(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AP(e,t)}function AP(e,t){return AP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},AP(e,t)}function TP(e){var t=DP();return function(){var n,r=_P(e);if(t){var i=_P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return PP(this,n)}}function PP(e,t){return!t||"object"!==vP(t)&&"function"!==typeof t?RP(e):t}function RP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _P(e){return _P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_P(e)}function jP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LP=0,IP={INACTIVE:.2,ACTIVE:1},NP=function(e){MP(n,e);var t=TP(n);function n(){var e;OP(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),jP(RP(e),"models",{area:[],line:[],dot:[]}),jP(RP(e),"drawModels",void 0),jP(RP(e),"responders",void 0),jP(RP(e),"activatedResponders",[]),jP(RP(e),"theme",void 0),jP(RP(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name}),e.eventBus.emit("needDraw")})),jP(RP(e),"selectSeries",(function(t){var n=t.index,r=t.seriesIndex,i=t.state;if(T(n)&&T(r)){var o=i.series.radar.data[r].name,a=e.responders.filter((function(e){var t=e.name;return t===o}))[n];if(!a)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:e.getRespondersWithTheme([a],"select"),name:e.name}),e.eventBus.emit("needDraw")}})),jP(RP(e),"showTooltip",(function(t){var n=t.index,r=t.seriesIndex,i=t.state;if(T(n)&&T(r)){var o=i.series.radar.data[r].name,a=[e.responders.filter((function(e){var t=e.name;return t===o}))[n]];a.length&&(e.eventBus.emit("renderHoveredSeries",{models:e.getRespondersWithTheme(a,"hover"),name:e.name}),e.activatedResponders=a,e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw"))}})),e}return EP(n,[{key:"initialize",value:function(){this.type="series",this.name="radar",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"render",value:function(e){var t,n,r,i,o,a=e.layout,s=e.radialAxes,l=e.series,c=e.legend,u=e.options,f=e.theme,d=e.scale;if(!l.radar)throw new Error(ae.noDataError(this.name));this.theme=f.series.radar,this.rect=a.plot,this.activeSeriesMap=yc(c),this.selectable=this.getSelectableOption(u);var h=e.categories,p=s.verticalAxis,v=p.axisSize,m=p.centerX,y=p.centerY,g=d.verticalAxis,b=g.limit,w=g.stepSize,x=wn(b,w),k=ki(x),S=k.min,O=k.max,C={categories:h,degree:Mt/h.length,centerX:m,centerY:y,showArea:null!==(t=null===u||void 0===u||null===(n=u.series)||void 0===n?void 0:n.showArea)&&void 0!==t&&t,ratio:v/(O-S)},E=null===(r=l.radar)||void 0===r?void 0:r.data,M=this.makeRadarPointsData(E,C),A=this.renderDotModels(M);this.models.area=null!==u&&void 0!==u&&null!==(i=u.series)&&void 0!==i&&i.showArea?this.renderAreaModels(M):[],this.models.line=this.renderLineModels(M),this.models.dot=null!==u&&void 0!==u&&null!==(o=u.series)&&void 0!==o&&o.showDot?A:[],this.drawModels||(this.drawModels={area:this.initDrawModels("area",m,y),line:this.initDrawModels("line",m,y),dot:this.models.dot.map((function(e){return SP(SP({},e),{},{x:m,y:y})}))});var T=this.makeTooltipModel(A,h);this.responders=A.map((function(e,t){return SP(SP({},e),{},{data:T[t],color:Qe(e.color,1)})}))}},{key:"initDrawModels",value:function(e,t,n){return this.models[e].map((function(e){var r;return SP(SP({},e),{},{distances:null===(r=e.distances)||void 0===r?void 0:r.map((function(){return 0})),points:e.points.map((function(){return{x:t,y:n}}))})}))}},{key:"makeTooltipModel",value:function(e,t){return e.map((function(e){var n=e.name,r=e.color,i=e.value,o=e.index;return{label:n,color:r,value:i,category:t[o]}}))}},{key:"getRespondersWithTheme",value:function(e,t){var n=this.theme[t].dot,r=n.radius,i=n.borderWidth,o=n.borderColor,a=n.color;return e.map((function(e){var t=null!==a&&void 0!==a?a:e.color;return SP(SP({},e),{},{radius:r,color:t,borderColor:null!==o&&void 0!==o?o:Qe(t,.5),borderWidth:i})}))}},{key:"onClick",value:function(e){var t=e.responders;this.selectable&&(this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(t,"select"),name:this.name}),this.eventBus.emit("needDraw"))}},{key:"onMousemove",value:function(e){var t=e.responders;this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(t,"hover"),name:this.name}),this.activatedResponders=t,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"makeRadarPointsData",value:function(e,t){var n=this,r=t.centerX,i=t.centerY,o=t.degree,a=t.ratio,s=t.showArea;return e.map((function(e){var t=e.data,l=e.color,c=e.name,u=t.reduce((function(e,t,n){if(M(t))return{distances:[].concat(mP(e.distances),[0]),linePoints:[].concat(mP(e.linePoints),[null]),areaPoints:[].concat(mP(e.areaPoints),[{x:r,y:i}])};var s=t*a,l=It(r,i,s,_t(o*n));return{distances:[].concat(mP(e.distances),[s]),linePoints:[].concat(mP(e.linePoints),[l]),areaPoints:[].concat(mP(e.areaPoints),[l])}}),{linePoints:[],distances:[],areaPoints:[]});return M(t[0])||M(t[t.length-1])||(u.linePoints.push(u.linePoints[0]),u.areaPoints.push(u.areaPoints[0])),SP(SP({name:c,seriesColor:l,data:t},u),n.getSeriesColor(s,l,c))}))}},{key:"renderAreaModels",value:function(e){return e.map((function(e){var t=e.distances,n=e.areaPoints,r=e.name,i=e.fillColor,o=e.seriesColor;return{type:"areaPoints",name:r,distances:t,points:n,fillColor:i,color:Qe(o,0),lineWidth:0}}))}},{key:"renderLineModels",value:function(e){var t=this.theme,n=t.lineWidth,r=t.dashSegments;return e.map((function(e){var t=e.distances,i=e.linePoints,o=e.name,a=e.lineColor;return{type:"linePoints",lineWidth:null!==n&&void 0!==n?n:ql.LINE_WIDTH,name:o,distances:t,points:i,color:a,dashSegments:r}}))}},{key:"renderDotModels",value:function(e){var t=this.theme.dot,n=t.radius,r=t.color,i=[];return e.forEach((function(e,t){var o=e.linePoints,a=e.lineColor,s=e.name,l=e.data;return o.slice(0,o.length-1).forEach((function(e,o){M(e)||i.push(SP(SP({type:"circle"},e),{},{radius:n,color:null!==r&&void 0!==r?r:a,style:[{strokeStyle:"rgba(0, 0, 0, 0)"}],name:s,seriesIndex:t,index:o,value:null===l||void 0===l?void 0:l[o]}))}))})),i}},{key:"getSeriesColor",value:function(e,t,n){var r=this.activeSeriesMap[n],i=this.theme,o=i.select,a=i.areaOpacity,s=Object.values(this.activeSeriesMap).some((function(e){return!e})),l=Qe(t,r?IP.ACTIVE:IP.INACTIVE),c=LP;if(e){var u=r?o.areaOpacity:o.restSeries.areaOpacity;c=s?u:a}return{lineColor:l,fillColor:Qe(l,c)}}}]),n}(Kn);function BP(e){return BP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BP(e)}function zP(e){return UP(e)||FP(e)||WP(e)||HP()}function HP(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function WP(e,t){if(e){if("string"===typeof e)return VP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VP(e,t):void 0}}function FP(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function UP(e){if(Array.isArray(e))return VP(e)}function VP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $P(e,t,n){return t&&YP(e.prototype,t),n&&YP(e,n),e}function GP(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XP(e,t)}function XP(e,t){return XP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},XP(e,t)}function KP(e){var t=QP();return function(){var n,r=eR(e);if(t){var i=eR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZP(this,n)}}function ZP(e,t){return!t||"object"!==BP(t)&&"function"!==typeof t?JP(e):t}function JP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function eR(e){return eR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eR(e)}function tR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nR(e,t){var n=e.limit.max,r=e.stepSize;return n+(t<Mt?At:r)}function rR(e,t){return e.findIndex((function(e){return e===t}))}var iR=function(e){GP(n,e);var t=KP(n);function n(){var e;qP(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),tR(JP(e),"models",{plot:[],line:[],band:[]}),tR(JP(e),"circularAxisTheme",void 0),e}return $P(n,[{key:"initialize",value:function(e){var t;this.type="plot",this.name=null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"radialPlot"}},{key:"render",value:function(e){var t,n=e.layout,r=e.radialAxes,i=e.options,o=e.series,a=e.theme,s=e.scale;this.rect=n.plot,this.circularAxisTheme=a.circularAxis;var l=null!==(t=e.categories)&&void 0!==t?t:[];if("gauge"===this.name){var c,u,f=null!==(c=null===i||void 0===i||null===(u=i.plot)||void 0===u?void 0:u.bands)&&void 0!==c?c:[],d=!vi({series:o,categories:l}),h=this.makeRenderOptionsOnGauge(d,r.circularAxis,l,s);this.models.band=this.renderBands(f,h,l)}else{var p,v,m=!!o.radar,y=null!==(p=null===(v=i.plot)||void 0===v?void 0:v.type)&&void 0!==p?p:m?"spiderweb":"circle",g=this.makeRenderOptions(r,y,l);this.models.plot=this.renderPlot(g),this.models.line=o.radialBar?this.renderLine(g):[]}}},{key:"makeRenderOptionsOnGauge",value:function(e,t,n,r){var i=t.angle,o=i.total,a=i.start,s=t.radius.outer,l=t.clockwise,c=t.centerX,u=t.centerY,f=t.band,d=f.width,h=f.margin;return{centerX:c,centerY:u,clockwise:l,totalAngle:o,scaleMaxLimitValue:e?n.length:nR(r.circularAxis,o),startAngle:a,outerRadius:s,bandWidth:d,bandMargin:h,hasCategoryAxis:e}}},{key:"makeRenderOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.verticalAxis,i=r.centerX,o=r.centerY,a=r.radius,s=a.ranges,l=a.inner,c=a.outer,u=e.circularAxis,f=u.angle,d=f.central,h=f.total,p=f.start,v=f.end,m=f.drawingStart,y=u.label.labels,g=u.tickInterval,b=u.clockwise,w=h!==Mt,x=y.length;return{type:t,categories:n,centralAngle:d,centerX:i,centerY:o,initialRadius:l,radius:c,radiusRanges:s,lineCount:x,tickInterval:g,drawingStartAngle:m,usingArcPlot:w,startAngle:p,endAngle:v,clockwise:b}}},{key:"renderPlot",value:function(e){var t=e.type,n=e.usingArcPlot;return n?this.makeArc(e):"spiderweb"===t?this.makeSpiderwebPlot(e):this.makeCirclePlot(e)}},{key:"makeSpiderwebPlot",value:function(e){var t=e.centralAngle,n=e.centerX,r=e.centerY,i=e.categories,o=e.radiusRanges,a=this.circularAxisTheme,s=a.strokeStyle,l=a.lineWidth;return o.map((function(e){var o=i.map((function(i,o){return It(n,r,e,_t(t*o))}));return{type:"polygon",color:s,lineWidth:l,points:o}}))}},{key:"makeCirclePlot",value:function(e){var t=e.centerX,n=e.centerY,r=e.radiusRanges,i=this.circularAxisTheme,o=i.strokeStyle,a=i.lineWidth;return r.map((function(e){return{type:"circle",color:"rgba(0, 0, 0, 0)",radius:e,x:t,y:n,borderColor:o,borderWidth:a}}))}},{key:"makeArc",value:function(e){var t=e.centerX,n=e.centerY,r=e.radiusRanges,i=e.startAngle,o=e.endAngle,a=e.clockwise,s=this.circularAxisTheme,l=s.strokeStyle,c=s.lineWidth;return r.map((function(e){return{type:"arc",borderWidth:c,borderColor:l,x:t,y:n,angle:{start:i,end:o},drawingStartAngle:Tt,radius:e,clockwise:a}}))}},{key:"renderLine",value:function(e){var t=e.centerX,n=e.centerY,r=e.initialRadius,i=e.radius,o=e.lineCount,a=e.centralAngle,s=e.tickInterval,l=e.drawingStartAngle,c=e.clockwise,u=this.circularAxisTheme,f=u.strokeStyle,d=u.lineWidth;return I(0,o).reduce((function(e,o,u){var h=l+a*u*(c?1:-1),p=It(t,n,r,_t(h)),v=p.x,m=p.y,y=It(t,n,i,_t(h)),g=y.x,b=y.y;return u%s===0?[].concat(zP(e),[{type:"line",x:v,y:m,x2:g,y2:b,strokeStyle:f,lineWidth:d}]):e}),[])}},{key:"renderBands",value:function(e,t,n){var r=[],i=t.centerX,o=t.centerY,a=t.clockwise,s=t.totalAngle,l=t.scaleMaxLimitValue,c=t.startAngle,u=t.outerRadius,f=t.bandWidth,d=t.bandMargin,h=t.hasCategoryAxis;return e.forEach((function(e,t){var p=e.range,v=e.color,m=h?rR(n,p[1].toString())-rR(n,p[0].toString()):Number(p[1])-Number(p[0]),y=m/l*s*(a?1:-1),g=Ut(y),b=r[r.length-1],w=t&&b?b.degree.end:c,x=Ut(w+g);r.push({type:"sector",color:v,x:i,y:o,clockwise:a,degree:{start:w,end:x},radius:{inner:u+d,outer:u+f}})})),r}}]),n}(Kn);function oR(e){return oR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oR(e)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aR(Object(n),!0).forEach((function(t){OR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lR(e){return dR(e)||fR(e)||uR(e)||cR()}function cR(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uR(e,t){if(e){if("string"===typeof e)return hR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hR(e,t):void 0}}function fR(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function dR(e){if(Array.isArray(e))return hR(e)}function hR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mR(e,t,n){return t&&vR(e.prototype,t),n&&vR(e,n),e}function yR(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gR(e,t)}function gR(e,t){return gR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gR(e,t)}function bR(e){var t=kR();return function(){var n,r=SR(e);if(t){var i=SR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wR(this,n)}}function wR(e,t){return!t||"object"!==oR(t)&&"function"!==typeof t?xR(e):t}function xR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kR(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function SR(e){return SR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},SR(e)}function OR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CR=4,ER=5;function MR(e,t,n,r,i){return!(!t&&0===e)&&(!(e%n)&&(t&&r<=i||!t&&r<i))}var AR=function(e){yR(n,e);var t=bR(n);function n(){var e;pR(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),OR(xR(e),"models",{verticalAxisLabel:[],circularAxisLabel:[],dot:[],line:[],tick:[]}),OR(xR(e),"verticalAxisTheme",void 0),OR(xR(e),"circularAxisTheme",void 0),e}return mR(n,[{key:"initialize",value:function(e){var t;this.type="axis",this.name=null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"radial"}},{key:"render",value:function(e){var t=e.layout,n=e.radialAxes,r=e.theme,i=e.series;if(this.isShow=!hc(i),this.rect=t.plot,n){this.circularAxisTheme=r.circularAxis;var o=n.circularAxis,a=n.verticalAxis;a&&(this.verticalAxisTheme=r.verticalAxis,this.models.verticalAxisLabel=this.renderVerticalAxisLabel(a)),this.models.circularAxisLabel=this.renderCircularAxisLabel(o),"gauge"===this.name?(this.models.line=this.renderArcLine(o),this.models.tick=this.renderTick(o)):this.models.dot=this.renderDotModel(o)}}},{key:"getBubbleShadowStyle",value:function(){var e=this.verticalAxisTheme.label.textBubble,t=e.visible,n=e.shadowColor,r=e.shadowOffsetX,i=e.shadowOffsetY,o=e.shadowBlur;return t&&n?[{shadowColor:n,shadowOffsetX:r,shadowOffsetY:i,shadowBlur:o}]:null}},{key:"renderVerticalAxisLabel",value:function(e){var t=this,n=e.radius,r=n.ranges,i=n.outer,o=e.label,a=o.labels,s=o.interval,l=o.maxWidth,c=o.maxHeight,u=o.margin,f=o.align,d=e.angle.start,h=e.pointOnColumn,p=e.centerX,v=e.centerY,m=e.tickDistance,y=h?m/2:0,g=st(this.verticalAxisTheme.label),b=this.verticalAxisTheme.label.textBubble,w=b.visible,x=b.backgroundColor,k=b.borderRadius,S=b.borderColor,O=b.borderWidth,C=b.paddingX,E=b.paddingY,M=w?C:0,A=w?E:0,T=l+2*M-u,P=c+2*A,R=this.verticalAxisTheme.label.color;return r.reduce((function(e,n,r){var o=It(p,v,n-y,_t(d)),l=o.x,c=o.y,m=MR(r,h,s,n,i),b=l+u,w=l+u+M;return"center"===f?(b=l-u-T/2,w=l-u):B(["right","end"],f)&&(b=l-u-T,w=l-u-M),m?[].concat(lR(e),[{type:"bubbleLabel",rotationPosition:{x:l,y:c},radian:_t(d,0),bubble:{x:b,y:c-P/2,width:T,height:P,align:f,radius:k,fill:x,lineWidth:O,strokeStyle:S,style:t.getBubbleShadowStyle()},label:{text:a[r],x:w,y:c,style:[{font:g,fillStyle:R,textAlign:f,textBaseline:"middle"}]}}]):e}),[])}},{key:"renderDotModel",value:function(e){var t=e.angle,n=t.central,r=t.drawingStart,i=e.label,o=i.labels,a=i.interval,s=e.radius.outer,l=e.centerX,c=e.centerY,u=e.clockwise,f=this.circularAxisTheme.dotColor;return o.reduce((function(e,t,i){var o=r+n*i*(u?1:-1),d=It(l,c,s,_t(Ut(o))),h=d.x,p=d.y;return i%a===0?[].concat(lR(e),[{type:"rect",color:f,width:CR,height:CR,x:h-CR/2,y:p-CR/2}]):e}),[])}},{key:"renderCircularAxisLabel",value:function(e){var t=e.centerX,n=e.centerY,r=e.clockwise,i=e.label,o=i.labels,a=i.interval,s=i.margin,l=i.maxHeight,c=e.angle,u=c.drawingStart,f=c.central,d=e.radius.outer,h=d+(s+l/2)*("gauge"===this.name?-1:1),p=this.circularAxisTheme.label,v=st(p),m=f*(r?1:-1);return o.reduce((function(e,r,i){var o=u+m*i,s=Ut(o);return i%a===0?[].concat(lR(e),[sR({type:"label",style:[{textAlign:"center",textBaseline:"middle",font:v,fillStyle:p.color}],text:r},It(t,n,h,_t(s)))]):e}),[])}},{key:"renderTick",value:function(e){var t=e.centerX,n=e.centerY,r=e.tickInterval,i=e.clockwise,o=e.angle,a=o.central,s=o.drawingStart,l=e.label.labels,c=e.radius.outer,u=this.circularAxisTheme.tick,f=u.strokeStyle,d=u.lineWidth;return l.reduce((function(e,o,l){var u=s+a*l*(i?1:-1),h=It(t,n,c-ER,_t(Ut(u))),p=h.x,v=h.y,m=It(t,n,c+ER,_t(Ut(u))),y=m.x,g=m.y;return l%r===0?[].concat(lR(e),[{type:"line",lineWidth:d,strokeStyle:f,x:p,y:v,x2:y,y2:g}]):e}),[])}},{key:"renderArcLine",value:function(e){var t=e.centerX,n=e.centerY,r=e.clockwise,i=e.angle,o=i.start,a=i.end,s=i.total,l=e.radius.outer,c=this.circularAxisTheme,u=c.strokeStyle,f=c.lineWidth;return s===Mt?[{type:"circle",x:t,y:n,radius:l,borderWidth:f,borderColor:u,color:"rgba(0, 0, 0, 0)"}]:[{type:"arc",borderWidth:f,borderColor:u,x:t,y:n,angle:{start:o,end:a},drawingStartAngle:Tt,radius:l,clockwise:r}]}}]),n}(Kn);function TR(e){return TR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TR(e)}function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PR(Object(n),!0).forEach((function(t){DR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LR(e,t,n){return t&&jR(e.prototype,t),n&&jR(e,n),e}function IR(e,t,n){return IR="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=NR(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},IR(e,t,n||e)}function NR(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=VR(e),null===e)break;return e}function BR(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zR(e,t)}function zR(e,t){return zR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zR(e,t)}function HR(e){var t=UR();return function(){var n,r=VR(e);if(t){var i=VR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return WR(this,n)}}function WR(e,t){return!t||"object"!==TR(t)&&"function"!==typeof t?FR(e):t}function FR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UR(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function VR(e){return VR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VR(e)}var qR=function(n){BR(o,n);var r=HR(o);function o(e){var t=e.el,n=e.options,i=e.data;return _R(this,o),r.call(this,{el:t,options:n,series:{radar:i.series},categories:i.categories,modules:[qf,rh,ri]})}return LR(o,[{key:"initialize",value:function(){IR(VR(o.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(Lm),this.componentManager.add(iR),this.componentManager.add(AR),this.componentManager.add(NP),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,c,e,f,s,i,u])}},{key:"addData",value:function(e,t){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e,category:t})}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{radar:n},categories:t})}},{key:"setOptions",value:function(e){this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",RR(RR({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),o}(Ef);function YR(e){return KR(e)||XR(e)||GR(e)||$R()}function $R(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function GR(e,t){if(e){if("string"===typeof e)return ZR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZR(e,t):void 0}}function XR(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function KR(e){if(Array.isArray(e))return ZR(e)}function ZR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JR(e,t,n){return t*n/gn(e)}function QR(e){var t=e.height,n=e.width;return t<n}function eD(e){return QR(e)?e.height:e.width}function tD(e,t){var n=t.width,r=t.height,i=JR(In(e,"data"),n,r);return e.map((function(e){return{id:e.id,weight:e.data*i}})).sort((function(e,t){return t.weight-e.weight}))}function nD(e,t,n,r){var i=e*e,o=r*r;return Math.max(o*n/i,i/(o*t))}function rD(e,t,n,r){var i=Math.min.apply(Math,YR(t)),o=Math.max.apply(Math,YR(t)),a=nD(e,i,o,n),s=nD(e+r,Math.min(i,r),Math.max(o,r),n);return s>=a}function iD(e,t,n){if(!t){var r=In(n,"weight");t=gn(r)}return t/e}function oD(e,t,n,r){t.reduce((function(e,t){var i=t.weight/n;return r(i,e,t.id),e+i}),e)}function aD(e,t,n){e[t]=n}function sD(e,t,n,r,i){var o=iD(r,i,t);oD(n.y,t,o,(function(t,r,i){aD(e,i,{x:n.x,y:r,width:o,height:t})})),n.x+=o,n.width-=o}function lD(e,t,n,r,i){var o=iD(r,i,t);oD(n.x,t,o,(function(t,r,i){aD(e,i,{x:r,y:n.y,width:t,height:o})})),n.y+=o,n.height-=o}function cD(e){return QR(e)?sD:lD}function uD(e,t){var n,r,i=e,o=tD(t,i),a=[],s={};return o.forEach((function(e){var t=In(a,"weight"),o=gn(t);a.length&&rD(o,t,n,e.weight)&&(r(s,a,i,n,o),a=[]),a.length||(n=eD(i),r=cD(i)),a.push(e)})),a.length&&r(s,a,i,n),s}function fD(e){return fD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fD(e)}function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dD(Object(n),!0).forEach((function(t){PD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pD(e){return gD(e)||yD(e)||mD(e)||vD()}function vD(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mD(e,t){if(e){if("string"===typeof e)return bD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bD(e,t):void 0}}function yD(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function gD(e){if(Array.isArray(e))return bD(e)}function bD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kD(e,t,n){return t&&xD(e.prototype,t),n&&xD(e,n),e}function SD(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OD(e,t)}function OD(e,t){return OD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},OD(e,t)}function CD(e){var t=AD();return function(){var n,r=TD(e);if(t){var i=TD(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ED(this,n)}}function ED(e,t){return!t||"object"!==fD(t)&&"function"!==typeof t?MD(e):t}function MD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AD(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function TD(e){return TD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},TD(e)}function PD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RD=function(e){SD(n,e);var t=CD(n);function n(){var e;wD(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),PD(MD(e),"models",{series:[],layer:[]}),PD(MD(e),"responders",void 0),PD(MD(e),"theme",void 0),PD(MD(e),"activatedResponders",[]),PD(MD(e),"zoomable",void 0),PD(MD(e),"onMouseoutComponent",(function(){e.emitMouseEvent([])})),PD(MD(e),"selectSeries",(function(t){var n=t.seriesIndex;if(T(n)){var r=e.responders.find((function(e){var t=e.indexes;return K(t)===n}));if(!r)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);var i=e.getRespondersWithTheme([r],"select");e.eventBus.emit("renderSelectedSeries",{models:i,name:e.name}),e.eventBus.emit("needDraw")}})),PD(MD(e),"showTooltip",(function(t){var n=t.seriesIndex;if(T(n)){var r=e.responders.find((function(e){var t=e.indexes;return K(t)===n}));r&&e.emitMouseEvent([r])}})),e}return kD(n,[{key:"initialize",value:function(){this.type="series",this.name="treemap",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"getAllChildSeries",value:function(e,t){var n=this,r=[];return e.forEach((function(i){if(i.parentId===t&&(r.push(i),i.hasChild)){var o=n.getAllChildSeries(e,i.id);r.push.apply(r,pD(o))}})),r}},{key:"render",value:function(e){var t,n,r=e.layout,i=e.treemapSeries,o=e.colorValueScale,a=e.options,s=e.theme,l=e.treemapZoomId;if(!i)throw new Error(ae.noDataError(this.name));var c=l.cur,u=this.getAllChildSeries(i,c);if(this.theme=s.series.treemap,this.rect=r.plot,this.selectable=this.getSelectableOption(a),this.models=this.renderTreemapSeries(u,a,o,c),this.zoomable=null!==(t=null===(n=a.series)||void 0===n?void 0:n.zoomable)&&void 0!==t&&t,Gv(a,this.name).visible){var f,d,h,p=null!==(f=null===(d=a.series)||void 0===d||null===(h=d.dataLabels)||void 0===h?void 0:h.useTreemapLeaf)&&void 0!==f&&f,v=this.makeDataLabel(p,c);this.renderDataLabels(v)}this.responders=this.makeTreemapSeriesResponder(c)}},{key:"makeTreemapSeriesResponder",value:function(e){var t=this.makeTooltipData(),n=this.models.series;return this.zoomable&&(n=n.filter((function(t){var n=t.parentId;return n===e}))),n.map((function(e,n){return hD(hD({},e),{},{data:t[n],thickness:Yl.HOVER_THICKNESS,style:["shadow"]})}))}},{key:"makeTooltipData",value:function(){return this.models.series.map((function(e){var t=e.label,n=e.data,r=e.color;return{label:t,color:r,value:n}}))}},{key:"makeBoundMap",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.filter((function(e){return e.parentId===t}));return i=hD(hD({},i),uD(hD({},n),o)),o.forEach((function(t){i=r.makeBoundMap(e,t.id,i[t.id],i)})),i}},{key:"makeDataLabel",value:function(e,t){var n=e?this.models.series.filter((function(e){var t=e.hasChild;return!t})):this.models.series.filter((function(e){var n=e.parentId;return n===t})),r=this.theme.dataLabels;return n.map((function(e){return hD(hD({},e),{},{type:"treemapSeriesName",value:e.label,direction:"left",plot:{x:0,y:0,size:0},theme:hD(hD({},r),{},{color:r.useSeriesColor?e.color:r.color})})}))}},{key:"getColor",value:function(e,t){var n=e.indexes,r=X(n);return t[r]}},{key:"getOpacity",value:function(e){var t=e.indexes,n=e.depth,r=K(t);return 1===t.length?0:Number((.1*n+.05*r).toFixed(2))}},{key:"renderTreemapSeries",value:function(e,t,n,r){var i,o,a,s,l,c=this,u=[],f=this.makeBoundMap(e,r,hD(hD({},this.rect),{},{x:0,y:0})),d=this.theme,h=d.colors,p=d.startColor,v=d.endColor,m=d.borderWidth,y=d.borderColor,g=null!==(i=null===(o=t.series)||void 0===o?void 0:o.useColorValue)&&void 0!==i&&i;g&&p&&v&&(s=Ze(p),l=sk(s,Ze(v)));var b=Object.keys(f).map((function(t){var r,i=e.find((function(e){return e.id===t}));return g&&(r=lk(n.limit,i.colorValue)),hD(hD(hD({},i),f[t]),{},{type:"rect",colorRatio:r,color:g?ck(r,l,s):c.getColor(i,h),opacity:g?0:c.getOpacity(i),thickness:m,borderColor:y})}));return null!==(a=t.series)&&void 0!==a&&a.useColorValue||(u=b.map((function(e){return hD(hD({},e),{},{color:Qe("#000000",e.opacity)})}))),{series:b,layer:u}}},{key:"getRespondersWithTheme",value:function(e,t){var n=this;return e.map((function(e){return V(e,hD(hD({},n.theme[t]),{},{style:["shadow"]}))}))}},{key:"onClick",value:function(e){var t=e.responders;if(t.length)if(this.zoomable){var n=t[0],r=n.id,i=n.hasChild;i?(this.emitMouseEvent([]),this.store.dispatch("setTreemapZoomId",r),this.eventBus.emit("resetSelectedSeries")):this.selectable&&this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(t,"select"),name:this.name})}else if(this.selectable){var o=gv(t);this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(o,"select"),name:this.name})}}},{key:"onMousemove",value:function(e){var t=e.responders,n=gv(t);this.activatedResponders=n,this.emitMouseEvent(n)}},{key:"emitMouseEvent",value:function(e){this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(e,"hover"),name:this.name}),this.eventBus.emit("seriesPointHovered",{models:e,name:this.name}),this.eventBus.emit("renderSpectrumTooltip",e),this.eventBus.emit("needDraw")}}]),n}(Kn);function DD(e){return DD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DD(e)}function _D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LD(e,t,n){return t&&jD(e.prototype,t),n&&jD(e,n),e}function ID(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ND(e,t)}function ND(e,t){return ND=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ND(e,t)}function BD(e){var t=WD();return function(){var n,r=FD(e);if(t){var i=FD(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zD(this,n)}}function zD(e,t){return!t||"object"!==DD(t)&&"function"!==typeof t?HD(e):t}function HD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function FD(e){return FD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},FD(e)}function UD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VD=function(e){ID(n,e);var t=BD(n);function n(){var e;_D(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),UD(HD(e),"responders",void 0),UD(HD(e),"models",void 0),e}return LD(n,[{key:"initialize",value:function(){this.type="backButton",this.name="backButton"}},{key:"onClick",value:function(e){var t=e.responders;t.length&&(this.store.dispatch("zoomBack"),this.eventBus.emit("resetSelectedSeries"))}},{key:"render",value:function(e,t){var n=e.options,r=e.layout;ms(n)&&(this.rect=r.resetButton,this.isShow=t.isTreemapSeriesZooming,this.models=this.isShow?[{type:"backButton",x:0,y:0}]:[],this.responders=this.isShow?[{type:"rect",x:0,y:0,width:ma,height:ma}]:[])}}]),n}(Kn);function qD(e){return qD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qD(e)}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YD(Object(n),!0).forEach((function(t){GD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZD(e,t,n){return t&&KD(e.prototype,t),n&&KD(e,n),e}function JD(e,t,n){return JD="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=QD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},JD(e,t,n||e)}function QD(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=a_(e),null===e)break;return e}function e_(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t_(e,t)}function n_(e){var t=o_();return function(){var n,r=a_(e);if(t){var i=a_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return r_(this,n)}}function r_(e,t){return!t||"object"!==qD(t)&&"function"!==typeof t?i_(e):t}function i_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o_(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a_(e){return a_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a_(e)}var s_=function(n){e_(i,n);var r=n_(i);function i(e){return XD(this,i),r.call(this,{el:e.el,options:e.options,series:{treemap:e.data.series},modules:[Sx,Rx]})}return ZD(i,[{key:"initialize",value:function(){JD(a_(i.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(ek),this.componentManager.add(RD),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(VD),this.componentManager.add(Bb),this.painter.addGroups([t,c,e,f,o,a,d])}},{key:"addSeries",value:function(e,t){this.resetSeries(),this.store.dispatch("addTreemapSeries",$D({data:e},t))}},{key:"setData",value:function(e){this.resetSeries(),this.store.dispatch("setData",{series:{treemap:e.series}})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",$D($D({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),i}(Ef);function l_(e){return l_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l_(e)}function c_(e){return d_(e)||f_(e)||v_(e)||u_()}function u_(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f_(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d_(e){if(Array.isArray(e))return m_(e)}function h_(e,t){return g_(e)||y_(e,t)||v_(e,t)||p_()}function p_(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v_(e,t){if(e){if("string"===typeof e)return m_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m_(e,t):void 0}}function m_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y_(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){s=!0,i=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function g_(e){if(Array.isArray(e))return e}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b_(Object(n),!0).forEach((function(t){R_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S_(e,t,n){return t&&k_(e.prototype,t),n&&k_(e,n),e}function O_(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C_(e,t)}function E_(e){var t=T_();return function(){var n,r=P_(e);if(t){var i=P_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(e,t){return!t||"object"!==l_(t)&&"function"!==typeof t?A_(e):t}function A_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T_(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function P_(e){return P_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P_(e)}function R_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D_=5;function __(e,t,n){return(e-t*n)/(n+1)}function j_(e,t){return null!==t&&void 0!==t?t:e}var L_=function(e){O_(n,e);var t=E_(n);function n(){var e;x_(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),R_(A_(e),"models",{rect:[],line:[],circle:[]}),R_(A_(e),"drawModels",void 0),R_(A_(e),"responders",void 0),R_(A_(e),"activatedResponders",[]),R_(A_(e),"eventDetectType","point"),R_(A_(e),"tooltipRectMap",void 0),R_(A_(e),"theme",void 0),R_(A_(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name,eventDetectType:e.eventDetectType}),e.eventBus.emit("needDraw")})),R_(A_(e),"selectSeries",(function(t){var n=t.index,r=t.seriesIndex,i=t.state;if(T(n)&&T(r)){var o=i.series.boxPlot[r].name,a=e.getRespondersWithTheme(e.tooltipRectMap["".concat(o,"-").concat(n)],"select");e.eventBus.emit("renderSelectedSeries",{models:a,name:e.name,eventDetectType:e.eventDetectType}),e.eventBus.emit("needDraw")}})),R_(A_(e),"showTooltip",(function(t){var n=t.index,r=t.seriesIndex,i=t.state;if(T(n)&&T(r)){var o=i.series.boxPlot[r].name,a=e.getRespondersWithTheme(e.tooltipRectMap["".concat(o,"-").concat(n)],"hover");e.eventBus.emit("renderHoveredSeries",{models:a,name:e.name,eventDetectType:e.eventDetectType}),e.activatedResponders=a,e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw")}})),e}return S_(n,[{key:"initialize",value:function(){this.type="series",this.name="boxPlot",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"render",value:function(e){var t,n=e.layout,r=e.axes,i=e.series,o=e.scale,a=e.legend,s=e.options,l=e.theme;if(!i.boxPlot)throw new Error(ae.noDataError(this.name));null!==s&&void 0!==s&&null!==(t=s.series)&&void 0!==t&&t.eventDetectType&&(this.eventDetectType=s.series.eventDetectType),this.theme=l.series.boxPlot,this.rect=n.plot,this.activeSeriesMap=yc(a),this.selectable=this.getSelectableOption(s);var c=e.categories,u=r.xAxis.tickDistance,f=o.yAxis.limit,d=f.min,h=f.max,p=i.boxPlot.data,v=p.length,m=w_({ratio:this.rect.height/(h-d),tickDistance:u},this.getBarWidths(u,v)),y=this.makeBoxPlots(p,m),g=this.renderSeriesModels(y);this.models=g,this.drawModels||(this.drawModels={rect:g.rect.map((function(e){return w_(w_({},e),{},{y:e.y+e.height,height:0})})),line:g.line,circle:g.circle});var b=this.makeTooltipModel(p,c);this.tooltipRectMap=this.makeTooltipRectMap(y,b),this.responders="grouped"===this.eventDetectType?this.makeGroupedResponderModel(y):this.makeDefaultResponderModel(y,b)}},{key:"makeTooltipRectMap",value:function(e,t){var n=this,r={};return e.forEach((function(e,i){if(!M(e)){var o="".concat(e.name,"-").concat(e.index);r[o]||(r[o]=[]),r[o].push(w_(w_({},n.makeHoveredModel(e)),{},{data:t[i]}))}})),r}},{key:"makeGroupedResponderModel",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=e.type,i=e.index,o=e.name,a="".concat(o,"-").concat(i);if("boxPlot"===r&&!n[a]){var s=e,l=s.boxPlotDetection;n.push(w_(w_({type:"rect",name:a},l),{},{y:0,height:t.rect.height}))}})),n}},{key:"makeDefaultResponderModel",value:function(e,t){var n=this;return e.map((function(e,r){return w_(w_({},n.makeHoveredModel(e)),{},{data:t[r],color:Qe(e.color,1)})}))}},{key:"makeHoveredModel",value:function(e){var t="boxPlot"===e.type&&e.rect?{x:e.rect.x,y:e.rect.y}:{x:e.x,y:e.y},n=w_({},e);return"boxPlot"===e.type&&(["lowerWhisker","upperWhisker","maximum","minimum","median"].forEach((function(t){e[t]&&(e[t].detectionSize=3)})),e.color=Qe(n.color,1)),w_(w_({},n),t)}},{key:"getResponderModelFromMap",value:function(e){if(!e.length)return[];var t=e[0].name;return this.tooltipRectMap[t]}},{key:"onMousemove",value:function(e){var t=e.responders;if("grouped"===this.eventDetectType){var n=this.getResponderModelFromMap(t);this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(n,"select"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=n}else this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(t,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t;this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"onClick",value:function(e){var t,n=e.responders;this.selectable&&(t="grouped"===this.eventDetectType?this.getRespondersWithTheme(this.getResponderModelFromMap(n),"select"):this.getRespondersWithTheme(n,"select"),this.eventBus.emit("renderSelectedSeries",{models:t,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw"))}},{key:"renderSeriesModels",value:function(e){return e.reduce((function(e,t){var n=t.type,r=t.name;return"boxPlot"===n?(e.rect.push(w_({name:r},t.rect)),["maximum","minimum","median","upperWhisker","lowerWhisker"].forEach((function(n){e.line.push(w_({name:r},t[n]))}))):e.circle.push(w_({},t)),e}),{rect:[],line:[],circle:[]})}},{key:"makeBoxPlots",value:function(e,t){var n=this,r=t.ratio,i=t.barWidth,o=[],a=e.length,s=this.theme.dot;return e.forEach((function(e,l){var c=e.outliers,u=e.data,f=e.name,d=e.color,h=n.getSeriesColor(f,d);(null!==u&&void 0!==u?u:[]).forEach((function(e,r){if(!M(e)){var s=n.getStartX(l,r,t,a),c=n.getRect(e,s,h,t);o.push(w_(w_({type:"boxPlot",color:h,name:f,rect:c,median:n.getMedian(e,s,h,t),minimum:n.getMinimum(e,s,h,t),maximum:n.getMaximum(e,s,h,t)},n.getWhisker(e,s,h,t,c)),{},{index:r,boxPlotDetection:{x:s,width:i}}))}}));var p=s,v=p.color,m=p.radius,y=p.borderColor,g=p.borderWidth,b=p.useSeriesColor;(null!==c&&void 0!==c?c:[]).forEach((function(e){var s=h_(e,2),c=s[0],u=s[1],d=n.getStartX(l,c,t,a);o.push({type:"circle",name:f,x:d+i/2,y:n.getYPos(u,r),radius:m,style:[{strokeStyle:null!==y&&void 0!==y?y:h,lineWidth:g}],color:b?h:v,index:c})}))})),o}},{key:"makeTooltipModel",value:function(e,t){var n=[];return e.forEach((function(e){var r=e.outliers,i=e.data,o=e.name,a=e.color;(null!==i&&void 0!==i?i:[]).forEach((function(e,r){if(!M(e)){var i=c_(e).reverse();n.push({label:o,color:a,value:["Maximum","Upper Quartile","Median","Lower Quartile","Minimum"].reduce((function(e,t,n){var r=i[n];return M(r)?e:[].concat(c_(e),[{title:t,value:r}])}),[]),category:t[r],templateType:"boxPlot"})}})),(null!==r&&void 0!==r?r:[]).forEach((function(e){if(!M(e)){var r=h_(e,2),i=r[0],s=r[1];n.push({label:o,color:a,value:[{title:"Outlier",value:s}],category:t[i],templateType:"boxPlot"})}}))})),n}},{key:"getStartX",value:function(e,t,n,r){var i=n.tickDistance,o=n.barWidth,a=__(i,o,r);return t*i+(e+1)*a+o*e}},{key:"getYPos",value:function(e,t,n){return T(n)?kn(this.rect.height-e*t,n):this.rect.height-e*t}},{key:"getBarWidths",value:function(e,t){var n=this.theme,r=n.barWidth,i=n.barWidthRatios,o=i.barRatio,a=i.minMaxBarRatio,s=Math.max((e-ft(e)*(t-1+2))/t,D_),l=r?re(e/t,r):s;return{barWidth:l*o,minMaxBarWidth:l*a}}},{key:"getRespondersWithTheme",value:function(e,t){var n=this.theme[t],r=n.color,i=n.rect,o=n.dot,a=n.line,s=n.shadowColor,l=n.shadowOffsetX,c=n.shadowOffsetY,u=n.shadowBlur,f=a,d=f.whisker,h=f.median,p=f.maximum,v=f.minimum,m=o,y=m.color,g=m.radius,b=m.borderColor,w=m.borderWidth,x=m.useSeriesColor;return e.map((function(e){var t,n=e.type,o=e.data,a=e.color;if("circle"===n)a=o.color,t=w_(w_({},e),{},{radius:g,color:x?a:y,style:[{strokeStyle:j_(a,b),lineWidth:w}]});else{var f=e,m=f.rect,k=f.upperWhisker,S=f.lowerWhisker,O=f.median,C=f.maximum,E=f.minimum;t=w_(w_({},e),{},{rect:w_(w_({},m),{},{color:null!==r&&void 0!==r?r:Qe(a,1),thickness:i.borderWidth,borderColor:i.borderColor,style:[{shadowColor:s,shadowOffsetX:l,shadowOffsetY:c,shadowBlur:u}]}),upperWhisker:w_(w_({},k),{},{strokeStyle:j_(a,d.color),lineWidth:d.lineWidth}),lowerWhisker:w_(w_({},S),{},{strokeStyle:j_(a,d.color),lineWidth:d.lineWidth}),median:w_(w_({},O),{},{strokeStyle:j_(a,h.color),lineWidth:h.lineWidth}),maximum:w_(w_({},C),{},{strokeStyle:j_(a,p.color),lineWidth:p.lineWidth}),minimum:w_(w_({},E),{},{strokeStyle:j_(a,v.color),lineWidth:v.lineWidth})})}return t}))}},{key:"getRect",value:function(e,t,n,r){var i=r.barWidth,o=r.ratio,a=this.theme.rect,s=h_(e,4),l=s[1],c=s[3];return{type:"rect",x:t,y:this.getYPos(c,o),width:i,height:(c-l)*o,thickness:a.borderWidth,borderColor:a.borderColor,color:n}}},{key:"getWhisker",value:function(e,t,n,r,i){var o=r.barWidth,a=r.ratio,s=h_(e,5),l=s[0],c=s[4],u=this.theme.line.whisker,f=u.lineWidth,d=u.color,h=kn(t+o/2,f);return{upperWhisker:{type:"line",x:h,y:this.getYPos(c,a,f),x2:h,y2:i.y,strokeStyle:null!==d&&void 0!==d?d:n,lineWidth:f},lowerWhisker:{type:"line",x:h,y:this.getYPos(l,a,f),x2:h,y2:kn(i.y+i.height,f),strokeStyle:null!==d&&void 0!==d?d:n,lineWidth:f}}}},{key:"getMedian",value:function(e,t,n,r){var i=r.barWidth,o=r.ratio,a=e[2],s=this.theme.line.median,l=s.lineWidth,c=s.color;return{type:"line",x:kn(t,l),y:this.getYPos(a,o,l),x2:kn(t+i,l),y2:this.getYPos(a,o,l),strokeStyle:null!==c&&void 0!==c?c:n,lineWidth:l}}},{key:"getMinimum",value:function(e,t,n,r){var i=r.barWidth,o=r.ratio,a=r.minMaxBarWidth,s=e[0],l=this.theme.line.minimum,c=l.lineWidth,u=l.color;return{type:"line",x:kn(t+(i-a)/2,c),y:this.getYPos(s,o,c),x2:kn(t+(i-a)/2+a,c),y2:this.getYPos(s,o,c),strokeStyle:null!==u&&void 0!==u?u:n,lineWidth:c}}},{key:"getMaximum",value:function(e,t,n,r){var i=r.barWidth,o=r.ratio,a=r.minMaxBarWidth,s=e[4],l=this.theme.line.maximum,c=l.lineWidth,u=l.color;return{type:"line",x:kn(t+(i-a)/2,c),y:this.getYPos(s,o,c),x2:kn(t+(i-a)/2+a,c),y2:this.getYPos(s,o,c),strokeStyle:null!==u&&void 0!==u?u:n,lineWidth:c}}},{key:"getSeriesColor",value:function(e,t){var n=this.theme,r=n.select,i=n.areaOpacity,o=this.activeSeriesMap[e],a=Object.values(this.activeSeriesMap).some((function(e){return!e})),s=o?r.areaOpacity:r.restSeries.areaOpacity,l=a?s:i;return Qe(t,l)}}]),n}(Kn);function I_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I_(Object(n),!0).forEach((function(t){B_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z_(e,t){var n=t.rect,r=t.upperWhisker,i=t.lowerWhisker,o=t.median,a=t.minimum,s=t.maximum;a&&Xt(e,N_({type:"line"},a)),i&&Xt(e,N_({type:"line"},i)),n&&Kt(e,N_({type:"rect"},n)),r&&Xt(e,N_({type:"line"},r)),s&&Xt(e,N_({type:"line"},s)),o&&Xt(e,N_({type:"line"},o))}function H_(e){return H_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H_(e)}function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W_(Object(n),!0).forEach((function(t){U_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y_(e,t,n){return t&&q_(e.prototype,t),n&&q_(e,n),e}function $_(e,t,n){return $_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=G_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},$_(e,t,n||e)}function G_(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=tj(e),null===e)break;return e}function X_(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K_(e,t)}function K_(e,t){return K_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K_(e,t)}function Z_(e){var t=ej();return function(){var n,r=tj(e);if(t){var i=tj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J_(this,n)}}function J_(e,t){return!t||"object"!==H_(t)&&"function"!==typeof t?Q_(e):t}function Q_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ej(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tj(e){return tj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tj(e)}var nj=function(n){X_(o,n);var r=Z_(o);function o(e){var t=e.el,n=e.options,i=e.data,a=i.series,s=i.categories;return V_(this,o),r.call(this,{el:t,options:n,series:{boxPlot:a},categories:s,modules:[qf,rh,Oo,xh]})}return Y_(o,[{key:"initialize",value:function(){$_(tj(o.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(rv),this.componentManager.add(Lm),this.componentManager.add(L_),this.componentManager.add(gr,{name:"yAxis"}),this.componentManager.add(gr,{name:"xAxis"}),this.componentManager.add(ky,{name:"xAxis"}),this.componentManager.add(ky,{name:"yAxis"}),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,i,v,c,e,f])}},{key:"addData",value:function(e,t){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:e,category:t})}},{key:"addOutlier",value:function(e,t){this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addOutlier",{seriesIndex:e,outliers:t})}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{boxPlot:n},categories:t})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",F_(F_({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),o}(Ef);function rj(e){return rj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rj(e)}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ij(Object(n),!0).forEach((function(t){kj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aj(e){return uj(e)||cj(e)||lj(e)||sj()}function sj(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lj(e,t){if(e){if("string"===typeof e)return fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fj(e,t):void 0}}function cj(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function uj(e){if(Array.isArray(e))return fj(e)}function fj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pj(e,t,n){return t&&hj(e.prototype,t),n&&hj(e,n),e}function vj(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mj(e,t)}function mj(e,t){return mj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mj(e,t)}function yj(e){var t=wj();return function(){var n,r=xj(e);if(t){var i=xj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gj(this,n)}}function gj(e,t){return!t||"object"!==rj(t)&&"function"!==typeof t?bj(e):t}function bj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xj(e){return xj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xj(e)}function kj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sj=function(e){vj(n,e);var t=yj(n);function n(){var e;dj(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),kj(bj(e),"models",{}),kj(bj(e),"drawModels",void 0),kj(bj(e),"responders",void 0),kj(bj(e),"activatedResponders",[]),kj(bj(e),"eventDetectType","point"),kj(bj(e),"tooltipSectorMap",void 0),kj(bj(e),"theme",void 0),kj(bj(e),"circularAxis",void 0),kj(bj(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name}),e.eventBus.emit("needDraw")})),kj(bj(e),"selectSeries",(function(t){var n,r=t.index,i=t.seriesIndex,o=T(r)&&("grouped"===e.eventDetectType||T(i));if(o){var a="grouped"===e.eventDetectType?[].concat(aj(e.getGroupedSector([e.responders[r]],"select")),aj(e.getRadialBarSectorModelsFromResponders([e.responders[r]]))):null!==(n=e.getResponderModelsWithTheme([e.tooltipSectorMap[r][i]],"select"))&&void 0!==n?n:[];if(!a.length)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:a,name:e.name,eventDetectType:e.eventDetectType}),e.eventBus.emit("needDraw")}})),kj(bj(e),"showTooltip",(function(t){var n=t.index,r=t.seriesIndex;if(fc(t,e.eventDetectType,"radialBar")){var i="grouped"===e.eventDetectType?e.getGroupedSector([e.responders[n]],"hover"):e.getResponderModelsWithTheme([e.tooltipSectorMap[n][r]],"hover");i.length&&(e.eventBus.emit("renderHoveredSeries",{models:i,name:e.name,eventDetectType:e.eventDetectType}),e.activatedResponders="grouped"===e.eventDetectType?e.tooltipSectorMap[n]:i,e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw"))}})),e}return pj(n,[{key:"initUpdate",value:function(e){var t=this;if(this.drawModels){var n,r=this.circularAxis.angle,i=r.start,o=r.total;Object.keys(this.models).forEach((function(r){var a=t.models[r].findIndex((function(t){var r=t.clockwise,a=t.degree,s=a.start,l=a.end;return n=r?i+o*e:i-o*e,Nt(r,s,l,n)}));t.syncEndAngle(a<0?t.models[r].length:a,r),-1!==a&&(t.drawModels[r][a].degree.end=n)}))}}},{key:"syncEndAngle",value:function(e,t){if(!(e<1))for(var n=0;n<e;n+=1){var r=this.models[t][n].degree.end;this.drawModels[t][n].degree.end!==r&&(this.drawModels[t][n].degree.end=r)}}},{key:"initialize",value:function(){this.type="series",this.name="radialBar",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"render",value:function(e){var t,n=this,r=e.layout,i=e.series,o=e.legend,a=e.options,s=e.theme,l=e.stackSeries,c=e.scale,u=e.radialAxes,f=null!==(t=e.categories)&&void 0!==t?t:[];if(!i.radialBar||!l.radialBar)throw new Error(ae.noDataError(this.name));this.theme=s.series.radialBar,this.rect=r.plot,this.activeSeriesMap=yc(o),this.selectable=this.getSelectableOption(a),this.setEventDetectType(a);var d=f.reduce((function(e,t){return e[t]||(e[t]=[]),e}),{}),h=i.radialBar.data;this.circularAxis=u.circularAxis;var p=u.verticalAxis,v=this.makeRenderOptions(p,c.circularAxis,null===a||void 0===a?void 0:a.series),m=this.makeSeriesModelData(h,l.radialBar.stackData,v,d),y=m.categoryMap,g=m.seriesModels,b=this.makeTooltipData(g,f);if(this.models=y,this.drawModels||this.initDrawModels(y),Gv(a,this.name).visible){var w=g.reduce((function(e,t){return[].concat(aj(e),[oj(oj({},t),{},{type:"sector",theme:n.theme.dataLabels})])}),[]);this.renderDataLabels(w)}this.tooltipSectorMap=this.makeTooltipSectorMap(g,b),this.responders=this.makeResponders(p.radius.ranges,g,v,f,b)}},{key:"initDrawModels",value:function(e){var t=this;this.drawModels={},Object.keys(e).forEach((function(n){t.drawModels[n]=e[n].map((function(e){return oj(oj({},e),{},{degree:oj(oj({},e.degree),{},{end:e.degree.start})})}))}))}},{key:"makeResponders",value:function(e,t,n,r,i){return"grouped"===this.eventDetectType?Cv(e,n,r):t.map((function(e,t){return oj(oj({},e),{},{data:oj({},i[t])})}))}},{key:"makeTooltipSectorMap",value:function(e,t){return e.reduce((function(e,n,r){var i=n.index;return e[i]||(e[i]=[]),e[i].push(oj(oj({},n),{},{data:oj({},t[r])})),e}),{})}},{key:"setEventDetectType",value:function(e){var t;null!==e&&void 0!==e&&null!==(t=e.series)&&void 0!==t&&t.eventDetectType&&(this.eventDetectType=e.series.eventDetectType)}},{key:"getBarWidth",value:function(e,t){var n=this.theme.barWidth,r=5;return n?Math.min(e,re(t,n)):e-2*r}},{key:"makeRenderOptions",value:function(e,t,n){var r,i=e.axisSize,o=e.centerX,a=e.centerY,s=e.tickDistance,l=e.radius.ranges,c=e.angle,u=c.start,f=c.end,d=t.limit.max,h=t.stepSize,p=null===(r=null===n||void 0===n?void 0:n.clockwise)||void 0===r||r,v=Br(p,u,f),m=this.getBarWidth(s,i),y=(s-m)/2,g=d+(v<Mt?At:h);return{clockwise:p,centerX:o,centerY:a,radiusRanges:Ft(l,y),angleRange:{start:u,end:f},totalAngle:v,scaleMaxLimitValue:g,startAngle:u}}},{key:"makeSeriesModelData",value:function(e,t,n,r){var i=this,o=n.clockwise,a=n.centerX,s=n.centerY,l=n.radiusRanges,c=n.totalAngle,u=n.scaleMaxLimitValue,f=n.startAngle,d=f,h=this.theme,p=h.lineWidth,v=h.strokeStyle,m=[],y=Object.keys(r),g=Y(r);return t.forEach((function(t,n){var r=t.values,f=l[n],h=f.inner,b=f.outer;r.forEach((function(t,r){if(!M(t)){var l=Math.max(t/u*c,1)*(o?1:-1),f=m[m.length-1],w=r&&f?f.degree.end:d,x=o?Math.min(w+l,Mt):Math.max(w+l,At),k=e[r],S=k.name,O=k.color,C=i.getSeriesColor(S,O),E={type:"sector",name:S,color:C,x:a,y:s,degree:{start:w,end:x},radius:{inner:h,outer:b},value:t,style:[{strokeStyle:v}],lineWidth:p,clockwise:o,totalAngle:c,seriesColor:O,seriesIndex:r,index:n,drawingStartAngle:Tt};g[y[n]].push(E),m.push(E)}}))})),{seriesModels:m,categoryMap:g}}},{key:"getSeriesColor",value:function(e,t){var n=this.theme,r=n.select,i=n.areaOpacity,o=this.activeSeriesMap[e],a=Object.values(this.activeSeriesMap).some((function(e){return!e}));return Qe(t,a?o?r.areaOpacity:r.restSeries.areaOpacity:i)}},{key:"makeTooltipData",value:function(e,t){var n=[];return e.forEach((function(e){var r=e.seriesColor,i=e.name,o=e.value,a=e.index;M(o)||n.push({label:i,color:r,value:o,category:T(a)?t[a]:""})})),n}},{key:"makeTooltipResponder",value:function(e){var t=this,n=Object.keys(this.models);return e.map((function(e){return oj(oj({},e),Lt(Dt("center",t.models[n[e.index]].find((function(t){var n=t.name;return n===e.name})))))}))}},{key:"getRadialBarSectorModelsFromResponders",value:function(e){var t;return e.length&&null!==(t=this.tooltipSectorMap[e[0].index])&&void 0!==t?t:[]}},{key:"getGroupedSector",value:function(e,t){var n=this.getRadialBarSectorModelsFromResponders(e),r=this.theme[t].groupedSector,i=r.color,o=r.opacity;return n.length?e.map((function(e){return oj(oj({},e),{},{color:Qe(i,o)})})):[]}},{key:"onMousemoveGroupedType",value:function(e){var t=this.getRadialBarSectorModelsFromResponders(e);this.eventBus.emit("renderHoveredSeries",{models:this.getGroupedSector(e,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t}},{key:"onMousemove",value:function(e){var t=e.responders;"grouped"===this.eventDetectType?this.onMousemoveGroupedType(t):(this.eventBus.emit("renderHoveredSeries",{models:this.getResponderModelsWithTheme(t,"hover"),name:this.name}),this.activatedResponders=this.makeTooltipResponder(t)),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")}},{key:"onClick",value:function(e){var t,n=e.responders;this.selectable&&(t="grouped"===this.eventDetectType?[].concat(aj(this.getGroupedSector(n,"select")),aj(this.getRadialBarSectorModelsFromResponders(n))):this.getResponderModelsWithTheme(n,"select"),this.eventBus.emit("renderSelectedSeries",{models:t,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw"))}},{key:"getResponderModelsWithTheme",value:function(e,t){var n=this.theme[t],r=n.lineWidth,i=this.theme.lineWidth===r,o=i?0:.5*r;return e.map((function(e){var t;return oj(oj({},e),{},{color:null!==(t=null===n||void 0===n?void 0:n.color)&&void 0!==t?t:e.color,lineWidth:r,style:[z(n,"strokeStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY")],radius:{inner:Math.max(e.radius.inner-o,0),outer:e.radius.outer+o}})}))}}]),n}(Kn);function Oj(e){return Oj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oj(e)}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cj(Object(n),!0).forEach((function(t){Mj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pj(e,t,n){return t&&Tj(e.prototype,t),n&&Tj(e,n),e}function Rj(e,t,n){return Rj="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Dj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},Rj(e,t,n||e)}function Dj(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=zj(e),null===e)break;return e}function _j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jj(e,t)}function jj(e,t){return jj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jj(e,t)}function Lj(e){var t=Bj();return function(){var n,r=zj(e);if(t){var i=zj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ij(this,n)}}function Ij(e,t){return!t||"object"!==Oj(t)&&"function"!==typeof t?Nj(e):t}function Nj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bj(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zj(e){return zj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zj(e)}var Hj=function(n){_j(a,n);var r=Lj(a);function a(e){var t=e.el,n=e.options,i=e.data;return Aj(this,a),r.call(this,{el:t,options:n,series:{radialBar:i.series},categories:i.categories,modules:[Zd,qf,rh,ri]})}return Pj(a,[{key:"initialize",value:function(){Rj(zj(a.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(Lm),this.componentManager.add(iR),this.componentManager.add(Sj),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(AR),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,c,e,f,h,o,i])}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{radialBar:n},categories:t})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",Ej(Ej({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}}]),a}(Ef);function Wj(e){return qj(e)||Vj(e)||Uj(e)||Fj()}function Fj(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Uj(e,t){if(e){if("string"===typeof e)return Yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yj(e,t):void 0}}function Vj(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function qj(e){if(Array.isArray(e))return Yj(e)}function Yj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$j(Object(n),!0).forEach((function(t){Xj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kj=15,Zj=10,Jj=10,Qj=30;function eL(e,t,n){var r=null!==n&&void 0!==n&&n,i=re(e,t),o={visible:!0,radiusRange:{inner:e-i,outer:e},barWidth:i,clockHand:!1};return r?D(r)?Gj(Gj({},o),r):o:Gj(Gj({},o),{},{visible:!1})}function tL(e){var t,n,r=e.labels,i=e.intervalData,o=e.circularAxisLabelMargin,a=e.circularAxisLabelFont,s=e.defaultAxisData,l=e.bandWidth,c=e.options,u=e.solidBarWidth,f=zi(r,o,a),d=f.maxLabelWidth,h=f.maxLabelHeight,p=s.totalAngle,v=s.axisSize,m=s.centerX,y=s.centerY,g=s.startAngle,b=s.endAngle,w=s.drawingStartAngle,x=s.clockwise,k=i.tickInterval,S=i.labelInterval,O=v-l-Zj,C=null!==u&&void 0!==u?u:.1*O,E=eL(O-o-h-(o-5),C,null===c||void 0===c||null===(t=c.series)||void 0===t?void 0:t.solid),M=p/(r.length+(p<Mt?-1:At)),A=O-o-h-Jj+(E.visible?-E.barWidth-Jj:0);return{axisSize:v,centerX:m,centerY:y,label:{labels:r,interval:S,margin:o,maxWidth:d,maxHeight:h},radius:{inner:0,outer:O},angle:{start:g,end:b,total:p,central:M,drawingStart:w},band:{width:l,margin:Zj},tickInterval:k,clockwise:x,maxClockHandSize:A,title:Li(null===c||void 0===c||null===(n=c.circularAxis)||void 0===n?void 0:n.title),solidData:E}}function nL(e,t,n){var r,i,o,a=null!==(r=null===(i=e[n])||void 0===i||null===(o=i.label)||void 0===o?void 0:o.formatter)&&void 0!==r?r:function(e){return e};return t.map((function(e,r){return a(e,{index:r,labels:t,axisName:n})}))}function rL(e,t,n,r){var i=e?$r.CIRCULAR:$r.VERTICAL,o=r[i],a=o.limit,s=o.stepSize,l=nL(t,wn(a,s),i),c=nL(t,n,e?$r.VERTICAL:$r.CIRCULAR);return e?l:c}function iL(e){var t,n,r;return null!==(t=null===e||void 0===e||null===(n=e.circularAxis)||void 0===n||null===(r=n.label)||void 0===r?void 0:r.margin)&&void 0!==t?t:Kj}function oL(e,t){var n,r,i=null===e||void 0===e||null===(n=e.label)||void 0===n?void 0:n.maxWidth,o=null===e||void 0===e||null===(r=e.label)||void 0===r?void 0:r.maxHeight,a=t.label.maxWidth,s=t.label.maxHeight;return o!==s||i!==a}var aL={name:"gaugeAxes",state:function(){return{radialAxes:{circularAxis:{}}}},action:{setCircularAxisData:function(e){var t,n,r,i,o,a,s,l,c,u,f,d=e.state,h=d.series,p=d.layout,v=d.scale,m=d.categories,y=p.plot,g=vi({series:h,categories:m}),b=d.options,w=d.theme,x=st(w.circularAxis.label),k=iL(b),S=rL(g,b,m,v),O=zi(S,k,x),C=O.maxLabelWidth,E=O.maxLabelHeight,M=Ui(b,y,C,E,g),A=fn(st(w.series.gauge.dataLabels)),T=null!==(t=null===b||void 0===b||null===(n=b.series)||void 0===n||null===(r=n.dataLabels)||void 0===r?void 0:r.offsetY)&&void 0!==t?t:Qj;if(M.isSemiCircular){M.centerY=M.centerY-(T>0?T+A:0);var P=M.centerY-M.axisSize;M.axisSize+=P<0?P:0}var R=null!==b&&void 0!==b&&null!==(i=b.plot)&&void 0!==i&&null!==(o=i.bands)&&void 0!==o&&o.length?M.axisSize/2-Zj:0,D=null!==(a=null===(s=w.plot)||void 0===s||null===(l=s.bands)||void 0===l?void 0:l.barWidth)&&void 0!==a?a:R,_=tL({labels:S,intervalData:Wi(!0,{axis:b.circularAxis,categories:m,layout:p}),defaultAxisData:M,circularAxisLabelMargin:k,circularAxisLabelFont:x,bandWidth:D,options:b,solidBarWidth:null===(c=w.series.gauge)||void 0===c||null===(u=c.solid)||void 0===u?void 0:u.barWidth});oL(null===(f=d.radialAxes)||void 0===f?void 0:f.circularAxis,_)&&this.notify(d,"layout"),d.radialAxes={circularAxis:_}},addGaugePlotBand:function(e,t){var n,r,i,o=e.state,a=t.data,s=null!==(n=null===(r=o.options)||void 0===r||null===(i=r.plot)||void 0===i?void 0:i.bands)&&void 0!==n?n:[];ih(s,a)||this.dispatch("updateOptions",{options:{plot:{bands:[].concat(Wj(s),[a])}}})},removeGaugePlotBand:function(e,t){var n,r,i,o=e.state,a=t.id,s=(null!==(n=null===(r=o.options)||void 0===r||null===(i=r.plot)||void 0===i?void 0:i.bands)&&void 0!==n?n:[]).filter((function(e){var t=e.id;return t!==a}));this.dispatch("updateOptions",{options:{plot:{bands:s}}})}},observe:{updateRadialAxes:function(){this.dispatch("setCircularAxisData")}}},sL=aL;function lL(e){return lL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lL(e)}function cL(e){return hL(e)||dL(e)||fL(e)||uL()}function uL(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fL(e,t){if(e){if("string"===typeof e)return pL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pL(e,t):void 0}}function dL(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function hL(e){if(Array.isArray(e))return pL(e)}function pL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vL(Object(n),!0).forEach((function(t){ML(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bL(e,t,n){return t&&gL(e.prototype,t),n&&gL(e,n),e}function wL(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xL(e,t)}function xL(e,t){return xL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xL(e,t)}function kL(e){var t=CL();return function(){var n,r=EL(e);if(t){var i=EL(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return SL(this,n)}}function SL(e,t){return!t||"object"!==lL(t)&&"function"!==typeof t?OL(e):t}function OL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CL(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function EL(e){return EL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},EL(e)}function ML(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AL=3,TL=function(e){wL(n,e);var t=kL(n);function n(){var e;yL(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),ML(OL(e),"models",{clockHand:[],solid:[],backgroundSolid:[]}),ML(OL(e),"drawModels",void 0),ML(OL(e),"responders",void 0),ML(OL(e),"activatedResponders",[]),ML(OL(e),"tooltipMap",void 0),ML(OL(e),"theme",void 0),ML(OL(e),"circularAxis",void 0),ML(OL(e),"onMouseoutComponent",(function(){e.eventBus.emit("seriesPointHovered",{models:[],name:e.name}),e.eventBus.emit("renderHoveredSeries",{models:[],name:e.name}),e.eventBus.emit("needDraw")})),ML(OL(e),"selectSeries",(function(t){var n,r=t.index;if(T(r)){var i=null!==(n=e.tooltipMap.clockHand[r])&&void 0!==n?n:e.tooltipMap.solid[r];if(i){var o=e.getResponderModelsWithTheme(e.getResponderModels([i]),"select");if(!o.length)throw new Error(ae.SELECT_SERIES_API_INDEX_ERROR);e.eventBus.emit("renderSelectedSeries",{models:o,name:e.name}),e.eventBus.emit("needDraw")}}})),ML(OL(e),"showTooltip",(function(t){var n=t.index,r=e.getResponderModelsWithTheme([e.tooltipMap.clockHand[n]],"hover");r.length&&(e.eventBus.emit("renderHoveredSeries",{models:r,name:e.name}),e.activatedResponders=r,e.eventBus.emit("seriesPointHovered",{models:e.activatedResponders,name:e.name}),e.eventBus.emit("needDraw"))})),e}return bL(n,[{key:"initialize",value:function(){this.type="series",this.name="gauge",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}},{key:"initUpdate",value:function(e){var t=this;if(this.drawModels){var n=this.circularAxis,r=n.angle,i=r.start,o=r.total,a=n.clockwise,s=a?i+o*e:i-o*e;this.models.clockHand.forEach((function(e,n){var r=e.x,i=e.y,o=e.animationDegree,l=e.handSize;if(a&&o<s||!a&&o>s)t.syncEndAngle(n);else{var c=It(r,i,l,_t(Ut(s))),u=c.x,f=c.y;t.drawModels.clockHand[n].x2=u,t.drawModels.clockHand[n].y2=f}})),this.models.solid.forEach((function(){var e=t.models.solid.findIndex((function(e){var t=e.animationDegree,n=t,r=n.start,i=n.end;return Nt(a,r,i,s)}));t.syncSectorEndAngle(e<0?t.models.solid.length:e),-1!==e&&(t.drawModels.solid[e].degree.end=Ut(s))}))}}},{key:"updateModels",value:function(e,t,n){var r=this.circularAxis.angle.total;Object.keys(e).forEach((function(i){e&&t&&"_"!==i[0]&&(T(e[i])?e[i]=e[i]+(t[i]-e[i])*n:"degree"===i?r<Mt&&e.degree.end<Pt?e[i].end=Mt+e[i].end-(Mt-t[i].end+e[i].end)*n:e[i].end=e[i].end+(t[i].end-e[i].end)*n:e[i]=t[i])}))}},{key:"update",value:function(e){var t=this;this.models.clockHand.forEach((function(n,r){t.updateModels(t.drawModels.clockHand[r],n,e)})),this.models.solid.forEach((function(n,r){t.updateModels(t.drawModels.solid[r],n,e)}))}},{key:"syncEndAngle",value:function(e){var t=this.models.clockHand[e],n=this.drawModels.clockHand[e];t.x2===n.x2&&t.y2===n.y2||(n.x2=t.x2,n.y2=t.y2)}},{key:"syncSectorEndAngle",value:function(e){if(e)for(var t=0;t<e;t+=1){var n=this.models.solid[t].degree.end;this.drawModels.solid[t].degree.end!==n&&(this.drawModels.solid[t].degree.end=n)}}},{key:"render",value:function(e){var t,n=e.layout,r=e.series,i=e.legend,o=e.options,a=e.theme,s=e.scale,l=e.radialAxes,c=null!==(t=e.categories)&&void 0!==t?t:[];if(!r.gauge)throw new Error(ae.noDataError(this.name));this.theme=a.series.gauge,this.rect=n.plot,this.circularAxis=l.circularAxis,this.activeSeriesMap=yc(i),this.selectable=this.getSelectableOption(o);var u=r.gauge.data,f=!vi({series:r,categories:c}),d=this.makeRenderOptions(f,c,s,null===o||void 0===o?void 0:o.series),h=this.renderClockHands(u,d);this.models.clockHand=d.useClockHand?h:[];var p=this.renderSolidModels(u,h,d),v=this.makeTooltipData(h);if(this.drawModels||this.initDrawModels(),Gv(o,this.name).visible){var m=h[0],y=m.value,g=m.name,b=m.x,w=m.y,x=m.seriesData;this.renderDataLabels([{type:"point",theme:this.theme.dataLabels,value:y,name:g,x:b,y:w+Qj,data:x}])}this.tooltipMap=this.makeTooltipMap(v,d),this.responders=this.getResponders(h,p,v,d.useClockHand)}},{key:"renderSolidModels",value:function(e,t,n){var r=[];return this.models.clockHand=n.useClockHand?t:[],n.solidData.visible&&(r=this.renderSectors(e,n),this.models.backgroundSolid=this.renderBackgroundSolid(n),this.models.solid=r),r}},{key:"initDrawModels",value:function(){var e=this.circularAxis.angle.start;this.drawModels={clockHand:this.models.clockHand.map((function(t){var n=It(t.x,t.y,t.handSize,_t(e)),r=n.x,i=n.y;return mL(mL({},t),{},{x2:r,y2:i,testDegree:0})})),backgroundSolid:this.models.backgroundSolid,solid:this.models.solid.map((function(e){return mL(mL({},e),{},{degree:mL(mL({},e.degree),{},{end:e.degree.start})})}))}}},{key:"getResponders",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=r?e.map((function(e,t){return mL(mL({},e),{},{detectionSize:e.baseLine+AL,data:mL({},n[t])})})):[];return t.length?[].concat(cL(t.map((function(e,t){return mL(mL({},e),{},{data:mL({},n[t])})}))),cL(i)):i}},{key:"getHandSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.circularAxis.maxClockHandSize;return e?Array.isArray(e)?re(n,e[t]):re(n,e):n}},{key:"renderClockHands",value:function(e,t){var n=this,r=t.centerX,i=t.centerY,o=t.totalAngle,a=t.clockwise,s=t.scaleMaxLimitValue,l=t.categories,c=t.drawingStartAngle,u=[],f=this.theme.clockHand,d=f.size,h=f.baseLine,p=f.color,v=this.theme.pin,m=v.radius,y=v.color,g=v.borderWidth,b=v.borderColor;return e.forEach((function(e,t){var f=e.name,v=e.data,w=e.color,x=n.getSeriesColor(f,w);v.forEach((function(e,w){var k=P(e)?l.findIndex((function(t){return t===e})):e,S=c+k/s*o*(a?1:-1),O=Ut(S),C=n.getHandSize(d,w),E=It(r,i,C,_t(O)),M=E.x,A=E.y;u.push({type:"clockHand",color:null!==p&&void 0!==p?p:x,name:f,value:e,x:r,y:i,x2:M,y2:A,pin:{radius:m,color:null!==y&&void 0!==y?y:x,style:[{strokeStyle:null!==b&&void 0!==b?b:Qe(x,.1),lineWidth:g?g+m:0}]},degree:O,animationDegree:S,baseLine:h,handSize:C,seriesData:v,index:w,seriesIndex:t})}))})),u}},{key:"renderBackgroundSolid",value:function(e){var t=e.centerX,n=e.centerY,r=e.startAngle,i=e.totalAngle,o=e.clockwise,a=e.solidData,s=this.theme.solid.backgroundSolid,l=s.color;return[{type:"sector",color:l,x:t,y:n,clockwise:o,degree:{start:r,end:r+i},radius:a.radiusRange}]}},{key:"renderSectors",value:function(e,t){var n=this,r=[],i=t.centerX,o=t.centerY,a=t.clockwise,s=t.totalAngle,l=t.scaleMaxLimitValue,c=t.startAngle,u=t.categories,f=t.solidData,d=f.radiusRange,h=this.theme.solid,p=h.lineWidth,v=h.strokeStyle;return e.forEach((function(e,t){var f=e.name,h=e.data,m=e.color,y=n.getSeriesColor(f,m),g=h[0],b=P(g)?u.findIndex((function(e){return e===g})):g,w=b/l*s*(a?1:-1),x=Ut(w),k=c,S=k+w,O=c,C=O+x;r.push({type:"sector",color:y,x:i,y:o,clockwise:a,degree:{start:k,end:S},radius:d,animationDegree:{start:O,end:C},drawingStartAngle:Tt,style:[{strokeStyle:v}],lineWidth:p,index:t})})),r}},{key:"makeTooltipMap",value:function(e,t){var n=this.models,r=n.clockHand,i=n.solid,o=t.useClockHand;return e.reduce((function(e,t,n){return o&&e.clockHand.push(mL(mL({},r[n]),{},{detectionSize:r[n].baseLine+3,data:t})),i[n]&&e.solid.push(mL(mL({},i[n]),{},{data:t})),e}),{solid:[],clockHand:[]})}},{key:"makeRenderOptions",value:function(e,t,n,r){var i,o=this.circularAxis,a=o.centerX,s=o.centerY,l=o.solidData,c=o.angle,u=c.start,f=c.end,d=c.drawingStart,h=o.radius.outer,p=this.circularAxis.solidData,v=null===(i=null===r||void 0===r?void 0:r.clockwise)||void 0===i||i,m=Br(v,u,f);return{clockwise:v,centerX:a,centerY:s,angleRange:{start:u,end:f},totalAngle:m,scaleMaxLimitValue:e?t.length:nR(n.circularAxis,m),startAngle:u,categories:t,drawingStartAngle:d,outerRadius:h,useClockHand:!p.visible||p.clockHand,solidData:l}}},{key:"getSeriesColor",value:function(e,t){var n=this.theme,r=n.select,i=n.areaOpacity,o=this.activeSeriesMap[e],a=Object.values(this.activeSeriesMap).some((function(e){return!e}));return Qe(t,a?o?r.areaOpacity:r.restSeries.areaOpacity:i)}},{key:"makeTooltipData",value:function(e){return e.reduce((function(e,t){var n=t.color,r=t.name,i=t.value,o=t.index,a=t.seriesIndex;return M(i)?e:[].concat(cL(e),[{label:r,color:n,value:i,index:o,seriesIndex:a}])}),[])}},{key:"onMousemove",value:function(e){var t=e.responders;this.eventBus.emit("renderHoveredSeries",{models:this.getResponderModelsWithTheme(this.getResponderModels(t),"hover"),name:this.name}),this.activatedResponders=t.map((function(e){return mL({},e)})),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}},{key:"getResponderModels",value:function(e){var t=this.tooltipMap,n=t.clockHand,r=t.solid;return e.reduce((function(e,t){var i=t.index,o=n[i]?[n[i]]:[],a=r[i]?[r[i]]:[];return[].concat(cL(e),o,a)}),[])}},{key:"onClick",value:function(e){var t=e.responders;if(this.selectable){var n=this.getResponderModelsWithTheme(this.getResponderModels(t),"select");this.eventBus.emit("renderSelectedSeries",{models:n,name:this.name}),this.eventBus.emit("needDraw")}}},{key:"getResponderModelsWithSolidTheme",value:function(e,t){var n,r=this.theme[t].solid,i=r.lineWidth,o=this.theme.solid===i,a=o?0:.5*i;return mL(mL({},e),{},{color:null!==(n=r.color)&&void 0!==n?n:e.color,lineWidth:i,style:[z(r,"strokeStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY")],radius:{inner:Math.max(e.radius.inner-a,0),outer:e.radius.outer+a}})}},{key:"getResponderWithClockHandTheme",value:function(e,t){var n=this.theme[t],r=n.clockHand,i=n.pin,o=r,a=o.size,s=o.baseLine,l=o.color,c=i,u=c.radius,f=c.color,d=c.borderWidth,h=c.borderColor,p=null!==u&&void 0!==u?u:e.pin.radius,v=[{strokeStyle:null!==h&&void 0!==h?h:Qe(e.pin.style[0].strokeStyle,.3),lineWidth:d?d+p:0}];return mL(mL({},e),{},{color:null!==l&&void 0!==l?l:e.color,pin:{radius:p,color:null!==f&&void 0!==f?f:e.pin.color,style:v},baseLine:null!==s&&void 0!==s?s:e.baseLine,handSize:a?this.getHandSize(a,e.index):e.handSize})}},{key:"getResponderModelsWithTheme",value:function(e,t){var n=this;return e.map((function(e){return"sector"===(null===e||void 0===e?void 0:e.type)?n.getResponderModelsWithSolidTheme(e,t):n.getResponderWithClockHandTheme(e,t)}))}}]),n}(Kn);function PL(e){var t,n,r=e.x,i=e.y,o=e.x2,a=e.y2,s=e.degree,l=e.baseLine,c=l/2;return r===o?(t={x:r-c,y:i},n={x:r+c,y:i}):i===a?(t={x:r,y:i-c},n={x:r,y:i+c}):(t=It(r,i,c,_t(Ut(s+Pt))),n=It(r,i,c,_t(Ut(s-Pt)))),[t,{x:o,y:a},n]}function RL(e,t){var n=t.color,r=t.x,i=t.y,o=t.pin,a=o.color,s=o.radius,l=o.style;Gt(e,{type:"circle",x:r,y:i,radius:s,color:a,style:l}),fl(e,{type:"polygon",color:n,lineWidth:1,fillColor:n,points:PL(t)})}function DL(e){return DL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DL(e)}function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_L(Object(n),!0).forEach((function(t){LL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BL(e,t,n){return t&&NL(e.prototype,t),n&&NL(e,n),e}function zL(e,t,n){return zL="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=HL(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},zL(e,t,n||e)}function HL(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=$L(e),null===e)break;return e}function WL(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FL(e,t)}function FL(e,t){return FL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},FL(e,t)}function UL(e){var t=YL();return function(){var n,r=$L(e);if(t){var i=$L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VL(this,n)}}function VL(e,t){return!t||"object"!==DL(t)&&"function"!==typeof t?qL(e):t}function qL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YL(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $L(e){return $L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$L(e)}var GL=function(n){WL(a,n);var r=UL(a);function a(e){var t=e.el,n=e.options,i=e.data;return IL(this,a),r.call(this,{el:t,options:n,series:{gauge:i.series},categories:i.categories,modules:[qf,rh,sL]})}return BL(a,[{key:"initialize",value:function(){zL($L(a.prototype),"initialize",this).call(this),this.componentManager.add(kb),this.componentManager.add(Ly),this.componentManager.add(iR,{name:"gauge"}),this.componentManager.add(AR,{name:"gauge"}),this.componentManager.add(ky,{name:"circularAxis"}),this.componentManager.add(TL),this.componentManager.add(sg),this.componentManager.add(sb),this.componentManager.add(ry),this.componentManager.add(ya,{chartEl:this.el}),this.componentManager.add(Tp,{chartEl:this.el}),this.componentManager.add(Bb),this.painter.addGroups([t,c,e,f,h,o,i,m])}},{key:"addSeries",value:function(e){this.resetSeries(),this.store.dispatch("addSeries",{data:e})}},{key:"addData",value:function(e,t){this.resetSeries(),this.animationControlFlag.updating=!0,this.store.dispatch("addData",{data:e,category:t})}},{key:"setData",value:function(e){var t=e.categories,n=e.series;this.resetSeries(),this.store.dispatch("setData",{series:{gauge:n},categories:t})}},{key:"hideSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})}},{key:"showSeriesDataLabel",value:function(){this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})}},{key:"setOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)}},{key:"updateOptions",value:function(e){this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)}},{key:"showTooltip",value:function(e){this.eventBus.emit("showTooltip",jL(jL({},e),{},{state:this.store.state}))}},{key:"hideTooltip",value:function(){this.eventBus.emit("hideTooltip")}},{key:"addPlotBand",value:function(e){this.store.dispatch("addGaugePlotBand",{data:e})}},{key:"removePlotBand",value:function(e){this.store.dispatch("removeGaugePlotBand",{id:e})}}]),a}(Ef);function XL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZL=function e(){XL(this,e)};KL(ZL,"lineChart",(function(e){return new vw(e)})),KL(ZL,"areaChart",(function(e){return new NS(e)})),KL(ZL,"barChart",(function(e){return new qE(e)})),KL(ZL,"boxPlotChart",(function(e){return new nj(e)})),KL(ZL,"columnChart",(function(e){return new lM(e)})),KL(ZL,"pieChart",(function(e){return new Qw(e)})),KL(ZL,"heatmapChart",(function(e){return new Jk(e)})),KL(ZL,"bubbleChart",(function(e){return new AA(e)})),KL(ZL,"scatterChart",(function(e){return new JA(e)})),KL(ZL,"bulletChart",(function(e){return new qT(e)})),KL(ZL,"radarChart",(function(e){return new qR(e)})),KL(ZL,"treemapChart",(function(e){return new s_(e)})),KL(ZL,"nestedPieChart",(function(e){return new pP(e)})),KL(ZL,"lineAreaChart",(function(e){return new zO(e)})),KL(ZL,"lineScatterChart",(function(e){return new xO(e)})),KL(ZL,"columnLineChart",(function(e){return new MM(e)})),KL(ZL,"radialBarChart",(function(e){return new Hj(e)})),KL(ZL,"gaugeChart",(function(e){return new GL(e)}))}(),r=r.default,r}()}))},3611:function(e,t,n){n(8675),n(3462),n(1703),n(6699),
/*!
 * TOAST UI Editor : Chart Plugin
 * @version 3.0.1 | Wed Jul 07 2021
 * @author NHN FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
function(t,r){e.exports=r(n(2987))}(self,(function(e){return function(){var t={72:function(e,t){"use strict";t.byteLength=c,t.toByteArray=f,t.fromByteArray=p;for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function c(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function u(e,t,n){return 3*(t+n)/4-n}function f(e){var t,n,o=l(e),a=o[0],s=o[1],c=new i(u(e,a,s)),f=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[f++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t),c}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function h(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(d(r));return i.join("")}function p(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,l=r-i;s<l;s+=a)o.push(h(e,s,s+a>l?l:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},636:function(e,t,n){"use strict";
/*!
           * The buffer module from node.js, for the browser.
           *
           * @author   Feross Aboukhadijeh <https://feross.org>
           * @license  MIT
           */var r=n(72),i=n(74),o="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}function l(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return p(e,t);if(ArrayBuffer.isView(e))return m(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return y(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return y(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var i=g(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e,t,n){return f(e),e<=0?l(e):void 0!==t?"string"===typeof n?l(e).fill(t,n):l(e).fill(t):l(e)}function h(e){return f(e),l(e<0?0:0|b(e))}function p(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|x(e,t),r=l(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function v(e){for(var t=e.length<0?0:0|b(e.length),n=l(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function m(e){if(Z(e,Uint8Array)){var t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return v(e)}function y(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function g(e){if(c.isBuffer(e)){var t=0|b(e.length),n=l(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||J(e.length)?l(0):v(e):"Buffer"===e.type&&Array.isArray(e.data)?v(e.data):void 0}function b(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function w(e){return+e!=e&&(e=0),c.alloc(+e)}function x(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(i)return r?-1:Y(e).length;t=(""+t).toLowerCase(),i=!0}}function k(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return D(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function S(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function O(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,J(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(J(s))return a;e[n+a]=s}return a}function M(e,t,n,r){return K(Y(t,e.length-n),e,n,r)}function A(e,t,n,r){return K($(t),e,n,r)}function T(e,t,n,r){return K(X(t),e,n,r)}function P(e,t,n,r){return K(G(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function D(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,a,s,l,c=e[i],u=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:o=e[i+1],128===(192&o)&&(l=(31&c)<<6|63&o,l>127&&(u=l));break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=f}return j(r)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=s(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return d(e,t,n)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(Z(o,Uint8Array))i+o.length>r.length?c.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},c.byteLength=x,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?D(this,0,e):k.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),l=this.slice(r,i),u=e.slice(t,n),f=0;f<s;++f)if(l[f]!==u[f]){o=l[f],a=u[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return O(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return O(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return M(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function j(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=_));return n}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Q[e[o]];return i}function B(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function z(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function H(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function W(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return t=+t,n>>>=0,o||W(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return t=+t,n>>>=0,o||W(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||z(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||z(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||z(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||z(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||z(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||z(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||z(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||z(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||z(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||z(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||z(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||z(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||z(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;H(this,e,t,n,i,0)}var o=1,a=0;this[t]=255&e;while(++a<n&&(o*=256))this[t+a]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;H(this,e,t,n,i,0)}var o=n-1,a=1;this[t+o]=255&e;while(--o>=0&&(a*=256))this[t+o]=e/a&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);H(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;this[t]=255&e;while(++o<n&&(a*=256))e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);H(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;this[t+o]=255&e;while(--o>=0&&(a*=256))e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||H(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:c.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var V=/[^+/0-9A-Za-z-_]/g;function q(e){if(e=e.split("=")[0],e=e.trim().replace(V,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function Y(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],a=0;a<e.length;++a){if((t-=2)<0)break;n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function X(e){return r.toByteArray(q(e))}function K(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}var Q=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},722:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function i(e){console&&console.warn&&console.warn(e)}t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=g,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,a,s;if(l(n),a=e._events,void 0===a?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"===typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),o=c(e),o>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,i(u)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?y(i):v(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function g(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}w(e,t,o,{once:!0}),"error"!==t&&b(e,i,{once:!0})}))}function b(e,t,n){"function"===typeof e.on&&w(e,"error",t,n)}function w(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var c=l.length,u=v(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,a;if(l(t),r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():m(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},74:function(e,t){"use strict";
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+f],f+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+f],f+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,f=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?d/l:d*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},409:function(e){"use strict";"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},983:function(e,t,n){"use strict";e.exports=n(983)},50:function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var n={};function r(e,r,i){function o(e,t,n){return"string"===typeof r?r:r(e,t,n)}i||(i=Error);var a=function(e){function n(t,n,r){return e.call(this,o(t,n,r))||this}return t(n,e),n}(i);a.prototype.name=i.name,a.prototype.code=e,n[e]=a}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function o(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function a(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function s(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,l;if("string"===typeof t&&o(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",a(e," argument"))l="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var c=s(e,".")?"property":"argument";l='The "'.concat(e,'" ').concat(c," ").concat(r," ").concat(i(t,"type"))}return l+=". Received type ".concat(typeof n),l}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=n},298:function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var i=n(58),o=n(880);n(409)(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var l=a[s];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},4:function(e,t,n){"use strict";e.exports=i;var r=n(969);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(409)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},58:function(e,t,n){"use strict";var r;e.exports=A,A.ReadableState=M;n(722).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=n(786),a=n(636).Buffer,s=n.g.Uint8Array||function(){};function l(e){return a.from(e)}function c(e){return a.isBuffer(e)||e instanceof s}var u,f=n(602);u=f&&f.debuglog?f.debuglog("stream"):function(){};var d,h,p,v=n(346),m=n(974),y=n(754),g=y.getHighWaterMark,b=n(50).q,w=b.ERR_INVALID_ARG_TYPE,x=b.ERR_STREAM_PUSH_AFTER_EOF,k=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(409)(A,o);var O=m.errorOrDestroy,C=["error","close","destroy","pause","resume"];function E(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function M(e,t,i){r=r||n(298),e=e||{},"boolean"!==typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(183).s),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function A(e){if(r=r||n(298),!(this instanceof A))return new A(e);var t=this instanceof r;this._readableState=new M(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function T(e,t,n,r,i){u("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,L(e,s);else if(i||(o=R(s,t)),o)O(e,o);else if(s.objectMode||t&&t.length>0)if("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=l(t)),r)s.endEmitted?O(e,new S):P(e,s,t,!0);else if(s.ended)O(e,new x);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?P(e,s,t,!1):B(e,s)):P(e,s,t,!1)}else r||(s.reading=!1,B(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function P(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),B(e,t)}function R(e,t){var n;return c(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new w("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),A.prototype.destroy=m.destroy,A.prototype._undestroy=m.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=a.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},A.prototype.unshift=function(e){return T(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(e){d||(d=n(183).s);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head,i="";while(null!==r)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var D=1073741824;function _(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=_(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function L(e,t){if(u("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}}function I(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(N,e))}function N(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,q(e)}function B(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(z,e,t))}function z(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length)){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function H(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,q(e))}}function W(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){u("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(V,e,t))}function V(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),q(e),t.flowing&&!t.reading&&e.read(0)}function q(e){var t=e._readableState;u("flow",t.flowing);while(t.flowing&&null!==e.read());}function Y(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function $(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(G,t,e))}function G(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function X(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}A.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?$(this):I(this),null;if(e=j(e,t),0===e&&t.ended)return 0===t.length&&$(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,u("length less than watermark",i)),t.ended||t.reading?(i=!1,u("reading or ended",i)):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(n,t))),r=e>0?Y(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&$(this)),null!==r&&this.emit("data",r),r},A.prototype._read=function(e){O(this,new k("_read()"))},A.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e);break}r.pipesCount+=1,u("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr,a=o?l:y;function s(e,t){u("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function l(){u("onend"),e.end()}r.endEmitted?process.nextTick(a):n.once("end",a),e.on("unpipe",s);var c=H(n);e.on("drain",c);var f=!1;function d(){u("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",h),f=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function h(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==X(r.pipes,e))&&!f&&(u("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(t){u("onerror",t),y(),e.removeListener("error",p),0===i(e,"error")&&O(e,t)}function v(){e.removeListener("finish",m),y()}function m(){u("onfinish"),e.removeListener("close",v),y()}function y(){u("unpipe"),n.unpipe(e)}return n.on("data",h),E(e,"error",p),e.once("close",v),e.once("finish",m),e.emit("pipe",n),r.flowing||(u("pipe resume"),n.resume()),e},A.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=X(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},A.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,u("on readable",r.length,r.reading),r.length?I(this):r.reading||process.nextTick(F,this))),n},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(W,this),n},A.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(W,this),t},A.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,U(this,e)),e.paused=!1,this},A.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){if(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){var o=t.push(i);o||(r=!0,e.pause())}})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(262)),h(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),A._fromList=Y,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(A.from=function(e,t){return void 0===p&&(p=n(260)),p(A,e,t)})},969:function(e,t,n){"use strict";e.exports=u;var r=n(50).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,l=n(298);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(409)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},880:function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){V(t,e)}}var i;e.exports=M,M.WritableState=E;var o={deprecate:n(485)},a=n(786),s=n(636).Buffer,l=n.g.Uint8Array||function(){};function c(e){return s.from(e)}function u(e){return s.isBuffer(e)||e instanceof l}var f,d=n(974),h=n(754),p=h.getHighWaterMark,v=n(50).q,m=v.ERR_INVALID_ARG_TYPE,y=v.ERR_METHOD_NOT_IMPLEMENTED,g=v.ERR_MULTIPLE_CALLBACK,b=v.ERR_STREAM_CANNOT_PIPE,w=v.ERR_STREAM_DESTROYED,x=v.ERR_STREAM_NULL_VALUES,k=v.ERR_STREAM_WRITE_AFTER_END,S=v.ERR_UNKNOWN_ENCODING,O=d.errorOrDestroy;function C(){}function E(e,t,o){i=i||n(298),e=e||{},"boolean"!==typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){L(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function M(e){i=i||n(298);var t=this instanceof i;if(!t&&!f.call(M,this))return new M(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function A(e,t){var n=new k;O(e,n),process.nextTick(t,n)}function T(e,t,n,r){var i;return null===n?i=new x:"string"===typeof n||t.objectMode||(i=new m("chunk",["string","Buffer"],n)),!i||(O(e,i),process.nextTick(r,i),!1)}function P(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=s.from(t,n)),t}function R(e,t,n,r,i,o){if(!n){var a=P(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else D(e,t,!1,s,r,i,o);return l}function D(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new w("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(F,e,t),e._writableState.errorEmitted=!0,O(e,r)):(i(r),e._writableState.errorEmitted=!0,O(e,r),F(e,t))}function j(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function L(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!==typeof i)throw new g;if(j(n),t)_(e,n,r,t,i);else{var o=z(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||B(e,n),r?process.nextTick(I,e,n,o,i):I(e,n,o,i)}}function I(e,t,n,r){n||N(e,t),t.pendingcb--,r(),F(e,t)}function N(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=n;var s=0,l=!0;while(n)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,D(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{while(n){var c=n.chunk,u=n.encoding,f=n.callback,d=t.objectMode?1:c.length;if(D(e,t,!1,d,c,u,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function z(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function H(e,t){e._final((function(n){t.pendingcb--,n&&O(e,n),t.prefinished=!0,e.emit("prefinish"),F(e,t)}))}function W(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(H,e,t)))}function F(e,t){var n=z(t);if(n&&(W(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function U(e,t,n){t.ending=!0,F(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function V(e,t,n){var r=e.entry;e.entry=null;while(r){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}n(409)(M,a),E.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===M&&(e&&e._writableState instanceof E)}})):f=function(e){return e instanceof this},M.prototype.pipe=function(){O(this,new b)},M.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&u(e);return o&&!s.isBuffer(e)&&(e=c(e)),"function"===typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=C),r.ending?A(this,n):(o||T(this,r,e,n))&&(r.pendingcb++,i=R(this,r,o,e,t,n)),i},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||B(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,n){n(new y("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||U(this,r,n),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=d.destroy,M.prototype._undestroy=d.undestroy,M.prototype._destroy=function(e,t){t(e)}},262:function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(678),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[d].read();null!==n&&(e[u]=null,e[a]=null,e[s]=null,t(h(n,!1)))}}function v(e){process.nextTick(p,e)}function m(e,t){return function(n,r){e.then((function(){t[c]?n(h(void 0,!0)):t[f](n,r)}),r)}}var y=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((r={get stream(){return this[d]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[l]?n(e[l]):t(h(void 0,!0))}))}));var n,r=this[u];if(r)n=new Promise(m(r,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(h(i,!1));n=new Promise(this[f])}return this[u]=n,n}},i(r,Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),y),b=function(e){var t,n=Object.create(g,(t={},i(t,d,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[d].read();r?(n[u]=null,n[a]=null,n[s]=null,e(h(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[u]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[u]=null,n[a]=null,n[s]=null,t(e)),void(n[l]=e)}var r=n[a];null!==r&&(n[u]=null,n[a]=null,n[s]=null,r(h(void 0,!0))),n[c]=!0})),e.on("readable",v.bind(null,n)),n};e.exports=b},346:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=n(636),u=c.Buffer,f=n(854),d=f.inspect,h=d&&d.custom||"inspect";function p(e,t,n){u.prototype.copy.call(e,t,n)}e.exports=function(){function e(){a(this,e),this.head=null,this.tail=null,this.length=0}return l(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";var t=this.head,n=""+t.data;while(t=t.next)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);var t=u.allocUnsafe(e>>>0),n=this.head,r=0;while(n)p(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;e-=r.length;while(t=t.next){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),e-=o,0===e){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),n=this.head,r=1;n.data.copy(t),e-=n.data.length;while(n=n.next){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),e-=o,0===e){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:h,value:function(e,t){return d(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()},974:function(e){"use strict";function t(e,t){var i=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(r,i):(i._writableState.errorEmitted=!0,process.nextTick(n,i,e)):process.nextTick(n,i,e):t?(process.nextTick(r,i),t(e)):process.nextTick(r,i)})),this)}function n(e,t){o(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}function a(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}e.exports={destroy:t,undestroy:i,errorOrDestroy:a}},678:function(e,t,n){"use strict";var r=n(50).q.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function o(){}function a(e){return e.setHeader&&"function"===typeof e.abort}function s(e,t,n){if("function"===typeof t)return s(e,null,t);t||(t={}),n=i(n||o);var l=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||d()},f=e._writableState&&e._writableState.finished,d=function(){c=!1,f=!0,l||n.call(e)},h=e._readableState&&e._readableState.endEmitted,p=function(){l=!1,h=!0,c||n.call(e)},v=function(t){n.call(e,t)},m=function(){var t;return l&&!h?(e._readableState&&e._readableState.ended||(t=new r),n.call(e,t)):c&&!f?(e._writableState&&e._writableState.ended||(t=new r),n.call(e,t)):void 0},y=function(){e.req.on("finish",d)};return a(e)?(e.on("complete",d),e.on("abort",m),e.req?y():e.on("request",y)):c&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",v),e.on("close",m),function(){e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",y),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("end",p),e.removeListener("error",v),e.removeListener("close",m)}}e.exports=s},260:function(e){"use strict";e.exports=function(){throw new Error("Readable.from is not available in the browser")}},732:function(e,t,n){"use strict";var r;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var o=n(50).q,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function c(e){return e.setHeader&&"function"===typeof e.abort}function u(e,t,o,a){a=i(a);var l=!1;e.on("close",(function(){l=!0})),void 0===r&&(r=n(678)),r(e,{readable:t,writable:o},(function(e){if(e)return a(e);l=!0,a()}));var u=!1;return function(t){if(!l&&!u)return u=!0,c(e)?e.abort():"function"===typeof e.destroy?e.destroy():void a(t||new s("pipe"))}}function f(e){e()}function d(e,t){return e.pipe(t)}function h(e){return e.length?"function"!==typeof e[e.length-1]?l:e.pop():l}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map((function(e,n){var a=n<t.length-1,s=n>0;return u(e,a,s,(function(e){r||(r=e),e&&o.forEach(f),a||(o.forEach(f),i(r))}))}));return t.reduce(d)}e.exports=p},754:function(e,t,n){"use strict";var r=n(50).q.ERR_INVALID_OPT_VALUE;function i(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function o(e,t,n,o){var a=i(t,o,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0){var s=o?n:"highWaterMark";throw new r(s,a)}return Math.floor(a)}return e.objectMode?16:16384}e.exports={getHighWaterMark:o}},786:function(e,t,n){"use strict";e.exports=n(722).EventEmitter},769:function(e,t,n){"use strict";e.exports=o;var r=n(722).EventEmitter,i=n(409);function o(){r.call(this)}i(o,r),o.Readable=n(58),o.Writable=n(880),o.Duplex=n(298),o.Transform=n(969),o.PassThrough=n(4),o.finished=n(678),o.pipeline=n(732),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},183:function(e,t,n){"use strict";var r=n(805).Buffer,i=r.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=p,this.end=v,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=m,this.end=y,t=3;break;default:return this.write=g,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function l(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function c(e,t,n){var r=t.length-1;if(r<n)return 0;var i=l(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=l(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=l(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function u(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�"}}function f(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function d(e,t){var n=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function p(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function v(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function m(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=h,s.prototype.text=d,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},805:function(e,t,n){"use strict";
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=n(636),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},863:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(695)),i=d(n(175)),o=d(n(867)),a=d(n(383)),s=d(n(440)),l=d(n(494)),c=d(n(948)),u=d(n(873)),f=d(n(895));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return encodeURIComponent(e)+"="+encodeURIComponent((0,c["default"])(t)||(0,f["default"])(t)?"":t)}function p(e,t,n){(0,a["default"])(t)?(0,r["default"])(t,(function(t,r){p(e+"["+((0,u["default"])(t)?r:"")+"]",t,n)})):(0,u["default"])(t)?(0,i["default"])(t,(function(t,r){p(e+"["+r+"]",t,n)})):n.push(h(e,t))}function v(e){if(!e||(0,s["default"])(e))return"";var t=[];return(0,i["default"])(e,(function(e,n){p(n,e,t)})),t.join("&")}var m=function(){return{baseURL:"",headers:{common:{},get:{},post:{},put:{},delete:{},patch:{},options:{},head:{}},serializer:v}},y=/^(http|https):\/\//i;function g(e,t){return y.test(t)?t:("/"===e.slice(-1)&&"/"===t.slice(0,1)&&(t=t.slice(1)),e+t)}function b(e,t){var n=e.baseURL,r=e.headers,i=e.serializer,a=e.beforeRequest,s=e.success,l=e.error,c=e.complete,u=t.url,f=t.contentType,d=t.method,h=t.params,p=t.headers,m=t.serializer,y=t.beforeRequest,b=t.success,w=t.error,x=t.complete,k=t.withCredentials,S=t.mimeType,O={url:g(n,u),method:d,params:h,headers:(0,o["default"])(r.common,r[d.toLowerCase()],p),serializer:m||i||v,beforeRequest:[a,y],success:[s,b],error:[l,w],complete:[c,x],withCredentials:k,mimeType:S};return O.contentType=f||O.headers["Content-Type"],delete O.headers["Content-Type"],O}function w(e){return e>=200&&e<300}function x(e){return/^(?:POST|PUT|PATCH)$/.test(e.toUpperCase())}function k(e,t){(0,a["default"])(e)?(0,r["default"])(e,(function(e){return k(e,t)})):(0,l["default"])(e)&&e(t)}function S(e){var t={};return(0,r["default"])(e.split("\r\n"),(function(e){var n=e.split(": "),r=n[0],i=n[1];""===r||(0,f["default"])(i)||(t[r]=i)})),t}function O(e){var t="";try{t=JSON.parse(e)}catch(n){t=e}return t}var C=4;function E(e,t){var n=e.readyState;if(n==C){var r=e.status,i=e.statusText,o=e.responseText,a=t.success,s=t.resolve,l=t.error,c=t.reject,u=t.complete;if(w(r)){var f=e.getResponseHeader("Content-Type"),d=o;f&&f.indexOf("application/json")>-1&&(d=O(d)),k([a,s],{status:r,statusText:i,data:d,headers:S(e.getAllResponseHeaders())})}else k([l,c],{status:r,statusText:i});k(u,{status:r,statusText:i})}}var M=/\?/;function A(e,t){var n=t.url,r=t.method,i=t.serializer,o=t.params,a=n;if(!x(r)&&o){var s=(M.test(n)?"&":"?")+i(o);a=""+n+s}e.open(r,a)}function T(e,t){var n=t.method,r=t.contentType,o=t.mimeType,a=t.headers,s=t.withCredentials,l=void 0!==s&&s;l&&(e.withCredentials=l),o&&e.overrideMimeType(o),(0,i["default"])(a,(function(t,n){(0,u["default"])(t)||e.setRequestHeader(n,t)})),x(n)&&e.setRequestHeader("Content-Type",r+"; charset=UTF-8"),e.setRequestHeader("x-requested-with","XMLHttpRequest")}var P=/%20/g;function R(e,t){var n=t.method,r=t.serializer,i=t.beforeRequest,o=t.params,a=void 0===o?{}:o,s=t.contentType,l=void 0===s?"application/x-www-form-urlencoded":s,c=null;x(n)&&(c=l.indexOf("application/x-www-form-urlencoded")>-1?r(a).replace(P,"+"):JSON.stringify(a)),e.onreadystatechange=function(){return E(e,t)},k(i,e),e.send(c)}function D(e){var t=new XMLHttpRequest,n=function(e){return(0,r["default"])([A,T,R],(function(n){return n(t,e)}))};return e=b(D.defaults,e),"undefined"!==typeof Promise?new Promise((function(t,r){n((0,o["default"])(e,{resolve:t,reject:r}))})):(n(e),null)}D.defaults=m(),D._reset=function(){D.defaults=m()},D._request=function(e,t,n){return void 0===n&&(n={}),D((0,o["default"])(n,{url:e,method:t}))},(0,r["default"])(["get","post","put","delete","patch","options","head"],(function(e){D[e]=function(t,n){return D._request(t,e.toUpperCase(),n)}}));var _=D;t.default=_,e.exports=t["default"]},187:function(e,t,n){"use strict";var r=n(383);function i(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}e.exports=i},695:function(e){"use strict";function t(e,t,n){var r=0,i=e.length;for(n=n||null;r<i;r+=1)if(!1===t.call(n,e[r],r,e))break}e.exports=t},175:function(e){"use strict";function t(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}e.exports=t},867:function(e){"use strict";function t(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i],n)a.call(n,r)&&(e[r]=n[r]);return e}e.exports=t},947:function(e,t,n){"use strict";var r=n(325);function i(e){var t=r(e)&&("[object Arguments]"===Object.prototype.toString.call(e)||!!e.callee);return t}e.exports=i},383:function(e){"use strict";function t(e){return e instanceof Array}e.exports=t},440:function(e,t,n){"use strict";var r=n(994),i=n(325),o=n(383),a=n(947),s=n(873),l=n(494);function c(e){return r(e)&&""===e}function u(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function f(e){return!(i(e)&&!c(e))||(o(e)||a(e)?0===e.length:!(s(e)&&!l(e))||!u(e))}e.exports=f},325:function(e,t,n){"use strict";var r=n(895),i=n(948);function o(e){return!r(e)&&!i(e)}e.exports=o},494:function(e){"use strict";function t(e){return e instanceof Function}e.exports=t},948:function(e){"use strict";function t(e){return null===e}e.exports=t},873:function(e){"use strict";function t(e){return e===Object(e)}e.exports=t},994:function(e){"use strict";function t(e){return"string"===typeof e||e instanceof String}e.exports=t},895:function(e){"use strict";function t(e){return void 0===e}e.exports=t},485:function(e,t,n){"use strict";function r(e,t){if(i("noDeprecation"))return e;var n=!1;function r(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return r}function i(e){try{if(!n.g.localStorage)return!1}catch(r){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=r},203:function(t){"use strict";t.exports=e},854:function(){},602:function(){}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var i={};return function(){"use strict";r.d(i,{default:function(){return Z}});var e=r(203),t=r.n(e),n=r(994),o=r.n(n),a=r(895),s=r.n(a),l=r(187),c=r.n(l),u=r(867),f=r.n(u),d=r(863),h=r.n(d),p={RELAXED:!1,IGNORE_RECORD_LENGTH:!1,IGNORE_QUOTES:!1,LINE_FEED_OK:!0,CARRIAGE_RETURN_OK:!0,DETECT_TYPES:!0,IGNORE_QUOTE_WHITESPACE:!0,DEBUG:!1,COLUMN_SEPARATOR:",",ERROR_EOF:"UNEXPECTED_END_OF_FILE",ERROR_CHAR:"UNEXPECTED_CHARACTER",ERROR_EOL:"UNEXPECTED_END_OF_RECORD",WARN_SPACE:"UNEXPECTED_WHITESPACE"},v='"',m="\r",y="\n",g=" ",b="\t",w=0,x=1,k=2,S=4;p.parse=function(e){var t,n=p.result=[];p.COLUMN_SEPARATOR=p.COLUMN_SEPARATOR instanceof RegExp?new RegExp("^"+p.COLUMN_SEPARATOR.source):p.COLUMN_SEPARATOR,p.offset=0,p.str=e,p.record_begin(),p.debug("parse()",e);while(1){if(t=e[p.offset++],p.debug("c",t),null==t){p.escaped&&p.error(p.ERROR_EOF),p.record&&(p.token_end(),p.record_end()),p.debug("...bail",t,p.state,p.record),p.reset();break}if(null==p.record){if(p.RELAXED&&(t==y||t==m&&e[p.offset+1]==y))continue;p.record_begin()}if(p.state==w){if((t===g||t===b)&&p.next_nonspace()==v){if(p.RELAXED||p.IGNORE_QUOTE_WHITESPACE)continue;p.warn(p.WARN_SPACE)}if(t==v&&!p.IGNORE_QUOTES){p.debug("...escaped start",t),p.escaped=!0,p.state=x;continue}p.state=x}p.state==x&&p.escaped?t==v?e[p.offset]==v?(p.debug("...escaped quote",t),p.token+=v,p.offset++):(p.debug("...escaped end",t),p.escaped=!1,p.state=k):(p.token+=t,p.debug("...escaped add",t,p.token)):t==m?(e[p.offset]==y?p.offset++:p.CARRIAGE_RETURN_OK||p.error(p.ERROR_CHAR),p.token_end(),p.record_end()):t==y?(p.LINE_FEED_OK||p.RELAXED||p.error(p.ERROR_CHAR),p.token_end(),p.record_end()):p.test_regex_separator(e)||p.COLUMN_SEPARATOR==t?p.token_end():p.state==x?(p.token+=t,p.debug("...add",t,p.token)):t===g||t===b?p.IGNORE_QUOTE_WHITESPACE||p.error(p.WARN_SPACE):p.RELAXED||p.error(p.ERROR_CHAR)}return n},p.stream=function(){var e=r(769),t=new e.Transform({objectMode:!0});return t.EOL="\n",t.prior="",t.emitter=function(e){return function(t){e.push(p.parse(t+e.EOL))}}(t),t._transform=function(e,t,n){var r=""==this.prior?e.toString().split(this.EOL):(this.prior+e.toString()).split(this.EOL);this.prior=r.pop(),r.forEach(this.emitter),n()},t._flush=function(e){""!=this.prior&&(this.emitter(this.prior),this.prior=""),e()},t},p.test_regex_separator=function(e){return p.COLUMN_SEPARATOR instanceof RegExp&&(e=e.slice(p.offset-1),t=p.COLUMN_SEPARATOR.exec(e),t&&(p.offset+=t[0].length-1),null!==t);var t},p.stream.json=function(){var e=r(983),t=(r(769),new streamTransform({objectMode:!0}));return t._transform=function(n,r,i){t.push(JSON.stringify(n.toString())+e.EOL),i()},t},p.reset=function(){p.state=null,p.token=null,p.escaped=null,p.record=null,p.offset=null,p.result=null,p.str=null},p.next_nonspace=function(){var e,t=p.offset;while(t<p.str.length)if(e=p.str[t++],e!=g&&e!==b)return e;return null},p.record_begin=function(){p.escaped=!1,p.record=[],p.token_begin(),p.debug("record_begin")},p.record_end=function(){p.state=S,!p.IGNORE_RECORD_LENGTH&&!p.RELAXED&&p.result.length>0&&p.record.length!=p.result[0].length&&p.error(p.ERROR_EOL),p.result.push(p.record),p.debug("record end",p.record),p.record=null},p.resolve_type=function(e){return e.match(/^[-+]?[0-9]+(\.[0-9]+)?([eE][-+]?[0-9]+)?$/)?e=parseFloat(e):e.match(/^(true|false)$/i)?e=Boolean(e.match(/true/i)):"undefined"===e?e=void 0:"null"===e&&(e=null),e},p.token_begin=function(){p.state=w,p.token=""},p.token_end=function(){p.DETECT_TYPES&&(p.token=p.resolve_type(p.token)),p.record.push(p.token),p.debug("token end",p.token),p.token_begin()},p.debug=function(){p.DEBUG&&console.log(arguments)},p.dump=function(e){return[e,"at char",p.offset,":",p.str.substr(p.offset-50,50).replace(/\r/gm,"\\r").replace(/\n/gm,"\\n").replace(/\t/gm,"\\t")].join(" ")},p.error=function(e){var t=p.dump(e);throw p.reset(),t},p.warn=function(e){if(p.DEBUG){var t=p.dump(e);try{return void console.warn(t)}catch(n){}try{console.log(t)}catch(n){}}};var O=p;function C(e){return e.replace(/(^(\s*[\n\r])+)|([\n\r]+\s*$)/g,"")}function E(e){var t=Number(e);return!isNaN(t)&&isFinite(t)}function M(e,t,n){var r;return t>n&&(r=[t,n],n=r[0],t=r[1]),Math.max(t,Math.min(e,n))}var A=function(){return A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A.apply(this,arguments)};O.IGNORE_QUOTE_WHITESPACE=!1,O.IGNORE_RECORD_LENGTH=!0,O.DETECT_TYPES=!1;var T=/[\n\r]/,P=/([^:]+)?:?(.*)/,R=/\s+/,D=[",","\t"],_=2,j=["bar","column","line","area","pie"],L=["line","area"],I={minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,height:"auto",width:"auto"},N=["type","url"],B={bar:t().barChart,column:t().columnChart,area:t().areaChart,line:t().lineChart,pie:t().pieChart},z={};function H(e,t){var n;e=C(e);var r=e.split(/\n{2,}/),i=r[0],a=r[1],s=V(i),l=null===(n=null===s||void 0===s?void 0:s.editorChart)||void 0===n?void 0:n.url;if(o()(l)){var c=function(e){var n=e.data;t({data:F(n),options:V(i)})},u=function(){return t()};h().get(l,{success:c,error:u})}else{var f=F(i),d=V(a);t({data:f,options:d})}}function W(e){var t=R,n=0;return e=C(e),D.forEach((function(r){var i=e.match(new RegExp(r,"g"));(null===i||void 0===i?void 0:i.length)>Math.max(_,n)&&(t=r,n=i.length)})),t}function F(e,t){e=C(e),O.COLUMN_SEPARATOR=t||W(e);var n=O.parse(e);n=n.map((function(e){return e.map((function(e){return e.trim()}))}));var r=n[0].filter((function(e,t){return t>0})).reduce((function(e,t){return e||!E(t)}),!1),i=r?n.shift():[],o=n.slice(1).reduce((function(e,t){return e||!E(t[0])}),!1),a=o?n.map((function(e){return e.shift()})):[];o&&i.shift();var s=n[0].map((function(e,t){return n.map((function(e){return parseFloat(e[t])}))})),l=s.map((function(e,t){return r?{name:i[t],data:e}:{data:e}}));return{categories:a,series:l}}function U(e){var t=e.trim().split("."),n=t[0];return c()(n,N)>=0?t.unshift("editorChart"):1===t.length?t.unshift("chart"):"x"!==n&&"y"!==n||(t[0]=n+"Axis"),t}function V(e){var t={};if(!s()(e)){var n=e.split(T);n.forEach((function(e){var n=e.match(P);if(n){var r=n[1],i=n[2];if(i){try{i=JSON.parse(i.trim())}catch(s){i=i.trim()}var o=U(r),a=t;o.forEach((function(e,t){a[e]=a[e]||(o.length-1===t?i:{}),a=a[e]}))}}}))}return t}function q(e,t){return"auto"===e?t:e}function Y(e,t,n){var r=f()(A({},I),t),i=r.maxWidth,o=r.minWidth,a=r.maxHeight,s=r.minHeight,l=n.getBoundingClientRect().width,c=e.chart,u=c.width,d=void 0===u?r.width:u,h=c.height,p=void 0===h?r.height:h;return d=q(d,l),p=q(p,l),{width:M(d,o,i),height:M(p,s,a)}}function $(e,t,n){e=f()({editorChart:{},chart:{},exportMenu:{}},e);var r=Y(e,t,n),i=r.width,o=r.height;return e.chart.width=i,e.chart.height=o,e.editorChart.type=e.editorChart.type||"column",e.exportMenu.visible=!!e.exportMenu.visible,e}function G(){Object.keys(z).forEach((function(e){var t=document.querySelector("[data-chart-id="+e+"]");t||(z[e].destroy(),delete z[e])}))}function X(e,t,n,r){var i=document.querySelector("[data-chart-id="+e+"]");if(G(),i)try{H(t,(function(t){var o=t||{},a=o.data,s=o.options,l=$(s,r,i),c=l.editorChart.type;if(!a||L.indexOf(c)>-1&&a.categories.length!==a.series[0].data.length)i.innerHTML="invalid chart data";else if(j.indexOf(c)<0)i.innerHTML="invalid chart type. type: bar, column, line, area, pie";else{var u=B[c];l.usageStatistics=n,z[e]=u({el:i,data:a,options:l})}}))}catch(o){i.innerHTML="invalid chart data"}}function K(){return"chart-"+Math.random().toString(36).substr(2,10)}function Z(e,t){var n=e.usageStatistics,r=void 0===n||n;return{toHTMLRenderers:{chart:function(e){var n=K();return setTimeout((function(){X(n,e.literal,r,t)})),[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{"data-chart-id":n}},{type:"closeTag",tagName:"div",outerNewLine:!0}]}}}}}(),i=i.default,i}()}))},9351:function(e){
/*!
 * TOAST UI Editor : Code Syntax Highlight Plugin
 * @version 3.0.0 | Thu Jun 17 2021
 * @author NHN FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
(function(){"use strict";var t={928:function(e,t,n){var r=n(322);function i(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}e.exports=i},690:function(e,t,n){var r=n(322),i=n(893),o=n(956);function a(e,t,n){r(e)?i(e,t,n):o(e,t,n)}e.exports=a},893:function(e){function t(e,t,n){var r=0,i=e.length;for(n=n||null;r<i;r+=1)if(!1===t.call(n,e[r],r,e))break}e.exports=t},956:function(e){function t(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}e.exports=t},990:function(e,t,n){var r=n(893);function i(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}e.exports=i},24:function(e,t,n){var r=n(322),i=n(929);function o(e,t){t=r(t)?t.join(" "):t,t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}e.exports=o},204:function(e,t,n){var r=n(690),i=n(928),o=n(902),a=n(24);function s(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):(t=o(e),t&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}e.exports=s},522:function(e,t,n){var r=n(758),i=n(690);function o(e,t,n){var o=e.style;r(t)?o[t]=n:i(t,(function(e,t){o[t]=e}))}e.exports=o},902:function(e,t,n){var r=n(929);function i(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}e.exports=i},714:function(e,t,n){var r=n(928),i=n(902);function o(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}e.exports=o},462:function(e,t,n){var r=n(893),i=n(928),o=n(902),a=n(24);function s(e){var t,n,s=Array.prototype.slice.call(arguments,1),l=e.classList;l?r(s,(function(e){l.remove(e)})):(t=o(e).split(/\s+/),n=[],r(t,(function(e){i(e,s)<0&&n.push(e)})),a(e,n))}e.exports=s},322:function(e){function t(e){return e instanceof Array}e.exports=t},294:function(e){function t(e){return e instanceof Function}e.exports=t},758:function(e){function t(e){return"string"===typeof e||e instanceof String}e.exports=t},929:function(e){function t(e){return void 0===e}e.exports=t}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var i={};!function(){r.d(i,{default:function(){return q}});var e=r(294),t=r.n(e),n=3;function o(e){return{codeBlock:function(t){var r=t,i=r.fenceLength,o=r.info,a=o?o.split(/\s+/):[],s=[],l={};i>n&&(l["data-backticks"]=i);var c=t.literal;if(a.length&&a[0].length){var u=a[0];s.push("lang-"+u),l["data-language"]=u;var f=e.languages[u];f&&(c=e.highlight(t.literal,f,u))}return[{type:"openTag",tagName:"pre",classNames:s},{type:"openTag",tagName:"code",attributes:l},{type:"html",content:c},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]}}}var a=r(758),s=r.n(a);function l(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?l(t):t)}),[])}var c=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},u="codeBlock";function f(e){var t=[];return e.descendants((function(e,n){e.isBlock&&e.type.name===u&&t.push({node:e,pos:n})})),t}function d(e,t){return void 0===t&&(t=[]),s()(e)?[{text:e,classes:t}]:e.map((function(e){var n=e,r=n.type,i=n.alias,o=[],a=[];r&&(o=["token",r]),i&&(a=s()(i)?[i]:i);var l=c(c(c([],t),o),a);return s()(e)?{text:e,classes:l}:d(e.content,l)}))}function h(e,t,n){var r=t.pmView,i=[],o=f(e);return o.forEach((function(e){var t=e.pos,o=e.node,a=o.attrs.language,s=n.languages[a],c=s?n.tokenize(o.textContent,s):[],u=l(d(c)),f=t+1;u.forEach((function(e){var t=e.text,n=e.classes,o=f,a=o+t.length;f=a;var s=n.join(" "),l=r.Decoration.inline(o,a,{class:s});s.length&&i.push(l)}))})),r.DecorationSet.create(e,i)}function p(e,t){return new e.pmState.Plugin({state:{init:function(n,r){var i=r.doc;return h(i,e,t)},apply:function(n,r){return n.docChanged?h(n.doc,e,t):r.map(n.mapping,n.doc)}},props:{decorations:function(e){return this.getState(e)}}})}var v=r(204),m=r.n(v);function y(e){return parseInt(e,10)}function g(e,t,n){var r=y(e.left),i=y(e.top),o=y(e.width)+y(e.paddingLeft)+y(e.paddingRight),a=y(e.height)+y(e.paddingTop)+y(e.paddingBottom);return t>=r&&t<=r+o&&n>=i&&n<=i+a}function b(e){e.parentNode&&e.parentNode.removeChild(e)}var w="toastui-editor-";function x(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return""+w+e})).join(" ")}var k=r(522),S=r.n(k),O=r(462),C=r.n(O),E=r(714),M=r.n(E),A=r(990),T=r.n(A),P=r(928),R=r.n(P),D="code-block-language",_="code-block-language-input",j="code-block-language-list",L="data-language",I=10;function N(e){return e.map((function(e){return'<button type="button" data-language="'+e+'">'+e+"</button>"})).join("")}var B=function(){function e(e,t){var n=this;this.buttons=[],this.prevStoredLanguage="",this.onSelectToggleButton=function(e){var t=e.target,r=getComputedStyle(t,":after"),i=e.offsetX,o=e.offsetY;g(r,i,o)&&(e.preventDefault(),n.toggleFocus())},this.onSelectLanguageButtons=function(e){var t=e.target,r=t.getAttribute(L);r&&n.selectLanguage(r)},this.handleKeydown=function(e){var t=e.key;"ArrowUp"===t?(n.selectPrevLanguage(),e.preventDefault()):"ArrowDown"===t?(n.selectNextLanguage(),e.preventDefault()):"Enter"===t||"Tab"===t?(n.storeInputLanguage(),e.preventDefault()):n.hideList()},this.showLangugaeSelectBox=function(e,t){var r=e.top,i=e.right;t&&n.setLanguage(t),n.show();var o=n.input.parentElement.getBoundingClientRect().width;S()(n.wrapper,{top:r+I+"px",left:i-o-I+"px"}),n.toggleFocus()},this.eventEmitter=e,this.languages=t,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return e.prototype.createElement=function(){this.wrapper=document.createElement("div"),m()(this.wrapper,x(D)),this.createInputElement(),this.createLanguageListElement(),document.querySelector(".toastui-editor.ww-mode").appendChild(this.wrapper),this.hide()},e.prototype.createInputElement=function(){var e=document.createElement("span");m()(e,x(_));var t=document.createElement("input");t.type="text",t.setAttribute("maxlength","20"),this.input=t,e.appendChild(this.input),this.wrapper.appendChild(e)},e.prototype.createLanguageListElement=function(){this.list=document.createElement("div"),m()(this.list,x(j));var e=document.createElement("div");m()(e,"buttons"),e.innerHTML=N(this.languages),this.buttons=T()(e.children),this.list.appendChild(e),this.wrapper.appendChild(this.list),this.activateButtonByIndex(0),this.hideList()},e.prototype.bindDOMEvent=function(){var e=this;this.wrapper.addEventListener("mousedown",this.onSelectToggleButton),this.input.addEventListener("keydown",this.handleKeydown),this.input.addEventListener("focus",(function(){return e.activateSelectBox()})),this.input.addEventListener("blur",(function(){return e.inactivateSelectBox()})),this.list.addEventListener("mousedown",this.onSelectLanguageButtons)},e.prototype.bindEvent=function(){this.eventEmitter.listen("showCodeBlockLanguages",this.showLangugaeSelectBox)},e.prototype.activateSelectBox=function(){m()(this.wrapper,"active"),S()(this.list,{display:"block"})},e.prototype.inactivateSelectBox=function(){this.input.value=this.prevStoredLanguage,C()(this.wrapper,"active"),this.hideList()},e.prototype.toggleFocus=function(){M()(this.wrapper,"active")?this.input.blur():this.input.focus()},e.prototype.storeInputLanguage=function(){var e=this.input.value;this.setLanguage(e),this.hideList(),this.eventEmitter.emit("selectLanguage",e)},e.prototype.activateButtonByIndex=function(e){this.currentButton&&C()(this.currentButton,"active"),this.buttons.length&&(this.currentButton=this.buttons[e],this.input.value=this.currentButton.getAttribute(L),m()(this.currentButton,"active"),this.currentButton.scrollIntoView())},e.prototype.selectLanguage=function(e){this.input.value=e,this.storeInputLanguage()},e.prototype.selectPrevLanguage=function(){var e=R()(this.currentButton,this.buttons)-1;e<0&&(e=this.buttons.length-1),this.activateButtonByIndex(e)},e.prototype.selectNextLanguage=function(){var e=R()(this.currentButton,this.buttons)+1;e>=this.buttons.length&&(e=0),this.activateButtonByIndex(e)},e.prototype.hideList=function(){S()(this.list,{display:"none"})},e.prototype.show=function(){S()(this.wrapper,{display:"inline-block"})},e.prototype.hide=function(){S()(this.wrapper,{display:"none"})},e.prototype.setLanguage=function(e){this.prevStoredLanguage=e,this.input.value=e;var t=this.buttons.filter((function(t){return t.getAttribute(L)===e}));if(t.length){var n=R()(t[0],this.buttons);this.activateButtonByIndex(n)}},e.prototype.destroy=function(){b(this.wrapper),this.eventEmitter.removeEventHandler("showCodeBlockLanguages",this.showLangugaeSelectBox)},e}(),z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z.apply(this,arguments)},H="ww-code-block-highlighting";function W(e){var t=e.htmlAttrs,n=e.classNames;return z(z({},t),{class:n?n.join(" "):null})}var F=function(){function e(e,n,r,i,o){var a=this;this.node=e,this.view=n,this.getPos=r,this.eventEmitter=i,this.languages=o,this.dom=null,this.contentDOM=null,this.languageSelectBox=null,this.onSelectLanguage=function(e){a.languageEditing&&a.changeLanguage(e)},this.onClickEditingButton=function(e){var n=e.target,r=getComputedStyle(n,":after");if("none"!==r.backgroundImage&&t()(a.getPos)){var i=a.view.coordsAtPos(a.getPos());a.openLanguageSelectBox(i)}},this.finishLanguageEditing=function(){a.languageEditing&&a.reset()},this.node=e,this.view=n,this.getPos=r,this.eventEmitter=i,this.languageEditing=!1,this.languages=o,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return e.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),m()(t,x(H));var n=this.createCodeBlockElement(),r=n.firstChild;e&&(m()(n,"language-"+e),m()(r,"language-"+e)),t.appendChild(n),this.dom=t,this.contentDOM=r},e.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,r=W(this.node.attrs);return n&&t.setAttribute("data-language",n),Object.keys(r).forEach((function(t){r[t]&&e.setAttribute(t,r[t])})),e.appendChild(t),e},e.prototype.bindDOMEvent=function(){this.dom&&(this.dom.addEventListener("click",this.onClickEditingButton),this.view.dom.addEventListener("mousedown",this.finishLanguageEditing),window.addEventListener("resize",this.finishLanguageEditing))},e.prototype.bindEvent=function(){this.eventEmitter.listen("selectLanguage",this.onSelectLanguage),this.eventEmitter.listen("scroll",this.finishLanguageEditing),this.eventEmitter.listen("finishLanguageEditing",this.finishLanguageEditing)},e.prototype.openLanguageSelectBox=function(e){this.languageSelectBox=new B(this.eventEmitter,this.languages),this.eventEmitter.emit("showCodeBlockLanguages",e,this.node.attrs.language),this.languageEditing=!0},e.prototype.changeLanguage=function(e){if(t()(this.getPos)){this.reset();var n=this.getPos(),r=this.view.state.tr;r.setNodeMarkup(n,null,{language:e}),this.view.dispatch(r)}},e.prototype.reset=function(){this.languageSelectBox&&(this.languageSelectBox.destroy(),this.languageSelectBox=null),this.languageEditing=!1},e.prototype.stopEvent=function(){return!0},e.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,!0)},e.prototype.destroy=function(){this.reset(),this.dom&&(this.dom.removeEventListener("click",this.onClickEditingButton),this.view.dom.removeEventListener("mousedown",this.finishLanguageEditing),window.removeEventListener("resize",this.finishLanguageEditing)),this.eventEmitter.removeEventHandler("selectLanguage",this.onSelectLanguage),this.eventEmitter.removeEventHandler("scroll",this.finishLanguageEditing),this.eventEmitter.removeEventHandler("finishLanguageEditing",this.finishLanguageEditing)},e}();function U(e){return function(t,n,r,i){return new F(t,n,r,i,e)}}function V(e,n){if(n){var r=e.eventEmitter,i=n.highlighter;r.addEventType("showCodeBlockLanguages"),r.addEventType("selectLanguage"),r.addEventType("finishLanguageEditing");var a=i.languages,s=Object.keys(a).filter((function(e){return!t()(a[e])}));return{toHTMLRenderers:o(i),wysiwygPlugins:[function(){return p(e,i)}],wysiwygNodeViews:{codeBlock:U(s)}}}return{}}void 0!==typeof window&&(window.Prism=window.Prism||{},window.Prism.manual=!0);var q=V}(),e.exports=i.default})()},3267:function(e,t,n){
/*!
 * TOAST UI Editor : Color Syntax Plugin
 * @version 3.0.3 | Thu Apr 14 2022
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
(function(t,r){e.exports=r(n(7781))})(self,(function(e){return function(){"use strict";var t={858:function(t){t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var i={};return function(){r.d(i,{default:function(){return p}});var e=r(858),t=r.n(e);function n(e){e.setLanguage("ar",{"Text color":"لون النص"}),e.setLanguage(["cs","cs-CZ"],{"Text color":"Barva textu"}),e.setLanguage(["de","de-DE"],{"Text color":"Textfarbe"}),e.setLanguage(["en","en-US"],{"Text color":"Text color"}),e.setLanguage(["es","es-ES"],{"Text color":"Color del texto"}),e.setLanguage(["fi","fi-FI"],{"Text color":"Tekstin väri"}),e.setLanguage(["fr","fr-FR"],{"Text color":"Couleur du texte"}),e.setLanguage(["gl","gl-ES"],{"Text color":"Cor do texto"}),e.setLanguage(["hr","hr-HR"],{"Text color":"Boja teksta"}),e.setLanguage(["it","it-IT"],{"Text color":"Colore del testo"}),e.setLanguage(["ja","ja-JP"],{"Text color":"文字色相"}),e.setLanguage(["ko","ko-KR"],{"Text color":"글자 색상"}),e.setLanguage(["nb","nb-NO"],{"Text color":"Tekstfarge"}),e.setLanguage(["nl","nl-NL"],{"Text color":"Tekstkleur"}),e.setLanguage(["pl","pl-PL"],{"Text color":"Kolor tekstu"}),e.setLanguage(["pt","pt-BR"],{"Text color":"Cor do texto"}),e.setLanguage(["ru","ru-RU"],{"Text color":"Цвет текста"}),e.setLanguage(["sv","sv-SE"],{"Text color":"Textfärg"}),e.setLanguage(["tr","tr-TR"],{"Text color":"Metin rengi"}),e.setLanguage(["uk","uk-UA"],{"Text color":"Колір тексту"}),e.setLanguage("zh-CN",{"Text color":"文字颜色"}),e.setLanguage("zh-TW",{"Text color":"文字顏色"})}function o(e,t){return e.classList.contains(t)}function a(e,t){var n=e;while(n&&!o(n,t))n=n.parentElement;return n}var s,l,c="toastui-editor-";function u(e){var t=document.createElement("button");return t.setAttribute("type","button"),t.textContent=e,t}function f(e,t){return{name:"color",tooltip:t.get("Text color"),className:c+"toolbar-icons color",popup:{className:c+"popup-color",body:e,style:{width:"auto"}}}}function d(e,t,n,r,i){var o=e.mapping,a=e.doc,s=t.from,l=t.to,c=t.empty,u=o.map(s)+r.length,f=o.map(l)-i.length;return c?n.create(a,f,f):n.create(a,u,f)}function h(e,t){var n=a(e,c+"defaultUI");return n.querySelector("."+t+" .ProseMirror")}function p(e,r){void 0===r&&(r={});var i=e.eventEmitter,o=e.i18n,a=e.usageStatistics,p=void 0===a||a,v=e.pmState,m=r.preset,y=document.createElement("div"),g={container:y,usageStatistics:p};n(o),m&&(g.preset=m);var b=t().create(g),w=u(o.get("OK"));i.listen("focus",(function(e){s=c+("markdown"===e?"md":"ww")+"-container"})),y.addEventListener("click",(function(e){if("button"===e.target.getAttribute("type")){var t=b.getColor();l=h(y,s),i.emit("command","color",{selectedColor:t}),i.emit("closePopup"),l.focus()}})),b.slider.toggle(!0),y.appendChild(w);var x=f(y,o);return{markdownCommands:{color:function(e,t,n){var r=e.selectedColor,i=t.tr,o=t.selection,a=t.schema;if(r){var s=o.content(),l=s.content.textBetween(0,s.content.size,"\n"),c='<span style="color: '+r+'">',u="</span>",f=""+c+l+u;return i.replaceSelectionWith(a.text(f)).setSelection(d(i,o,v.TextSelection,c,u)),n(i),!0}return!1}},wysiwygCommands:{color:function(e,t,n){var r=e.selectedColor,i=t.tr,o=t.selection,a=t.schema;if(r){var s=o.from,l=o.to,c={htmlAttrs:{style:"color: "+r}},u=a.marks.span.create(c);return i.addMark(s,l,u),n(i),!0}return!1}},toolbarItems:[{groupIndex:0,itemIndex:3,item:x}],toHTMLRenderers:{htmlInline:{span:function(e,t){var n=t.entering;return n?{type:"openTag",tagName:"span",attributes:e.attrs}:{type:"closeTag",tagName:"span"}}}}}}}(),i=i["default"],i}()}))},1931:function(e){
/*!
 * TOAST UI Editor : Table Merged Cell Plugin
 * @version 3.0.2 | Thu Feb 10 2022
 * @author NHN FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
(function(){"use strict";var t={893:function(e){function t(e,t,n){var r=0,i=e.length;for(n=n||null;r<i;r+=1)if(!1===t.call(n,e[r],r,e))break}e.exports=t},990:function(e,t,n){var r=n(893);function i(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}e.exports=i}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var i={};!function(){function e(e,t,n){var r=new RegExp("^((?:"+n+"=[0-9]+:)?)"+t+"=([0-9]+):(.*)"),i=r.exec(e),o=1;return i&&(o=parseInt(i[2],10),e=i[1]+i[3]),[o,e]}function t(e,t,n){var r=t.prev;if(r)for(var i=t.parent.parent.columns.length,o=e.startIdx;o<i;o+=1){var a=r.rowspanMap[o];a&&a>1&&(t.rowspanMap[o]=a-1,o<=e.endIdx&&(e.startIdx+=1,e.endIdx+=1))}if(n>1){var s=e.startIdx,l=e.endIdx;for(o=s;o<=l;o+=1)t.rowspanMap[o]=n}}r.d(i,{default:function(){return K}});var n={tableRow:function(e,t){var n=t.entering;if(n&&(e.rowspanMap={},e.prev&&!e.firstChild)){var r=e.prev.rowspanMap;Object.keys(r).forEach((function(t){r[t]>1&&(e.rowspanMap[t]=r[t]-1)}))}},tableCell:function(n,r){var i,o,a=r.entering,s=n.parent,l=n.prev,c=n.stringContent;if(a){var u={},f=c,d=[1,1],h=d[0],p=d[1];i=e(f,"@cols","@rows"),h=i[0],f=i[1],o=e(f,"@rows","@cols"),p=o[0],f=o[1],n.stringContent=f,l&&(n.startIdx=l.endIdx+1,n.endIdx=n.startIdx),h>1&&(u.colspan=h,n.endIdx+=h-1),p>1&&(u.rowspan=p),n.attrs=u,t(n,s,p);var v=s.parent;"tableBody"===v.type&&n.endIdx>=v.parent.columns.length&&(n.ignored=!0)}}},o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a={tableRow:function(e,t){var n=t.entering,r=t.origin;if(n)return r();var i=[];if(e.lastChild)for(var o=e.parent.parent.columns.length,a=e.lastChild.endIdx,s=a+1;s<o;s+=1)(!e.prev||!e.prev.rowspanMap[s]||e.prev.rowspanMap[s]<=1)&&i.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return i.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),i},tableCell:function(e,t){var n=t.entering,r=t.origin,i=r();if(e.ignored)return i;if(n){var a=o({},e.attrs);i.attributes=o(o({},i.attributes),a)}return i}},s=3;function l(e,t){for(var n="",r=0;r<t;r+=1)n+=e;return n}function c(e,t){var n=e.length,r="",i="";return"left"===t?(r=":",n-=1):"right"===t?(i=":",n-=1):"center"===t&&(r=":",i=":",n-=2),""+r+l("-",Math.max(n,s))+i}function u(e){var t=e.attrs,n=t.rowspan,r=t.colspan,i="";return n&&(i="@rows="+n+":"),r&&(i="@cols="+r+":"+i),{delim:"| "+i}}var f={tableHead:function(e){var t=e.node.firstChild,n="";return t&&t.forEach((function(e){var t=e.textContent,r=e.attrs,i=c(t,r.align);if(n+="| "+i+" ",r.colspan)for(var o=0;o<r.colspan-1;o+=1)n+="| "+i+" "})),{delim:n}},tableHeadCell:function(e){return u(e.node)},tableBodyCell:function(e){return u(e.node)}};function d(e){e.setLanguage(["ko","ko-KR"],{"Merge cells":"셀 병합","Split cells":"셀 병합해제","Cannot change part of merged cell":"병합된 셀의 일부를 변경할 수 없습니다.","Cannot paste row merged cells into the table header":"테이블 헤더에는 행 병합된 셀을 붙여넣을 수 없습니다."}),e.setLanguage(["en","en-US"],{"Merge cells":"Merge cells","Split cells":"Split cells","Cannot change part of merged cell":"Cannot change part of merged cell.","Cannot paste row merged cells into the table header":"Cannot paste row merged cells into the table header."}),e.setLanguage(["es","es-ES"],{"Merge cells":"Combinar celdas","Split cells":"Separar celdas","Cannot change part of merged cell":"No se puede cambiar parte de una celda combinada.","Cannot paste row merged cells into the table header":"No se pueden pegar celdas combinadas en el encabezado de tabla."}),e.setLanguage(["ja","ja-JP"],{"Merge cells":"セルの結合","Split cells":"セルの結合を解除","Cannot change part of merged cell":"結合されたセルの一部を変更することはできません。","Cannot paste row merged cells into the table header":"行にマージされたセルをヘッダーに貼り付けることはできません。"}),e.setLanguage(["nl","nl-NL"],{"Merge cells":"Cellen samenvoegen","Split cells":"Samengevoegde cellen ongedaan maken","Cannot change part of merged cell":"Kan geen deel uit van een samengevoegde cel veranderen.","Cannot paste row merged cells into the table header":"Kan geen rij met samengevoegde cellen in de koptekst plakken."}),e.setLanguage("zh-CN",{"Merge cells":"合并单元格","Split cells":"取消合并单元格","Cannot change part of merged cell":"无法更改合并单元格的一部分。","Cannot paste row merged cells into the table header":"无法将行合并单元格粘贴到标题中。"}),e.setLanguage(["de","de-DE"],{"Merge cells":"Zellen zusammenführen","Split cells":"Zusammenführen rückgängig machen","Cannot change part of merged cell":"Der Teil der verbundenen Zelle kann nicht geändert werden.","Cannot paste row merged cells into the table header":"Die Zeile der verbundenen Zellen kann nicht in die Kopfzeile eingefügt werden."}),e.setLanguage(["ru","ru-RU"],{"Merge cells":"Объединить ячейки","Split cells":"Разъединить ячейки","Cannot change part of merged cell":"Вы не можете изменять часть комбинированной ячейки.","Cannot paste row merged cells into the table header":"Вы не можете вставлять объединенные ячейки в заголовок таблицы."}),e.setLanguage(["fr","fr-FR"],{"Merge cells":"Fusionner les cellules","Split cells":"Séparer les cellules","Cannot change part of merged cell":"Impossible de modifier une partie de la cellule fusionnée.","Cannot paste row merged cells into the table header":"Impossible de coller les cellules fusionnées dans l'en-tête du tableau."}),e.setLanguage(["uk","uk-UA"],{"Merge cells":"Об'єднати комірки","Split cells":"Роз'єднати комірки","Cannot change part of merged cell":"Ви не можете змінювати частину комбінованої комірки.","Cannot paste row merged cells into the table header":"Ви не можете вставляти об'єднані комірки в заголовок таблиці."}),e.setLanguage(["tr","tr-TR"],{"Merge cells":"Hücreleri birleştir","Split cells":"Hücreleri ayır","Cannot change part of merged cell":"Birleştirilmiş hücrelerin bir kısmı değiştirelemez.","Cannot paste row merged cells into the table header":"Satırda birleştirilmiş hücreler sütun başlığına yapıştırılamaz"}),e.setLanguage(["fi","fi-FI"],{"Merge cells":"Yhdistä solut","Split cells":"Jaa solut","Cannot change part of merged cell":"Yhdistettyjen solujen osaa ei voi muuttaa","Cannot paste row merged cells into the table header":"Soluja ei voi yhdistää taulukon otsikkoriviin"}),e.setLanguage(["cs","cs-CZ"],{"Merge cells":"Spojit buňky","Split cells":"Rozpojit buňky","Cannot change part of merged cell":"Nelze měnit část spojené buňky","Cannot paste row merged cells into the table header":"Nelze vkládat spojené buňky do záhlaví tabulky"}),e.setLanguage("ar",{"Merge cells":"دمج الوحدات","Split cells":"إلغاء دمج الوحدات","Cannot change part of merged cell":"لا يمكن تغيير جزء من الخلية المدموجة","Cannot paste row merged cells into the table header":"لا يمكن لصق الخلايا المدموجة من صف واحد في رأس الجدول"}),e.setLanguage(["pl","pl-PL"],{"Merge cells":"Scal komórki","Split cells":"Rozłącz komórki","Cannot change part of merged cell":"Nie można zmienić części scalonej komórki.","Cannot paste row merged cells into the table header":"Nie można wkleić komórek o scalonym rzędzie w nagłówek tabeli."}),e.setLanguage("zh-TW",{"Merge cells":"合併儲存格","Split cells":"取消合併儲存格","Cannot change part of merged cell":"無法變更儲存格的一部分。","Cannot paste row merged cells into the table header":"無法將合併的儲存格貼上至表格標題中。"}),e.setLanguage(["gl","gl-ES"],{"Merge cells":"Combinar celas","Split cells":"Separar celas","Cannot change part of merged cell":"Non se pode cambiar parte dunha cela combinada","Cannot paste row merged cells into the table header":"Non se poden pegar celas no encabezado da táboa"}),e.setLanguage(["sv","sv-SE"],{"Merge cells":"Sammanfoga celler","Split cells":"Dela celler","Cannot change part of merged cell":"Ej möjligt att ändra en del av en sammanfogad cell","Cannot paste row merged cells into the table header":"Ej möjligt att klistra in rad-sammanfogade celler i tabellens huvud"}),e.setLanguage(["it","it-IT"],{"Merge cells":"Unisci celle","Split cells":"Separa celle","Cannot change part of merged cell":"Non è possibile modificare parte di una cella unita","Cannot paste row merged cells into the table header":"Non è possibile incollare celle unite per riga nell'intestazione della tabella"}),e.setLanguage(["nb","nb-NO"],{"Merge cells":"Slå sammen celler","Split cells":"Separer celler","Cannot change part of merged cell":"Kan ikke endre deler av sammenslåtte celler","Cannot paste row merged cells into the table header":"Kan ikke lime inn rad med sammenslåtte celler"}),e.setLanguage(["hr","hr-HR"],{"Merge cells":"Spoji ćelije","Split cells":"Odspoji ćelije","Cannot change part of merged cell":"Ne mogu mijenjati dio spojene ćelije.","Cannot paste row merged cells into the table header":"Ne mogu zaljepiti redak spojenih ćelija u zaglavlje tablice"})}var h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},p={extendedRowspan:function(e,t){var n=this.rowInfo[e].rowspanMap[t];return!!n&&n.startSpanIdx!==e},extendedColspan:function(e,t){var n=this.rowInfo[e].colspanMap[t];return!!n&&n.startSpanIdx!==t},getRowspanCount:function(e,t){var n=this.rowInfo[e].rowspanMap[t];return n?n.count:0},getColspanCount:function(e,t){var n=this.rowInfo[e].colspanMap[t];return n?n.count:0},decreaseColspanCount:function(e,t){var n=this.rowInfo[e].colspanMap[t],r=this.rowInfo[e].colspanMap[n.startSpanIdx];return r.count-=1,r.count},decreaseRowspanCount:function(e,t){var n=this.rowInfo[e].rowspanMap[t],r=this.rowInfo[n.startSpanIdx].rowspanMap[t];return r.count-=1,r.count},getColspanStartInfo:function(e,t){var n=this.rowInfo[e].colspanMap,r=n[t];if(r){var i=r.startSpanIdx,o=this.rowInfo[e][i];return{node:this.table.nodeAt(o.offset-this.tableStartOffset),pos:o.offset,startSpanIdx:i,count:n[i].count}}return null},getRowspanStartInfo:function(e,t){var n=this.rowInfo[e].rowspanMap,r=n[t];if(r){var i=r.startSpanIdx,o=this.rowInfo[i][t];return{node:this.table.nodeAt(o.offset-this.tableStartOffset),pos:o.offset,startSpanIdx:i,count:this.rowInfo[i].rowspanMap[t].count}}return null},getSpannedOffsets:function(e){for(var t=e.startRowIdx,n=e.startColIdx,r=e.endRowIdx,i=e.endColIdx,o=r;o>=t;o-=1)if(this.rowInfo[o])for(var a=this.rowInfo[o],s=a.rowspanMap,l=a.colspanMap,c=i;c>=n;c-=1){var u=s[c],f=l[c];u&&(t=Math.min(t,u.startSpanIdx)),f&&(n=Math.min(n,f.startSpanIdx))}for(o=t;o<=r;o+=1)if(this.rowInfo[o]){var d=this.rowInfo[o];for(s=d.rowspanMap,l=d.colspanMap,c=n;c<=i;c+=1){u=s[c],f=l[c];u&&(r=Math.max(r,o+u.count-1)),f&&(i=Math.max(i,c+f.count-1))}}return{startRowIdx:t,startColIdx:n,endRowIdx:r,endColIdx:i}}};function v(e,t){var n=t.rowspanMap,r=t.colspanMap,i=e.rowspanMap,o=e.colspanMap;Object.keys(i).forEach((function(a){var s=Number(a),l=i[s];if((null===l||void 0===l?void 0:l.count)>1){var c=o[s],u=l.count,f=l.startSpanIdx;n[s]={count:u-1,startSpanIdx:f},r[s]=c,t[s]=h(h({},e[s]),{extended:!0}),t.length+=1}}))}function m(e,t,n,r,i){for(var o=i.rowspanMap,a=i.colspanMap,s=1;s<t;s+=1)a[r+s]={count:t-s,startSpanIdx:r},e>1&&(o[r+s]={count:e,startSpanIdx:n}),i[r+s]=h({},i[r]),i.length+=1}var y=function(e,t,n){void 0===n&&(n=!1);var r=[],i="tableBody"===e.type.name;return e.forEach((function(e,o,a){var s=i&&!n?a+1:a,l=r[a-1],c={rowspanMap:{},colspanMap:{},length:0};l&&v(l,c),e.forEach((function(e,n){var r,i,a=e.nodeSize,l=e.attrs,u=null!==(r=l.colspan)&&void 0!==r?r:1,f=null!==(i=l.rowspan)&&void 0!==i?i:1,d=0;while(c[d])d+=1;c[d]={offset:t+o+n+2,nodeSize:a},c.length+=1,f>1&&(c.rowspanMap[d]={count:f,startSpanIdx:s}),u>1&&(c.colspanMap[d]={count:u,startSpanIdx:d},m(f,u,s,d,c))})),r.push(c)})),r},g=r(990),b=r.n(g),w=".toastui-editor-cell-selected";function x(e){return Number(e.getAttribute("colspan"))>1||Number(e.getAttribute("rowspan"))>1}function k(e){return b()(e.querySelectorAll(w)).some(x)}function S(e){return!!e.querySelectorAll(w).length}function O(e,t){var n=e.i18n,r=e.eventEmitter,i=t.parentElement.parentElement,o=[];return S(i)&&o.push({label:n.get("Merge cells"),onClick:function(){return r.emit("command","mergeCells")},className:"merge-cells"}),(x(t)||k(i))&&o.push({label:n.get("Split cells"),onClick:function(){return r.emit("command","splitCells")},className:"split-cells"}),o}function C(e){e.eventEmitter.listen("contextmenu",(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=r.menuGroups,o=r.tableCell,a=O(e,o);a.length&&i.splice(2,0,a)}))}var E,M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)};function A(e,t){var n=e.depth;while(n>=0){var r=e.node(n);if(t(r,n))return{node:r,depth:n,offset:n>0?e.before(n):0};n-=1}return null}function T(e){return A(e,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}))}function P(e,t){if(e instanceof t.pmState.TextSelection){var n=e.$anchor,r=T(n);if(r){var i=n.node(0).resolve(n.before(r.depth));return{anchor:i,head:i}}}var o=e,a=o.startCell,s=o.endCell;return{anchor:a,head:s}}function R(e){var t=e.startRowIdx,n=e.startColIdx,r=e.endRowIdx,i=e.endColIdx;return{rowCount:r-t+1,columnCount:i-n+1}}function D(e,t){return M(M({},e.attrs),t)}function _(e){var t=Object.getPrototypeOf(e);return t.constructor}function j(e,t,n,r){void 0===r&&(r=null);for(var i=n.nodes,o=i.tableHeadCell,a=i.tableBodyCell,s=i.paragraph,l=0===t?o:a,c=[],u=0;u<e;u+=1)c.push(l.create(r,s.create()));return c}function L(e,t){var n=e.pmModel.Fragment,r=function(r,i,o){var a=i.selection,s=i.tr,l=P(a,e),c=l.anchor,u=l.head;if(!c||!u||!a.isCellSelection)return!1;var f=t.create(c),d=_(a),h=f.totalRowCount,p=f.totalColumnCount,v=f.getRectOffsets(c,u),m=R(v),y=m.rowCount,g=m.columnCount,b=v.startRowIdx,w=v.startColIdx,x=v.endRowIdx,k=v.endColIdx,S=y>=h-1&&g===p,O=0===b&&x>b;if(S||O)return!1;for(var C=n.empty,E=b;E<=x;E+=1)for(var M=w;M<=k;M+=1)if(E===b&&M===w)C=N(E,M,C,f);else if(!f.extendedRowspan(E,M)&&!f.extendedColspan(E,M)){var A=f.getCellInfo(E,M),T=A.offset,D=A.nodeSize,j=s.mapping.map(T),L=j+D;C=N(E,M,C,f),s.delete(j,L)}var B=f.getNodeAndPos(b,w),z=B.node,H=B.pos;return I(s,C,{startNode:z,startPos:H,rowCount:y,columnCount:g}),s.setSelection(new d(s.doc.resolve(H))),o(s),!0};return r}function I(e,t,n){var r=n.startNode,i=n.startPos,o=n.rowCount,a=n.columnCount;e.setNodeMarkup(i,null,D(r,{colspan:a,rowspan:o})),t.size&&e.replaceWith(i+1,i+r.content.size,t)}function N(e,t,n,r){var i=r.getNodeAndPos(e,t).node.content;return i.size>2?n.append(i):n}function B(e,t,n){var r=t;if(!n.extendedRowspan(e,t)&&n.extendedColspan(e,t)){var i=n.getColspanStartInfo(e,t),o=i.startSpanIdx,a=i.count;r=o+a}return r}function z(e,t,n,r){var i=e.totalColumnCount;return e.extendedRowspan(n,r)&&e.extendedRowspan(n,i-1)&&t===e.posAt(n,i-1)}function H(e,t){var n=function(n,r,i,o){var a=r.selection,s=r.tr,l=P(a,e),c=l.anchor,u=l.head;if(!c||!u)return!1;for(var f=t.create(c),d=f.getRectOffsets(c,u),h=d.startRowIdx,p=d.startColIdx,v=d.endRowIdx,m=d.endColIdx,y=-1,g=h;g<=v;g+=1)for(var b=p;b<=m;b+=1)if(f.extendedRowspan(g,b)||f.extendedColspan(g,b)){var w=f.getNodeAndPos(g,b).node,x=B(g,b,f),k=f.posAt(g,x),S=s.mapping.map(k);z(f,k,g,x)&&(S+=2),y=Math.max(S,y),s.insert(S,w.type.createAndFill(D(w,{colspan:null,rowspan:null})))}else{var O=f.getNodeAndPos(g,b);w=O.node,S=O.pos;y=Math.max(s.mapping.map(S),y),s.setNodeMarkup(s.mapping.map(S),null,D(w,{colspan:null,rowspan:null}))}return i(s),W(o,a,t,f.tableStartOffset,d),!0};return n}function W(e,t,n,r,i){if(t.isCellSelection){var o=e.state.tr,a=_(t),s=i.startRowIdx,l=i.startColIdx,c=i.endRowIdx,u=i.endColIdx,f=n.create(o.doc.resolve(r)),d=f.getCellInfo(s,l).offset,h=f.getCellInfo(c,u).offset;o.setSelection(new a(o.doc.resolve(d),o.doc.resolve(h))),e.dispatch(o)}}function F(e,t){var n=function(n,r,i){var o=r.selection,a=r.tr,s=P(o,e),l=s.anchor,c=s.head;if(!l||!c)return!1;var u=t.create(l),f=u.getRectOffsets(l,c),d=u.totalColumnCount,h=u.totalRowCount,p=R(f).columnCount,v=p===d;if(v)return!1;for(var m=f.startColIdx,y=f.endColIdx,g=a.mapping.maps.length,b=0;b<h;b+=1)for(var w=y;w>=m;w-=1){var x=u.getCellInfo(b,w),k=x.offset,S=x.nodeSize,O=u.getColspanStartInfo(b,w);if(!u.extendedRowspan(b,w))if((null===O||void 0===O?void 0:O.count)>1){var C=u.getColspanStartInfo(b,w),E=C.node,M=C.pos,A=u.decreaseColspanCount(b,w),T=D(E,{colspan:A>1?A:null});a.setNodeMarkup(a.mapping.slice(g).map(M),null,T)}else{var _=a.mapping.slice(g).map(k),j=_+S;a.delete(_,j)}}return i(a),!0};return n}function U(e,t){for(var n=e.totalColumnCount,r=Number.MAX_VALUE,i=0,o=0;o<n;o+=1)if(!e.extendedRowspan(t,o)){var a=e.getCellInfo(t,o),s=a.offset,l=a.nodeSize;r=Math.min(r,s),i=Math.max(i,s+l)}return{from:r,to:i}}function V(e,t){var n=function(n,r,i){var o=r.selection,a=r.tr,s=P(o,e),l=s.anchor,c=s.head;if(l&&c){var u=t.create(l),f=u.totalRowCount,d=u.totalColumnCount,h=u.getRectOffsets(l,c),p=R(h).rowCount,v=h.startRowIdx,m=h.endRowIdx,y=0===v,g=p===f-1;if(g||y)return!1;for(var b=m;b>=v;b-=1){var w=a.mapping.maps.length,x=U(u,b),k=x.from,S=x.to;a.delete(k-1,S+1);for(var O=0;O<d;O+=1){var C=u.getRowspanStartInfo(b,O);if((null===C||void 0===C?void 0:C.count)>1&&!u.extendedColspan(b,O))if(u.extendedRowspan(b,O)){var E=u.getRowspanStartInfo(b,O),M=E.node,A=E.pos,T=u.decreaseRowspanCount(b,O),_=D(M,{rowspan:T>1?T:null});a.setNodeMarkup(a.mapping.slice(w).map(A),null,_)}else if(!u.extendedRowspan(b,O)){var j=u.getRowspanStartInfo(b,O),L=(M=j.node,j.count),I=(_=D(M,{rowspan:L>2?L-1:null}),M.type.create(_,M.content));a.insert(a.mapping.slice(w).map(u.posAt(b+1,O)),I)}}u=t.create(a.doc.resolve(u.tableStartOffset))}return i(a),!0}return!1};return n}function q(e,t,n){var r,i,o,a;return e===E.UP?(r=n.startRowIdx,i=function(e){return t.extendedRowspan(r,e)},o=0,a=-1):(r=n.endRowIdx,i=function(e){return t.getRowspanCount(r,e)>1},o=t.totalColumnCount-1,a=t.extendedRowspan(r,o)?2:t.getCellInfo(r,o).nodeSize+1),{targetRowIdx:r,judgeToExtendRowspan:i,insertColIdx:o,nodeSize:a}}function Y(e,t,n){var r=function(r,i,o){var a=i.selection,s=i.schema,l=i.tr,c=P(a,e),u=c.anchor,f=c.head;if(!u||!f)return!1;var d=t.create(u),h=d.totalColumnCount,p=d.getRectOffsets(u,f),v=R(p).rowCount,m=q(n,d,p),y=m.targetRowIdx,g=m.judgeToExtendRowspan,b=m.insertColIdx,w=m.nodeSize,x=0===y;if(x)return!1;for(var k=[],S=l.mapping.map(d.posAt(y,b))+w,O=[],C=0;C<h;C+=1)if(g(C)){var E=d.getRowspanStartInfo(y,C),M=E.node,A=E.pos,T=D(M,{rowspan:M.attrs.rowspan+v});l.setNodeMarkup(l.mapping.map(A),null,T)}else O=O.concat(j(1,y,s));for(var _=0;_<v;_+=1)k.push(s.nodes.tableRow.create(null,O));return o(l.insert(S,k)),!0};return r}function $(e,t,n){var r,i,o;return e===E.LEFT?(r=n.startColIdx,i=function(e){return t.extendedColspan(e,r)},o=r):(r=n.endColIdx,i=function(e){return t.getColspanCount(e,r)>1},o=r+1),{targetColIdx:r,judgeToExtendColspan:i,insertColIdx:o}}function G(e,t,n){var r=function(r,i,o){var a=i.selection,s=i.tr,l=i.schema,c=P(a,e),u=c.anchor,f=c.head;if(!u||!f)return!1;for(var d=t.create(u),h=d.getRectOffsets(u,f),p=$(n,d,h),v=p.targetColIdx,m=p.judgeToExtendColspan,y=p.insertColIdx,g=R(h).columnCount,b=d.totalRowCount,w=0;w<b;w+=1)if(m(w)){var x=d.getColspanStartInfo(w,v),k=x.node,S=x.pos,O=D(k,{colspan:k.attrs.colspan+g});s.setNodeMarkup(s.mapping.map(S),null,O)}else{var C=j(g,w,l);s.insert(s.mapping.map(d.posAt(w,y)),C)}return o(s),!0};return r}function X(e,t){return{mergeCells:L(e,t),splitCells:H(e,t),addRowToUp:Y(e,t,E.UP),addRowToDown:Y(e,t,E.DOWN),removeRow:V(e,t),addColumnToLeft:G(e,t,E.LEFT),addColumnToRight:G(e,t,E.RIGHT),removeColumn:F(e,t)}}function K(e){var t=e.i18n,r=e.eventEmitter,i=r.emitReduce("mixinTableOffsetMapPrototype",p,y);return d(t),C(e),{toHTMLRenderers:a,markdownParsers:n,toMarkdownRenderers:f,wysiwygCommands:X(e,i)}}(function(e){e["LEFT"]="left",e["RIGHT"]="right",e["UP"]="up",e["DOWN"]="down"})(E||(E={}))}(),e.exports=i["default"]})()},2387:function(e,t,n){n(1703),
/*!
 * TOAST UI Editor : UML Plugin
 * @version 3.0.1 | Wed Jul 07 2021
 * @author NHN FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
function(t,r){e.exports=r(n(8137))}(self,(function(e){return function(){"use strict";var t={94:function(t){t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var i={};return function(){r.d(i,{default:function(){return a}});var e=r(94),t=r.n(e),n="//www.plantuml.com/plantuml/png/";function o(e,n){var r;try{if(!t())throw new Error("plantuml-encoder dependency required");r='<img src="'+n+t().encode(e)+'" />'}catch(i){r="Error occurred on encoding uml: "+i.message}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]}function a(e,t){void 0===t&&(t={});var r=t.rendererURL,i=void 0===r?n:r;return{toHTMLRenderers:{uml:function(e){return o(e.literal,i)},plantUml:function(e){return o(e.literal,i)}}}}}(),i=i.default,i}()}))},8137:function(e,t,n){e.exports={encode:n(8119).encode,decode:n(2221).decode}},2221:function(e,t,n){n(1703),n(8675),n(3462),function(t){e.exports=t()}((function(){return function(){function e(t,r,i){function o(s,l){if(!r[s]){if(!t[s]){if(!l&&n(659))return require(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[s]={exports:{}};t[s][0].call(u.exports,(function(e){var n=t[s][1][e];return o(n||e)}),u,u.exports,e,t,r,i)}return r[s].exports}for(var a=void 0,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,n){"use strict";var r=e("pako/lib/inflate.js");t.exports=function(e){return r.inflateRaw(e,{to:"string"})}},{"pako/lib/inflate.js":4}],2:[function(e,t,n){"use strict";function r(e){var t=e.charCodeAt(0);return"_"===e?63:"-"===e?62:t>=97?t-61:t>=65?t-55:t>=48?t-48:"?"}function i(e){var t=r(e[0]),n=r(e[1]),i=r(e[2]),o=r(e[3]),a=t<<2|n>>4&63,s=n<<4&240|i>>2&15,l=i<<6&192|63&o;return[a,s,l]}t.exports=function(e){var t="",n=0;for(n=0;n<e.length;n+=4){var r=i(e.substring(n,n+4));t+=String.fromCharCode(r[0]),t+=String.fromCharCode(r[1]),t+=String.fromCharCode(r[2])}return t}},{}],3:[function(e,t,n){"use strict";var r=e("./inflate"),i=e("./decode64");t.exports.decode=function(e){var t=i(e);return r(t)}},{"./decode64":2,"./inflate":1}],4:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary),n!==a.Z_OK)))throw new Error(s[n])}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}function h(e,t){return t=t||{},t.raw=!0,d(e,t)}f.prototype.push=function(e,t){var n,s,l,c,f,d=this.strm,h=this.options.chunkSize,p=this.options.dictionary,v=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(h),d.next_out=0,d.avail_out=h),n=r.inflate(d,a.Z_NO_FLUSH),n===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===v&&(n=a.Z_OK,v=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),c=d.next_out-l,f=o.buf2string(d.output,l),d.next_out=c,d.avail_out=h-c,c&&i.arraySet(d.output,d.output,l,c,0),this.onData(f)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(v=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=d,n.inflateRaw=h,n.ungzip=d},{"./utils/common":5,"./utils/strings":6,"./zlib/constants":8,"./zlib/gzheader":10,"./zlib/inflate":12,"./zlib/messages":14,"./zlib/zstream":15}],5:[function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],6:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if(i=e[n++],i<128)c[r++]=i;else if(o=a[i],o>4)c[r++]=65533,n+=o-1;else{i&=2===o?31:3===o?15:7;while(o>1&&n<s)i=i<<6|63&e[n++],o--;o>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},n.utf8border=function(e,t){var n;t=t||e.length,t>e.length&&(t=e.length),n=t-1;while(n>=0&&128===(192&e[n]))n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":5}],7:[function(e,t,n){"use strict";function r(e,t,n,r){var i=65535&e|0,o=e>>>16&65535|0,a=0;while(0!==n){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},{}],8:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],9:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function o(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}t.exports=o},{}],10:[function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],11:[function(e,t,n){"use strict";var r=30,i=12;t.exports=function(e,t){var n,o,a,s,l,c,u,f,d,h,p,v,m,y,g,b,w,x,k,S,O,C,E,M,A;n=e.state,o=e.next_in,M=e.input,a=o+(e.avail_in-5),s=e.next_out,A=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=n.dmax,f=n.wsize,d=n.whave,h=n.wnext,p=n.window,v=n.hold,m=n.bits,y=n.lencode,g=n.distcode,b=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{m<15&&(v+=M[o++]<<m,m+=8,v+=M[o++]<<m,m+=8),x=y[v&b];t:for(;;){if(k=x>>>24,v>>>=k,m-=k,k=x>>>16&255,0===k)A[s++]=65535&x;else{if(!(16&k)){if(0===(64&k)){x=y[(65535&x)+(v&(1<<k)-1)];continue t}if(32&k){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;break e}S=65535&x,k&=15,k&&(m<k&&(v+=M[o++]<<m,m+=8),S+=v&(1<<k)-1,v>>>=k,m-=k),m<15&&(v+=M[o++]<<m,m+=8,v+=M[o++]<<m,m+=8),x=g[v&w];n:for(;;){if(k=x>>>24,v>>>=k,m-=k,k=x>>>16&255,!(16&k)){if(0===(64&k)){x=g[(65535&x)+(v&(1<<k)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(O=65535&x,k&=15,m<k&&(v+=M[o++]<<m,m+=8,m<k&&(v+=M[o++]<<m,m+=8)),O+=v&(1<<k)-1,O>u){e.msg="invalid distance too far back",n.mode=r;break e}if(v>>>=k,m-=k,k=s-l,O>k){if(k=O-k,k>d&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(C=0,E=p,0===h){if(C+=f-k,k<S){S-=k;do{A[s++]=p[C++]}while(--k);C=s-O,E=A}}else if(h<k){if(C+=f+h-k,k-=h,k<S){S-=k;do{A[s++]=p[C++]}while(--k);if(C=0,h<S){k=h,S-=k;do{A[s++]=p[C++]}while(--k);C=s-O,E=A}}}else if(C+=h-k,k<S){S-=k;do{A[s++]=p[C++]}while(--k);C=s-O,E=A}while(S>2)A[s++]=E[C++],A[s++]=E[C++],A[s++]=E[C++],S-=3;S&&(A[s++]=E[C++],S>1&&(A[s++]=E[C++]))}else{C=s-O;do{A[s++]=A[C++],A[s++]=A[C++],A[s++]=A[C++],S-=3}while(S>2);S&&(A[s++]=A[C++],S>1&&(A[s++]=A[C++]))}break}}break}}while(o<a&&s<c);S=m>>3,o-=S,m-=S<<3,v&=(1<<m)-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?a-o+5:5-(o-a),e.avail_out=s<c?c-s+257:257-(s-c),n.hold=v,n.bits=m}},{}],12:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=0,c=1,u=2,f=4,d=5,h=6,p=0,v=1,m=2,y=-2,g=-3,b=-4,w=-5,x=8,k=1,S=2,O=3,C=4,E=5,M=6,A=7,T=8,P=9,R=10,D=11,_=12,j=13,L=14,I=15,N=16,B=17,z=18,H=19,W=20,F=21,U=22,V=23,q=24,Y=25,$=26,G=27,X=28,K=29,Z=30,J=31,Q=32,ee=852,te=592,ne=15,re=ne;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=k,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,p):y}function se(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,ae(e)):y}function le(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?y:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,se(e))):y}function ce(e,t){var n,r;return e?(r=new oe,e.state=r,r.window=null,n=le(e,t),n!==p&&(e.state=null),n):y}function ue(e){return ce(e,re)}var fe,de,he=!0;function pe(e){if(he){var t;fe=new r.Buf32(512),de=new r.Buf32(32),t=0;while(t<144)e.lens[t++]=8;while(t<256)e.lens[t++]=9;while(t<280)e.lens[t++]=7;while(t<288)e.lens[t++]=8;s(c,e.lens,0,288,fe,0,e.work,{bits:9}),t=0;while(t<32)e.lens[t++]=5;s(u,e.lens,0,32,de,0,e.work,{bits:5}),he=!1}e.lencode=fe,e.lenbits=9,e.distcode=de,e.distbits=5}function ve(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o=a.wsize-a.wnext,o>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),i-=o,i?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function me(e,t){var n,ee,te,ne,re,oe,ae,se,le,ce,ue,fe,de,he,me,ye,ge,be,we,xe,ke,Se,Oe,Ce,Ee=0,Me=new r.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return y;n=e.state,n.mode===_&&(n.mode=j),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,ce=oe,ue=ae,Se=p;e:for(;;)switch(n.mode){case k:if(0===n.wrap){n.mode=j;break}while(le<16){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,Me[0]=255&se,Me[1]=se>>>8&255,n.check=o(n.check,Me,2,0),se=0,le=0,n.mode=S;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=Z;break}if((15&se)!==x){e.msg="unknown compression method",n.mode=Z;break}if(se>>>=4,le-=4,ke=8+(15&se),0===n.wbits)n.wbits=ke;else if(ke>n.wbits){e.msg="invalid window size",n.mode=Z;break}n.dmax=1<<ke,e.adler=n.check=1,n.mode=512&se?R:_,se=0,le=0;break;case S:while(le<16){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==x){e.msg="unknown compression method",n.mode=Z;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,n.check=o(n.check,Me,2,0)),se=0,le=0,n.mode=O;case O:while(le<32){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,Me[2]=se>>>16&255,Me[3]=se>>>24&255,n.check=o(n.check,Me,4,0)),se=0,le=0,n.mode=C;case C:while(le<16){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,n.check=o(n.check,Me,2,0)),se=0,le=0,n.mode=E;case E:if(1024&n.flags){while(le<16){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,n.check=o(n.check,Me,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=M;case M:if(1024&n.flags&&(fe=n.length,fe>oe&&(fe=oe),fe&&(n.head&&(ke=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,fe,ke)),512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,n.length-=fe),n.length))break e;n.length=0,n.mode=A;case A:if(2048&n.flags){if(0===oe)break e;fe=0;do{ke=ee[ne+fe++],n.head&&ke&&n.length<65536&&(n.head.name+=String.fromCharCode(ke))}while(ke&&fe<oe);if(512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,ke)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=T;case T:if(4096&n.flags){if(0===oe)break e;fe=0;do{ke=ee[ne+fe++],n.head&&ke&&n.length<65536&&(n.head.comment+=String.fromCharCode(ke))}while(ke&&fe<oe);if(512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,ke)break e}else n.head&&(n.head.comment=null);n.mode=P;case P:if(512&n.flags){while(le<16){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Z;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=_;break;case R:while(le<32){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(se),se=0,le=0,n.mode=D;case D:if(0===n.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,m;e.adler=n.check=1,n.mode=_;case _:if(t===d||t===h)break e;case j:if(n.last){se>>>=7&le,le-=7&le,n.mode=G;break}while(le<3){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,se>>>=1,le-=1,3&se){case 0:n.mode=L;break;case 1:if(pe(n),n.mode=W,t===h){se>>>=2,le-=2;break e}break;case 2:n.mode=B;break;case 3:e.msg="invalid block type",n.mode=Z}se>>>=2,le-=2;break;case L:se>>>=7&le,le-=7&le;while(le<32){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if((65535&se)!==(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=65535&se,se=0,le=0,n.mode=I,t===h)break e;case I:n.mode=N;case N:if(fe=n.length,fe){if(fe>oe&&(fe=oe),fe>ae&&(fe=ae),0===fe)break e;r.arraySet(te,ee,ne,fe,re),oe-=fe,ne+=fe,ae-=fe,re+=fe,n.length-=fe;break}n.mode=_;break;case B:while(le<14){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=z;case z:while(n.have<n.ncode){while(le<3){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.lens[Ae[n.have++]]=7&se,se>>>=3,le-=3}while(n.have<19)n.lens[Ae[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Oe={bits:n.lenbits},Se=s(l,n.lens,0,19,n.lencode,0,n.work,Oe),n.lenbits=Oe.bits,Se){e.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=H;case H:while(n.have<n.nlen+n.ndist){for(;;){if(Ee=n.lencode[se&(1<<n.lenbits)-1],me=Ee>>>24,ye=Ee>>>16&255,ge=65535&Ee,me<=le)break;if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(ge<16)se>>>=me,le-=me,n.lens[n.have++]=ge;else{if(16===ge){Ce=me+2;while(le<Ce){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se>>>=me,le-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=Z;break}ke=n.lens[n.have-1],fe=3+(3&se),se>>>=2,le-=2}else if(17===ge){Ce=me+3;while(le<Ce){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=me,le-=me,ke=0,fe=3+(7&se),se>>>=3,le-=3}else{Ce=me+7;while(le<Ce){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=me,le-=me,ke=0,fe=11+(127&se),se>>>=7,le-=7}if(n.have+fe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Z;break}while(fe--)n.lens[n.have++]=ke}}if(n.mode===Z)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,Oe={bits:n.lenbits},Se=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,Oe),n.lenbits=Oe.bits,Se){e.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,Oe={bits:n.distbits},Se=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Oe),n.distbits=Oe.bits,Se){e.msg="invalid distances set",n.mode=Z;break}if(n.mode=W,t===h)break e;case W:n.mode=F;case F:if(oe>=6&&ae>=258){e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,a(e,ue),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,n.mode===_&&(n.back=-1);break}for(n.back=0;;){if(Ee=n.lencode[se&(1<<n.lenbits)-1],me=Ee>>>24,ye=Ee>>>16&255,ge=65535&Ee,me<=le)break;if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(ye&&0===(240&ye)){for(be=me,we=ye,xe=ge;;){if(Ee=n.lencode[xe+((se&(1<<be+we)-1)>>be)],me=Ee>>>24,ye=Ee>>>16&255,ge=65535&Ee,be+me<=le)break;if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=be,le-=be,n.back+=be}if(se>>>=me,le-=me,n.back+=me,n.length=ge,0===ye){n.mode=$;break}if(32&ye){n.back=-1,n.mode=_;break}if(64&ye){e.msg="invalid literal/length code",n.mode=Z;break}n.extra=15&ye,n.mode=U;case U:if(n.extra){Ce=n.extra;while(le<Ce){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V;case V:for(;;){if(Ee=n.distcode[se&(1<<n.distbits)-1],me=Ee>>>24,ye=Ee>>>16&255,ge=65535&Ee,me<=le)break;if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(0===(240&ye)){for(be=me,we=ye,xe=ge;;){if(Ee=n.distcode[xe+((se&(1<<be+we)-1)>>be)],me=Ee>>>24,ye=Ee>>>16&255,ge=65535&Ee,be+me<=le)break;if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=be,le-=be,n.back+=be}if(se>>>=me,le-=me,n.back+=me,64&ye){e.msg="invalid distance code",n.mode=Z;break}n.offset=ge,n.extra=15&ye,n.mode=q;case q:if(n.extra){Ce=n.extra;while(le<Ce){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Z;break}n.mode=Y;case Y:if(0===ae)break e;if(fe=ue-ae,n.offset>fe){if(fe=n.offset-fe,fe>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Z;break}fe>n.wnext?(fe-=n.wnext,de=n.wsize-fe):de=n.wnext-fe,fe>n.length&&(fe=n.length),he=n.window}else he=te,de=re-n.offset,fe=n.length;fe>ae&&(fe=ae),ae-=fe,n.length-=fe;do{te[re++]=he[de++]}while(--fe);0===n.length&&(n.mode=F);break;case $:if(0===ae)break e;te[re++]=n.length,ae--,n.mode=F;break;case G:if(n.wrap){while(le<32){if(0===oe)break e;oe--,se|=ee[ne++]<<le,le+=8}if(ue-=ae,e.total_out+=ue,n.total+=ue,ue&&(e.adler=n.check=n.flags?o(n.check,te,ue,re-ue):i(n.check,te,ue,re-ue)),ue=ae,(n.flags?se:ie(se))!==n.check){e.msg="incorrect data check",n.mode=Z;break}se=0,le=0}n.mode=X;case X:if(n.wrap&&n.flags){while(le<32){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Z;break}se=0,le=0}n.mode=K;case K:Se=v;break e;case Z:Se=g;break e;case J:return b;case Q:default:return y}return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,(n.wsize||ue!==e.avail_out&&n.mode<Z&&(n.mode<G||t!==f))&&ve(e,e.output,e.next_out,ue-e.avail_out)?(n.mode=J,b):(ce-=e.avail_in,ue-=e.avail_out,e.total_in+=ce,e.total_out+=ue,n.total+=ue,n.wrap&&ue&&(e.adler=n.check=n.flags?o(n.check,te,ue,e.next_out-ue):i(n.check,te,ue,e.next_out-ue)),e.data_type=n.bits+(n.last?64:0)+(n.mode===_?128:0)+(n.mode===W||n.mode===I?256:0),(0===ce&&0===ue||t===f)&&Se===p&&(Se=w),Se)}function ye(e){if(!e||!e.state)return y;var t=e.state;return t.window&&(t.window=null),e.state=null,p}function ge(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?y:(n.head=t,t.done=!1,p)):y}function be(e,t){var n,r,o,a=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==D?y:n.mode===D&&(r=1,r=i(r,t,a,0),r!==n.check)?g:(o=ve(e,t,a,a),o?(n.mode=J,b):(n.havedict=1,p))):y}n.inflateReset=se,n.inflateReset2=le,n.inflateResetKeep=ae,n.inflateInit=ue,n.inflateInit2=ce,n.inflate=me,n.inflateEnd=ye,n.inflateGetHeader=ge,n.inflateSetDictionary=be,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":9,"./inffast":11,"./inftrees":13}],13:[function(e,t,n){"use strict";var r=e("../utils/common"),i=15,o=852,a=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,p,v,m,y,g){var b,w,x,k,S,O,C,E,M,A=g.bits,T=0,P=0,R=0,D=0,_=0,j=0,L=0,I=0,N=0,B=0,z=null,H=0,W=new r.Buf16(i+1),F=new r.Buf16(i+1),U=null,V=0;for(T=0;T<=i;T++)W[T]=0;for(P=0;P<p;P++)W[t[n+P]]++;for(_=A,D=i;D>=1;D--)if(0!==W[D])break;if(_>D&&(_=D),0===D)return v[m++]=20971520,v[m++]=20971520,g.bits=1,0;for(R=1;R<D;R++)if(0!==W[R])break;for(_<R&&(_=R),I=1,T=1;T<=i;T++)if(I<<=1,I-=W[T],I<0)return-1;if(I>0&&(e===s||1!==D))return-1;for(F[1]=0,T=1;T<i;T++)F[T+1]=F[T]+W[T];for(P=0;P<p;P++)0!==t[n+P]&&(y[F[t[n+P]]++]=P);if(e===s?(z=U=y,O=19):e===l?(z=u,H-=257,U=f,V-=257,O=256):(z=d,U=h,O=-1),B=0,P=0,T=R,S=m,j=_,L=0,x=-1,N=1<<_,k=N-1,e===l&&N>o||e===c&&N>a)return 1;for(;;){C=T-L,y[P]<O?(E=0,M=y[P]):y[P]>O?(E=U[V+y[P]],M=z[H+y[P]]):(E=96,M=0),b=1<<T-L,w=1<<j,R=w;do{w-=b,v[S+(B>>L)+w]=C<<24|E<<16|M|0}while(0!==w);b=1<<T-1;while(B&b)b>>=1;if(0!==b?(B&=b-1,B+=b):B=0,P++,0===--W[T]){if(T===D)break;T=t[n+y[P]]}if(T>_&&(B&k)!==x){0===L&&(L=_),S+=R,j=T-L,I=1<<j;while(j+L<D){if(I-=W[j+L],I<=0)break;j++,I<<=1}if(N+=1<<j,e===l&&N>o||e===c&&N>a)return 1;x=B&k,v[x]=_<<24|j<<16|S-m|0}}return 0!==B&&(v[S+B]=T-L<<24|64<<16|0),g.bits=_,0}},{"../utils/common":5}],14:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[3])(3)}))},8119:function(e,t,n){n(1703),n(8675),n(3462),function(t){e.exports=t()}((function(){return function(){function e(t,r,i){function o(s,l){if(!r[s]){if(!t[s]){if(!l&&n(659))return require(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[s]={exports:{}};t[s][0].call(u.exports,(function(e){var n=t[s][1][e];return o(n||e)}),u,u.exports,e,t,r,i)}return r[s].exports}for(var a=void 0,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,n){"use strict";var r=e("pako/lib/deflate.js");t.exports=function(e){return r.deflateRaw(e,{level:9,to:"string"})}},{"pako/lib/deflate.js":4}],2:[function(e,t,n){"use strict";function r(e){return e<10?String.fromCharCode(48+e):(e-=10,e<26?String.fromCharCode(65+e):(e-=26,e<26?String.fromCharCode(97+e):(e-=26,0===e?"-":1===e?"_":"?")))}function i(e,t,n){var i=e>>2,o=(3&e)<<4|t>>4,a=(15&t)<<2|n>>6,s=63&n,l="";return l+=r(63&i),l+=r(63&o),l+=r(63&a),l+=r(63&s),l}t.exports=function(e){for(var t="",n=0;n<e.length;n+=3)n+2===e.length?t+=i(e.charCodeAt(n),e.charCodeAt(n+1),0):n+1===e.length?t+=i(e.charCodeAt(n),0,0):t+=i(e.charCodeAt(n),e.charCodeAt(n+1),e.charCodeAt(n+2));return t}},{}],3:[function(e,t,n){"use strict";var r=e("./deflate"),i=e("./encode64");t.exports.encode=function(e){var t=r(e);return i(t)}},{"./deflate":1,"./encode64":2}],4:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=4,f=0,d=1,h=2,p=-1,v=0,m=8;function y(e){if(!(this instanceof y))return new y(e);this.options=i.assign({level:p,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==f)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"===typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=r.deflateSetDictionary(this.strm,c),n!==f)throw new Error(a[n]);this._dict_set=!0}}function g(e,t){var n=new y(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}function b(e,t){return t=t||{},t.raw=!0,g(e,t)}function w(e,t){return t=t||{},t.gzip=!0,g(e,t)}y.prototype.push=function(e,t){var n,a,s=this.strm,p=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?u:c,"string"===typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(p),s.next_out=0,s.avail_out=p),n=r.deflate(s,a),n!==d&&n!==f)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||a!==u&&a!==h)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&n!==d);return a===u?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):a!==h||(this.onEnd(f),s.avail_out=0,!0)},y.prototype.onData=function(e){this.chunks.push(e)},y.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=y,n.deflate=g,n.deflateRaw=b,n.gzip=w},{"./utils/common":5,"./utils/strings":6,"./zlib/deflate":9,"./zlib/messages":10,"./zlib/zstream":12}],5:[function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],6:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if(i=e[n++],i<128)c[r++]=i;else if(o=a[i],o>4)c[r++]=65533,n+=o-1;else{i&=2===o?31:3===o?15:7;while(o>1&&n<s)i=i<<6|63&e[n++],o--;o>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},n.utf8border=function(e,t){var n;t=t||e.length,t>e.length&&(t=e.length),n=t-1;while(n>=0&&128===(192&e[n]))n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":5}],7:[function(e,t,n){"use strict";function r(e,t,n,r){var i=65535&e|0,o=e>>>16&65535|0,a=0;while(0!==n){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},{}],8:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function o(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}t.exports=o},{}],9:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=0,u=1,f=3,d=4,h=5,p=0,v=1,m=-2,y=-3,g=-5,b=-1,w=1,x=2,k=3,S=4,O=0,C=2,E=8,M=9,A=15,T=8,P=29,R=256,D=R+1+P,_=30,j=19,L=2*D+1,I=15,N=3,B=258,z=B+N+1,H=32,W=42,F=69,U=73,V=91,q=103,Y=113,$=666,G=1,X=2,K=3,Z=4,J=3;function Q(e,t){return e.msg=l[t],t}function ee(e){return(e<<1)-(e>4?9:0)}function te(e){var t=e.length;while(--t>=0)e[t]=0}function ne(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function re(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ne(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function oe(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=a(e.adler,t,o,n):2===e.state.wrap&&(e.adler=s(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function se(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,c=e.window,u=e.w_mask,f=e.prev,d=e.strstart+B,h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=B-(d-o),o=d-B,r>a){if(e.match_start=t,a=r,r>=s)break;h=c[o+a-1],p=c[o+a]}}}while((t=f[t&u])>l&&0!==--i);return a<=e.lookahead?a:e.lookahead}function le(e){var t,n,r,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-z)){i.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,n=e.hash_size,t=n;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);n=s,t=n;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=ae(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=N){a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;while(e.insert)if(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+N-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,e.lookahead+e.insert<N)break}}while(e.lookahead<z&&0!==e.strm.avail_in)}function ce(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(le(e),0===e.lookahead&&t===c)return G;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,re(e,!1),0===e.strm.avail_out))return G;if(e.strstart-e.block_start>=e.w_size-z&&(re(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===d?(re(e,!0),0===e.strm.avail_out?K:Z):(e.strstart>e.block_start&&(re(e,!1),e.strm.avail_out),G)}function ue(e,t){for(var n,r;;){if(e.lookahead<z){if(le(e),e.lookahead<z&&t===c)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-z&&(e.match_length=se(e,n)),e.match_length>=N)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-N),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=N){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(re(e,!1),0===e.strm.avail_out))return G}return e.insert=e.strstart<N-1?e.strstart:N-1,t===d?(re(e,!0),0===e.strm.avail_out?K:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?G:X}function fe(e,t){for(var n,r,i;;){if(e.lookahead<z){if(le(e),e.lookahead<z&&t===c)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=N-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-z&&(e.match_length=se(e,n),e.match_length<=5&&(e.strategy===w||e.match_length===N&&e.strstart-e.match_start>4096)&&(e.match_length=N-1)),e.prev_length>=N&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-N,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-N),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=N-1,e.strstart++,r&&(re(e,!1),0===e.strm.avail_out))return G}else if(e.match_available){if(r=o._tr_tally(e,0,e.window[e.strstart-1]),r&&re(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return G}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<N-1?e.strstart:N-1,t===d?(re(e,!0),0===e.strm.avail_out?K:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?G:X}function de(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=B){if(le(e),e.lookahead<=B&&t===c)return G;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=N&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+B;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=B-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=N?(n=o._tr_tally(e,1,e.match_length-N),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(re(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===d?(re(e,!0),0===e.strm.avail_out?K:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?G:X}function he(e,t){for(var n;;){if(0===e.lookahead&&(le(e),0===e.lookahead)){if(t===c)return G;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(re(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===d?(re(e,!0),0===e.strm.avail_out?K:Z):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?G:X}function pe(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function ve(e){e.window_size=2*e.w_size,te(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=N-1,e.match_available=0,e.ins_h=0}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*L),this.dyn_dtree=new i.Buf16(2*(2*_+1)),this.bl_tree=new i.Buf16(2*(2*j+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(I+1),this.heap=new i.Buf16(2*D+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*D+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ye(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=C,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?W:Y,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),p):Q(e,m)}function ge(e){var t=ye(e);return t===p&&ve(e.state),t}function be(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,p):m}function we(e,t,n,r,o,a){if(!e)return m;var s=1;if(t===b&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>M||n!==E||r<8||r>15||t<0||t>9||a<0||a>S)return Q(e,m);8===r&&(r=9);var l=new me;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+N-1)/N),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,ge(e)}function xe(e,t){return we(e,t,E,A,T,O)}function ke(e,t){var n,i,a,l;if(!e||!e.state||t>h||t<0)return e?Q(e,m):m;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===$&&t!==d)return Q(e,0===e.avail_out?g:m);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===W)if(2===i.wrap)e.adler=0,ie(i,31),ie(i,139),ie(i,8),i.gzhead?(ie(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ie(i,255&i.gzhead.time),ie(i,i.gzhead.time>>8&255),ie(i,i.gzhead.time>>16&255),ie(i,i.gzhead.time>>24&255),ie(i,9===i.level?2:i.strategy>=x||i.level<2?4:0),ie(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ie(i,255&i.gzhead.extra.length),ie(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=F):(ie(i,0),ie(i,0),ie(i,0),ie(i,0),ie(i,0),ie(i,9===i.level?2:i.strategy>=x||i.level<2?4:0),ie(i,J),i.status=Y);else{var y=E+(i.w_bits-8<<4)<<8,b=-1;b=i.strategy>=x||i.level<2?0:i.level<6?1:6===i.level?2:3,y|=b<<6,0!==i.strstart&&(y|=H),y+=31-y%31,i.status=Y,oe(i,y),0!==i.strstart&&(oe(i,e.adler>>>16),oe(i,65535&e.adler)),e.adler=1}if(i.status===F)if(i.gzhead.extra){a=i.pending;while(i.gzindex<(65535&i.gzhead.extra.length)){if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ne(e),a=i.pending,i.pending===i.pending_buf_size))break;ie(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++}i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=U)}else i.status=U;if(i.status===U)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ne(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ie(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=V)}else i.status=V;if(i.status===V)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ne(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ie(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=q)}else i.status=q;if(i.status===q&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ne(e),i.pending+2<=i.pending_buf_size&&(ie(i,255&e.adler),ie(i,e.adler>>8&255),e.adler=0,i.status=Y)):i.status=Y),0!==i.pending){if(ne(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&ee(t)<=ee(n)&&t!==d)return Q(e,g);if(i.status===$&&0!==e.avail_in)return Q(e,g);if(0!==e.avail_in||0!==i.lookahead||t!==c&&i.status!==$){var w=i.strategy===x?he(i,t):i.strategy===k?de(i,t):r[i.level].func(i,t);if(w!==K&&w!==Z||(i.status=$),w===G||w===K)return 0===e.avail_out&&(i.last_flush=-1),p;if(w===X&&(t===u?o._tr_align(i):t!==h&&(o._tr_stored_block(i,0,0,!1),t===f&&(te(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ne(e),0===e.avail_out))return i.last_flush=-1,p}return t!==d?p:i.wrap<=0?v:(2===i.wrap?(ie(i,255&e.adler),ie(i,e.adler>>8&255),ie(i,e.adler>>16&255),ie(i,e.adler>>24&255),ie(i,255&e.total_in),ie(i,e.total_in>>8&255),ie(i,e.total_in>>16&255),ie(i,e.total_in>>24&255)):(oe(i,e.adler>>>16),oe(i,65535&e.adler)),ne(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:v)}function Se(e){var t;return e&&e.state?(t=e.state.status,t!==W&&t!==F&&t!==U&&t!==V&&t!==q&&t!==Y&&t!==$?Q(e,m):(e.state=null,t===Y?Q(e,y):p)):m}function Oe(e,t){var n,r,o,s,l,c,u,f,d=t.length;if(!e||!e.state)return m;if(n=e.state,s=n.wrap,2===s||1===s&&n.status!==W||n.lookahead)return m;1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(te(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,le(n);while(n.lookahead>=N){r=n.strstart,o=n.lookahead-(N-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+N-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=N-1,le(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=N-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=s,p}r=[new pe(0,0,0,0,ce),new pe(4,4,8,4,ue),new pe(4,5,16,8,ue),new pe(4,6,32,32,ue),new pe(4,4,16,16,fe),new pe(8,16,32,32,fe),new pe(8,16,128,128,fe),new pe(8,32,128,256,fe),new pe(32,128,258,1024,fe),new pe(32,258,258,4096,fe)],n.deflateInit=xe,n.deflateInit2=we,n.deflateReset=ge,n.deflateResetKeep=ye,n.deflateSetHeader=be,n.deflate=ke,n.deflateEnd=Se,n.deflateSetDictionary=Oe,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":8,"./messages":10,"./trees":11}],10:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,n){"use strict";var r=e("../utils/common"),i=4,o=0,a=1,s=2;function l(e){var t=e.length;while(--t>=0)e[t]=0}var c=0,u=1,f=2,d=3,h=258,p=29,v=256,m=v+1+p,y=30,g=19,b=2*m+1,w=15,x=16,k=7,S=256,O=16,C=17,E=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=512,D=new Array(2*(m+2));l(D);var _=new Array(2*y);l(_);var j=new Array(R);l(j);var L=new Array(h-d+1);l(L);var I=new Array(p);l(I);var N,B,z,H=new Array(y);function W(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function U(e){return e<256?j[e]:j[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function q(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function Y(e,t,n){q(e,n[2*t],n[2*t+1])}function $(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function G(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function X(e,t){var n,r,i,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(o=0;o<=w;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)r=e.heap[n],o=l[2*l[2*r+1]+1]+1,o>p&&(o=p,v++),l[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=h&&(a=d[r-h]),s=l[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==v){do{o=p-1;while(0===e.bl_count[o])o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--){r=e.bl_count[o];while(0!==r)i=e.heap[--n],i>c||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}}function K(e,t,n){var r,i,o=new Array(w+1),a=0;for(r=1;r<=w;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=$(o[s]++,s))}}function Z(){var e,t,n,r,i,o=new Array(w+1);for(n=0,r=0;r<p-1;r++)for(I[r]=n,e=0;e<1<<M[r];e++)L[n++]=r;for(L[n-1]=r,i=0,r=0;r<16;r++)for(H[r]=i,e=0;e<1<<A[r];e++)j[i++]=r;for(i>>=7;r<y;r++)for(H[r]=i<<7,e=0;e<1<<A[r]-7;e++)j[256+i++]=r;for(t=0;t<=w;t++)o[t]=0;e=0;while(e<=143)D[2*e+1]=8,e++,o[8]++;while(e<=255)D[2*e+1]=9,e++,o[9]++;while(e<=279)D[2*e+1]=7,e++,o[7]++;while(e<=287)D[2*e+1]=8,e++,o[8]++;for(K(D,m+1,o),e=0;e<y;e++)_[2*e+1]=5,_[2*e]=$(e,5);N=new W(D,M,v+1,m,w),B=new W(_,A,0,y,w),z=new W(new Array(0),T,0,g,k)}function J(e){var t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<y;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*S]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Q(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){Q(e),i&&(V(e,n),V(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function ne(e,t,n){var r=e.heap[n],i=n<<1;while(i<=e.heap_len){if(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,te(t,r,e.heap[i],e.depth))break;e.heap[n]=e.heap[i],n=i,i<<=1}e.heap[n]=r}function re(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?Y(e,i,t):(o=L[i],Y(e,o+v+1,t),a=M[o],0!==a&&(i-=I[o],q(e,i,a)),r--,o=U(r),Y(e,o,n),a=A[o],0!==a&&(r-=H[o],q(e,r,a)))}while(s<e.last_lit);Y(e,S,t)}function ie(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;while(e.heap_len<2)i=e.heap[++e.heap_len]=c<2?++c:0,o[2*i]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)ne(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,ne(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],X(e,t),K(o,c,e.bl_count)}function oe(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*O]++):s<=10?e.bl_tree[2*C]++:e.bl_tree[2*E]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))}function ae(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{Y(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(Y(e,i,e.bl_tree),s--),Y(e,O,e.bl_tree),q(e,s-3,2)):s<=10?(Y(e,C,e.bl_tree),q(e,s-3,3)):(Y(e,E,e.bl_tree),q(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}}function se(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=g-1;t>=3;t--)if(0!==e.bl_tree[2*P[t]+1])break;return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,r){var i;for(q(e,t-257,5),q(e,n-1,5),q(e,r-4,4),i=0;i<r;i++)q(e,e.bl_tree[2*P[i]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function ce(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<v;t++)if(0!==e.dyn_ltree[2*t])return a;return o}l(H);var ue=!1;function fe(e){ue||(Z(),ue=!0),e.l_desc=new F(e.dyn_ltree,N),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,z),e.bi_buf=0,e.bi_valid=0,J(e)}function de(e,t,n,r){q(e,(c<<1)+(r?1:0),3),ee(e,t,n,!0)}function he(e){q(e,u<<1,3),Y(e,S,D),G(e)}function pe(e,t,n,r){var o,a,l=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=ce(e)),ie(e,e.l_desc),ie(e,e.d_desc),l=se(e),o=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?de(e,t,n,r):e.strategy===i||a===o?(q(e,(u<<1)+(r?1:0),3),re(e,D,_)):(q(e,(f<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),J(e),r&&Q(e)}function ve(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(L[n]+v+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=fe,n._tr_stored_block=de,n._tr_flush_block=pe,n._tr_tally=ve,n._tr_align=he},{"../utils/common":5}],12:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[3])(3)}))},7781:function(e,t,n){n(1703),
/*!
 * TOAST UI Color Picker
 * @version 2.2.7
 * @author NHN FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */
function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=33)}([function(e,t,n){"use strict";function r(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i],n)a.call(n,r)&&(e[r]=n[r]);return e}e.exports=r},function(e,t,n){"use strict";function r(e){return e instanceof Array}e.exports=r},function(e,t,n){"use strict";var r=n(1),i=n(6),o=n(7);function a(e,t,n){r(e)?i(e,t,n):o(e,t,n)}e.exports=a},function(e,t,n){"use strict";function r(e){return void 0===e}e.exports=r},function(e,t,n){"use strict";var r=n(22),i=n(2),o=n(6),a=n(7),s=n(37),l=0,c={getLength:function(e){var t=0;return a(e,(function(){t+=1})),t},map:function(e,t,n){var r=[];return i(e,(function(){r.push(t.apply(n||null,arguments))})),r},filter:function(e,t,n){var r=[];return o(e,(function(e){t.apply(n||null,arguments)&&r.push(e)})),r},generateId:function(){return l+=1,l},isOldBrowser:function(){return r.msie&&r.version<9}(),sendHostName:function(){s("color-picker","UA-129987462-1")}};e.exports=c},function(e,t,n){"use strict";var r=n(1);function i(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}e.exports=i},function(e,t,n){"use strict";function r(e,t,n){var r=0,i=e.length;for(n=n||null;r<i;r+=1)if(!1===t.call(n,e[r],r,e))break}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}e.exports=r},function(e,t,n){"use strict";var r=n(39),i=n(13),o=n(41),a=n(3),s=n(9),l=n(19),c=n(4);function u(e,t){var n=c.generateId();e=e||{},a(t)&&(t=s.appendHTMLElement("div")),r(t,"tui-view-"+n),this.id=n,this.container=t,this.childs=new l((function(e){return e.id})),this.parent=null}u.prototype.addChild=function(e,t){t&&t.call(e,this),e.parent=this,this.childs.add(e)},u.prototype.removeChild=function(e,t){var n=o(e)?this.childs.items[e]:e;t&&t.call(n,this),this.childs.remove(n.id)},u.prototype.render=function(){this.childs.each((function(e){e.render()}))},u.prototype.recursive=function(e,t){i(e)&&(t||e(this),this.childs.each((function(t){t.recursive(e)})))},u.prototype.resize=function(){var e=Array.prototype.slice.call(arguments),t=this.parent;while(t)i(t._onResize)&&t._onResize.apply(t,e),t=t.parent},u.prototype._beforeDestroy=function(){},u.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},u.prototype.destroy=function(e){this.childs&&(this.childs.each((function(e){e.destroy(!0),e._destroy()})),this.childs.clear()),e||this._destroy()},u.prototype.getViewBound=function(){var e=this.container.getBoundingClientRect();return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},e.exports=u},function(e,t,n){"use strict";var r={appendHTMLElement:function(e,t,n){var r=document.createElement(e);return r.className=n||"",t?t.appendChild(r):document.body.appendChild(r),r}};e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(20),o=n(11),a=n(21),s=n(1),l=n(13),c=n(2),u=/\s+/g;function f(){this.events=null,this.contexts=null}f.mixin=function(e){r(e.prototype,f.prototype)},f.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},f.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&(t=n[e],t||(t=[],n[e]=t),n=t),n},f.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},f.prototype._indexOfContext=function(e){var t=this._safeContext(),n=0;while(t[n]){if(e===t[n][0])return n;n+=1}return-1},f.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),n=this._indexOfContext(e),n>-1?t[n][1]+=1:t.push([e,1]))},f.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),n=this._indexOfContext(e),n>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},f.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},f.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):a(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},f.prototype.once=function(e,t,n){var r=this;if(a(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));function i(){t.apply(n,arguments),r.off(e,i,n)}this.on(e,i,n)},f.prototype._spliceMatches=function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},f.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},f.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},f.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},f.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},f.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},f.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},f.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},f.prototype.fire=function(e){this.invoke.apply(this,arguments)},f.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;while(t[r]){if(i=t[r],!1===i.handler.apply(i.context,n))return!1;r+=1}return!0},f.prototype.hasListener=function(e){return this.getListenerLength(e)>0},f.prototype.getListenerLength=function(e){var t=this._safeEvent(e);return t.length},e.exports=f},function(e,t,n){"use strict";function r(e){return"string"===typeof e||e instanceof String}e.exports=r},function(e,t,n){"use strict";var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,i={leadingZero:function(e,t){var n="",r=0;if((e+"").length>t)return e+"";for(;r<t-1;r+=1)n+="0";return(n+e).slice(-1*t)},isValidRGB:function(e){return r.test(e)},
// @license RGB <-> HSV conversion utilities based off of http://www.cs.rit.edu/~ncs/color/t_convert.html
hexToRGB:function(e){var t,n,r;return!!i.isValidRGB(e)&&(e=e.substring(1),t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16),[t,n,r])},rgbToHEX:function(e,t,n){var r="#"+i.leadingZero(e.toString(16),2)+i.leadingZero(t.toString(16),2)+i.leadingZero(n.toString(16),2);return!!i.isValidRGB(r)&&r},rgbToHSV:function(e,t,n){var r,i,o,a,s,l;if(e/=255,t/=255,n/=255,r=Math.max(e,t,n),i=Math.min(e,t,n),s=r,l=r-i,a=0===r?0:l/r,r===i)o=0;else{switch(r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*s)]},hsvToRGB:function(e,t,n){var r,i,o,a,s,l,c,u;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),n=Math.max(0,Math.min(100,n)),t/=100,n/=100,0===t)return r=i=o=n,[Math.round(255*r),Math.round(255*i),Math.round(255*o)];switch(e/=60,a=Math.floor(e),s=e-a,l=n*(1-t),c=n*(1-t*s),u=n*(1-t*(1-s)),a){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;default:r=n,i=l,o=c;break}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}};e.exports=i},function(e,t,n){"use strict";function r(e){return e instanceof Function}e.exports=r},function(e,t,n){"use strict";var r=n(11),i=n(2),o=n(26);function a(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){s(e,t,n,o)})):i(t,(function(t,r){s(e,r,t,n)}))}function s(e,t,n,r){function i(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,i):"attachEvent"in e&&e.attachEvent("on"+t,i),l(e,t,n,i)}function l(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}e.exports=a},function(e,t,n){"use strict";function r(e){e.preventDefault?e.preventDefault():e.returnValue=!1}e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}e.exports=r},function(e,t,n){"use strict";var r=n(11),i=n(2),o=n(26);function a(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){s(e,t,n)})):i(t,(function(t,n){s(e,n,t)}))}function s(e,t,n){var r,a=o(e,t);n?(i(a,(function(i,o){return n!==i.handler||(l(e,t,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){l(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function l(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=a},function(e,t,n){"use strict";var r=n(50);function i(e,t){var n=r(t.prototype);n.constructor=e,e.prototype=n}e.exports=i},function(e,t,n){"use strict";var r=n(6),i=n(7),o=n(0),a=n(1),s=n(20),l=n(13),c=n(21),u=n(4),f=Array.prototype.slice;function d(e){this.items={},this.length=0,l(e)&&(this.getItemID=e)}d.and=function(e){var t;return e=f.call(arguments),t=e.length,function(n){for(var r=0;r<t;r+=1)if(!e[r].call(null,n))return!1;return!0}},d.or=function(e){var t;return e=f.call(arguments),t=e.length,function(n){for(var r=1,i=e[0].call(null,n);r<t;r+=1)i=i||e[r].call(null,n);return i}},d.merge=function(e){var t={},n=new d(e.getItemID);return r(arguments,(function(e){o(t,e.items)})),n.items=t,n.length=u.getLength(n.items),n},d.prototype.getItemID=function(e){return e._id+""},d.prototype.add=function(e){var t,n;arguments.length>1?r(f.call(arguments),(function(e){this.add(e)}),this):(t=this.getItemID(e),n=this.items,n[t]||(this.length+=1),n[t]=e)},d.prototype.remove=function(e){var t,n,r=[];return this.length?arguments.length>1?(r=u.map(f.call(arguments),(function(e){return this.remove(e)}),this),r):(t=this.items,c(e)&&(e=this.getItemID(e)),t[e]?(this.length-=1,n=t[e],delete t[e],n):r):r},d.prototype.clear=function(){this.items={},this.length=0},d.prototype.has=function(e){var t,n;return!!this.length&&(t=l(e),n=!1,t?this.each((function(t){return!0!==e(t)||(n=!0,!1)})):(e=c(e)?this.getItemID(e):e,n=s(this.items[e])),n)},d.prototype.doWhenHas=function(e,t,n){var r=this.items[e];s(r)&&t.call(n||this,r)},d.prototype.find=function(e){var t=new d;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.each((function(n){!0===e(n)&&t.add(n)})),t},d.prototype.groupBy=function(e,t){var n,i,o={},s=l(e),c=this.getItemID;if(a(e)){if(r(e,(function(e){o[e+""]=new d(c)})),!t)return o;e=t,s=!0}return this.each((function(t){s?i=e(t):(i=t[e],l(i)&&(i=i.apply(t))),n=o[i],n||(n=o[i]=new d(c)),n.add(t)})),o},d.prototype.single=function(){var e;return this.each((function(t){return e=t,!1}),this),e},d.prototype.sort=function(e){var t=[];return this.each((function(e){t.push(e)})),l(e)&&(t=t.sort(e)),t},d.prototype.each=function(e,t){i(this.items,e,t||this)},d.prototype.toArray=function(){return this.length?u.map(this.items,(function(e){return e})):[]},e.exports=d},function(e,t,n){"use strict";var r=n(3),i=n(36);function o(e){return!r(e)&&!i(e)}e.exports=o},function(e,t,n){"use strict";function r(e){return e===Object(e)}e.exports=r},function(e,t,n){"use strict";var r={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};function i(){var e,t,n=window.navigator,i=n.appName.replace(/\s/g,"_"),o=n.userAgent,a=/MSIE\s([0-9]+[.0-9]*)/,s=/Trident.*rv:11\./,l=/Edge\/(\d+)\./,c={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},u={Microsoft_Internet_Explorer:function(){var e=o.match(a);e?(r.msie=!0,r.version=parseFloat(e[1])):r.others=!0},Netscape:function(){var n=!1;if(s.exec(o))r.msie=!0,r.version=11,n=!0;else if(l.exec(o))r.edge=!0,r.version=o.match(l)[1],n=!0;else for(e in c)if(c.hasOwnProperty(e)&&(t=o.match(c[e]),t&&t.length>1)){r[e]=n=!0,r.version=parseFloat(t[1]||0);break}n||(r.others=!0)}},f=u[i];f&&u[i]()}"undefined"!==typeof window&&window.navigator&&i(),e.exports=r},function(e,t,n){"use strict";var r=n(3);function i(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(10),i=n(42),o=n(44),a=n(47),s=n(28),l=n(17),c=n(14),u=n(15),f=n(0);function d(e,t){c(t,"mousedown",this._onMouseDown,this),this.options=f({distance:10},e),this.container=t,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}d.prototype.destroy=function(){l(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},d.prototype._toggleDragEvent=function(e){var n=this.container;e?(i(n),c(window,"dragstart",u),c(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(o(n),l(window,"dragstart",u),l(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},d.prototype._getEventData=function(e){return{target:s(e),originEvent:e}},d.prototype._onMouseDown=function(e){0===a(e)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(e),this._toggleDragEvent(!0))},d.prototype._onMouseMove=function(e){var t=this.options.distance;u(e),this._isMoved=!0,this._distance<t?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(e)):this._toggleDragEvent(!1)},d.prototype._onMouseUp=function(e){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(e));this.fire("click",this._getEventData(e))},r.mixin(d),e.exports=d}).call(this,n(25))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r="_feEventKey";function i(e,t){var n,i=e[r];return i||(i=e[r]={}),n=i[t],n||(n=i[t]=[]),n}e.exports=i},function(e,t,n){"use strict";function r(e){var t,n,r=document.documentElement.style;for(t=0,n=e.length;t<n;t+=1)if(e[t]in r)return e[t];return!1}e.exports=r},function(e,t,n){"use strict";function r(e){return e.target||e.srcElement}e.exports=r},function(e,t,n){"use strict";var r=n(10),i=n(28),o=n(17),a=n(14),s=n(30),l=n(0),c=n(18),u=n(9),f=n(12),d=n(8),h=n(51);function p(e,t){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},e),t=u.appendHTMLElement("div",t,this.options.cssPrefix+"palette-container"),d.call(this,e,t)}c(p,d),p.prototype._onClick=function(e){var t=this.options,n=i(e),r={};if(s(n,t.cssPrefix+"palette-button"))return r.color=n.value,void this.fire("_selectColor",r);s(n,t.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},p.prototype._onChange=function(e){var t=this.options,n=i(e),r={};s(n,t.cssPrefix+"palette-hex")&&(r.color=n.value,this.fire("_selectColor",r))},p.prototype._beforeDestroy=function(){this._toggleEvent(!1)},p.prototype._toggleEvent=function(e){var t,n=this.options,r=this.container,i=e?a:o;i(r,"click",this._onClick,this),t=r.querySelector("."+n.cssPrefix+"palette-hex",r),t&&i(t,"change",this._onChange,this)},p.prototype.render=function(e){var t=this.options,n="";this._toggleEvent(!1),n=h({cssPrefix:t.cssPrefix,preset:t.preset,detailTxt:t.detailTxt,color:e,isValidRGB:f.isValidRGB,getItemClass:function(e){return e?"":" "+t.cssPrefix+"color-transparent"},isSelected:function(n){return n===e?" "+t.cssPrefix+"selected":""}}),this.container.innerHTML=n,this._toggleEvent(!0)},r.mixin(p),e.exports=p},function(e,t,n){"use strict";var r=n(5),i=n(23);function o(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}e.exports=o},function(e,t,n){"use strict";var r=n(10),i=n(53),o=n(54),a=n(30),s=n(0),l=n(18),c=n(9),u=n(32),f=n(12),d=n(8),h=n(24),p=n(57),v=[-7,112],m=[-3,115],y=359.99;function g(e,t){t=c.appendHTMLElement("div",t,e.cssPrefix+"slider-container"),t.style.display="none",d.call(this,e,t),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},e),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new h({distance:0},t),this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(g,d),g.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},g.prototype.toggle=function(e){this.container.style.display=e?"block":"none"},g.prototype.isVisible=function(){return"block"===this.container.style.display},g.prototype.render=function(e){var t,n,r=this.container,i=this.options,o=p.layout;f.isValidRGB(e)&&(o=o.replace(/{{slider}}/,p.slider),o=o.replace(/{{huebar}}/,p.huebar),o=o.replace(/{{cssPrefix}}/g,i.cssPrefix),o=o.replace(/{{id}}/g,i.id),this.container.innerHTML=o,this.sliderHandleElement=r.querySelector("."+i.cssPrefix+"slider-handle"),this.huebarHandleElement=r.querySelector("."+i.cssPrefix+"huebar-handle"),this.baseColorElement=r.querySelector("."+i.cssPrefix+"slider-basecolor"),t=f.hexToRGB(e),n=f.rgbToHSV.apply(null,t),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},g.prototype._moveColorSliderHandle=function(e,t,n){var r,i=this.sliderHandleElement;t=Math.max(v[0],t),t=Math.min(v[1],t),e=Math.max(v[0],e),e=Math.min(v[1],e),u.setTranslateXY(i,e,t),r=t>50?"white":"black",u.setStrokeColor(i,r),n||this.fire("_selectColor",{color:f.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveSaturationAndValue=function(e,t,n){var r,i,o,a;e=e||0,t=t||0,r=Math.abs(v[0]),i=v[1],o=e*i/100-r,a=i-t*i/100-r,this._moveColorSliderHandle(o,a,n)},g.prototype._moveColorSliderByPosition=function(e,t){var n=v[0];this._moveColorSliderHandle(e+n,t+n)},g.prototype.getSaturationAndValue=function(){var e,t,n=Math.abs(v[0]),r=n+v[1],i=u.getTranslateXY(this.sliderHandleElement);return e=(i[1]+n)/r*100,t=100-(i[0]+n)/r*100,[e,t]},g.prototype._moveHueHandle=function(e,t){var n,r,i=this.huebarHandleElement,o=this.baseColorElement;e=Math.max(m[0],e),e=Math.min(m[1],e),u.setTranslateY(i,e),n=f.hsvToRGB(this.getHue(),100,100),r=f.rgbToHEX.apply(null,n),u.setGradientColorStop(o,r),t||this.fire("_selectColor",{color:f.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveHue=function(e,t){var n,r,i=0;n=Math.abs(m[0]),r=n+m[1],e=e||0,i=r*e/y-n,this._moveHueHandle(i,t)},g.prototype._moveHueByPosition=function(e){var t=m[0];this._moveHueHandle(e+t)},g.prototype.getHue=function(){var e,t,n=this.huebarHandleElement,r=u.getTranslateXY(n);return e=Math.abs(m[0]),t=e+m[1],(r[0]+e)*y/t},g.prototype.getHSV=function(){var e=this.getSaturationAndValue(),t=this.getHue();return[t].concat(e)},g.prototype.getRGB=function(){return f.hsvToRGB.apply(null,this.getHSV())},g.prototype._prepareColorSliderForMouseEvent=function(e){var t,n=this.options,r=o(e.target,"."+n.cssPrefix+"slider-part");return t=this._dragDataCache={isColorSlider:a(r,n.cssPrefix+"slider-left"),parentElement:r},t},g.prototype._onClick=function(e){var t=this._prepareColorSliderForMouseEvent(e),n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},g.prototype._onDragStart=function(e){this._prepareColorSliderForMouseEvent(e)},g.prototype._onDrag=function(e){var t=this._dragDataCache,n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},g.prototype._onDragEnd=function(){this._dragDataCache=null},r.mixin(g),e.exports=g},function(e,t,n){"use strict";var r=n(4).isOldBrowser,i=/[\.\-0-9]+/g,o=-6,a={getTranslateXY:function(e){var t;return r?(t=e.style,[parseFloat(t.top),parseFloat(t.left)]):(t=e.getAttribute("transform"),t?(t=t.match(i),[parseFloat(t[1]),parseFloat(t[0])]):[0,0])},setTranslateXY:function(e,t,n){r?(e.style.left=t+"px",e.style.top=n+"px"):e.setAttribute("transform","translate("+t+","+n+")")},setTranslateY:function(e,t){r?e.style.top=t+"px":e.setAttribute("transform","translate("+o+","+t+")")},setStrokeColor:function(e,t){r?e.strokecolor=t:e.setAttribute("stroke",t)},setGradientColorStop:function(e,t){r?e.color=t:e.setAttribute("stop-color",t)}};e.exports=a},function(e,t,n){n(34),e.exports=n(35)},function(e,t,n){},function(e,t,n){"use strict";var r=n(19),i=n(8),o=n(24),a=n(48),s=n(29),l=n(31),c=n(12),u=n(32),f={Collection:r,View:i,Drag:o,create:a,Palette:s,Slider:l,colorutil:c,svgvml:u};e.exports=f},function(e,t,n){"use strict";function r(e){return null===e}e.exports=r},function(e,t,n){"use strict";var r=n(3),i=n(38),o=6048e5;function a(e){var t=(new Date).getTime();return t-e>o}function s(e,t){var n="https://www.google-analytics.com/collect",o=location.hostname,s="event",l="use",c="TOAST UI "+e+" for "+o+": Statistics",u=window.localStorage.getItem(c);(r(window.tui)||!1!==window.tui.usageStatistics)&&(u&&!a(u)||(window.localStorage.setItem(c,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i(n,{v:1,t:s,tid:t,cid:o,dp:o,dh:e,el:e,ec:l})}),1e3)))}e.exports=s},function(e,t,n){"use strict";var r=n(7);function i(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}e.exports=i},function(e,t,n){"use strict";var r=n(2),i=n(5),o=n(23),a=n(40);function s(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):(t=o(e),t&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}e.exports=s},function(e,t,n){"use strict";var r=n(1),i=n(3);function o(e,t){t=r(t)?t.join(" "):t,t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}e.exports=o},function(e,t,n){"use strict";function r(e){return"number"===typeof e||e instanceof Number}e.exports=r},function(e,t,n){"use strict";var r=n(14),i=n(15),o=n(43),a=n(27),s="onselectstart"in document,l="prevUserSelect",c=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function u(e){e||(e=document),s?r(e,"selectstart",i):(e=e===document?document.documentElement:e,o(e,l,e.style[c]),e.style[c]="none")}e.exports=u},function(e,t,n){"use strict";var r=n(16);function i(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+r(t),n)}e.exports=i},function(e,t,n){"use strict";var r=n(17),i=n(15),o=n(45),a=n(46),s=n(27),l="onselectstart"in document,c="prevUserSelect",u=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function f(e){e||(e=document),l?r(e,"selectstart",i):(e=e===document?document.documentElement:e,e.style[u]=o(e,c)||"auto",a(e,c))}e.exports=f},function(e,t,n){"use strict";var r=n(16);function i(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+r(t))}e.exports=i},function(e,t,n){"use strict";var r=n(16);function i(e,t){e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+r(t))}e.exports=i},function(e,t,n){"use strict";var r=n(22),i=n(5),o=["0","1","3","5","7"],a=["2","6"],s=["4"];function l(e){return r.msie&&r.version<=8?c(e):e.button}function c(e){var t=String(e.button);return i(t,o)>-1?0:i(t,a)>-1?2:i(t,s)>-1?1:null}e.exports=l},function(e,t,n){"use strict";var r=n(10),i=n(0),o=n(4),a=n(12),s=n(49),l=n(29),c=n(31),u=0;function f(){return u+=1,u}function d(e){var t;if(!(this instanceof d))return new d(e);if(e=this.options=i({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:f(),usageStatistics:!0},e),!e.container)throw new Error("ColorPicker(): need container option.");t=this.layout=new s(e,e.container),this.palette=new l(e,t.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(e,t.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),t.addChild(this.palette),t.addChild(this.slider),this.render(e.color),e.usageStatistics&&o.sendHostName()}d.prototype._onSelectColorInPalette=function(e){var t=e.color,n=this.options;a.isValidRGB(t)||""===t?(this.fire("selectColor",{color:t,origin:"palette"}),n.color!==t&&(n.color=t,this.render(t))):this.render()},d.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},d.prototype._onSelectColorInSlider=function(e){var t=e.color,n=this.options;this.fire("selectColor",{color:t,origin:"slider"}),n.color!==t&&(n.color=t,this.palette.render(t))},d.prototype.setColor=function(e){if(!a.isValidRGB(e))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=e,this.render(e)},d.prototype.getColor=function(){return this.options.color},d.prototype.toggle=function(e){this.layout.container.style.display=e?"block":"none"},d.prototype.render=function(e){this.layout.render(e||this.options.color)},d.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},r.mixin(d),e.exports=d},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(9),a=n(8);function s(e,t){this.options=r({cssPrefix:"tui-colorpicker-"},e),t=o.appendHTMLElement("div",t,this.options.cssPrefix+"container"),a.call(this,e,t),this.render()}i(s,a),s.prototype.render=function(e){this.recursive((function(t){t.render(e)}),!0)},e.exports=s},function(e,t,n){"use strict";function r(e){function t(){}return t.prototype=e,new t}e.exports=r},function(e,t,n){"use strict";var r=n(52);e.exports=function(e){var t=['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),n=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",t,"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return r(n,e)}},function(e,t,n){"use strict";var r=n(5),i=n(2),o=n(1),a=n(11),s=n(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,f=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,d=/\./,h=/^["']\w+["']$/,p=/"|'/g,v=/^-?\d+\.?\d*$/,m=2,y={if:k,each:S,with:O},g=3==="a".split(/a/).length,b=function(){return g?function(e,t){return e.split(t)}:function(e,t){var n,r,i=[],o=0;t.global||(t=new RegExp(t,"g")),n=t.exec(e);while(null!==n)r=n.index,i.push(e.slice(o,r)),o=r+n[0].length,n=t.exec(e);return i.push(e.slice(o)),i}}();function w(e,t){var n,r=t[e];return"true"===e?r=!0:"false"===e?r=!1:h.test(e)?r=e.replace(p,""):c.test(e)?(n=e.split(u),r=w(n[0],t)[w(n[1],t)]):f.test(e)?(n=e.split(d),r=w(n[0],t)[n[1]]):v.test(e)&&(r=parseFloat(e)),r}function x(e,t){var n=[e],r=[],o=0,a=0;return i(t,(function(e,i){0===e.indexOf("if")?o+=1:"/if"===e?o-=1:o||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),r.push(t.slice(a,i)),a=i+1)})),r.push(t.slice(a)),{exps:n,sourcesInsideIf:r}}function k(e,t,n){var r=x(e,t),o=!1,a="";return i(r.exps,(function(e,t){return o=M(e,n),o&&(a=T(r.sourcesInsideIf[t],n)),!o})),a}function S(e,t,n){var r=M(e,n),a=o(r)?"@index":"@key",l={},c="";return i(r,(function(e,r){l[a]=r,l["@this"]=e,s(n,l),c+=T(t.slice(),n)})),c}function O(e,t,n){var i=r("as",e),o=e[i+1],a=M(e.slice(0,i),n),l={};return l[o]=a,T(t,s(n,l))||""}function C(e,t,n){var r=e.splice(t+1,n-t);return r.pop(),r}function E(e,t,n){var r,i=y[e],o=1,s=0,l=s+m,c=t[l];while(o&&a(c))0===c.indexOf(e)?o+=1:0===c.indexOf("/"+e)&&(o-=1,r=l),l+=m,c=t[l];if(o)throw Error(e+" needs {{/"+e+"}} expression.");return t[s]=i(t[s].split(" ").slice(1),C(t,s,r),n),t}function M(e,t){var n=w(e[0],t);return n instanceof Function?A(n,e.slice(1),t):n}function A(e,t,n){var r=[];return i(t,(function(e){r.push(w(e,n))})),e.apply(null,r)}function T(e,t){var n,r,i,o=1,s=e[o];while(a(s))n=s.split(" "),r=n[0],y[r]?(i=E(r,e.splice(o,e.length-o),t),e=e.concat(i)):e[o]=M(n,t),o+=m,s=e[o];return e.join("")}function P(e,t){return T(b(e,l),t)}e.exports=P},function(e,t,n){"use strict";var r=n(1);function i(e,t){var n,i=r(e),o=i?e[0]:e.clientX,a=i?e[1]:e.clientY;return t?(n=t.getBoundingClientRect(),[o-n.left-t.clientLeft,a-n.top-t.clientTop]):[o,a]}e.exports=i},function(e,t,n){"use strict";var r=n(55);function i(e,t){var n=e.parentNode;if(r(e,t))return e;while(n&&n!==document){if(r(n,t))return n;n=n.parentNode}return null}e.exports=i},function(e,t,n){"use strict";var r=n(5),i=n(56),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};function s(e,t){return a.call(e,t)}e.exports=s},function(e,t,n){"use strict";var r=n(6);function i(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(4).isOldBrowser,i=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),o=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),a=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),s=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),l=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");r&&t.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),e.exports={layout:i,slider:r?a:o,huebar:r?l:s}}).call(this,n(25))}])}))},3607:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _re}});var r=n(3396),i=n(7139);const o={class:"article-create"},a={class:"title"},s={class:"markdown-container"},l={id:"markdown-box"},c={class:"bottom"};function u(e,t,n,u,f,d){const h=(0,r.up)("el-input"),p=(0,r.up)("markdown-editor"),v=(0,r.up)("el-button"),m=(0,r.up)("el-card"),y=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r.wy)(((0,r.wg)(),(0,r.j4)(m,null,{default:(0,r.w5)((()=>[(0,r._)("div",a,[(0,r.Wm)(h,{class:"title-input",placeholder:e.$t("article.titlePlaceholder"),modelValue:u.detail.title,"onUpdate:modelValue":t[0]||(t[0]=e=>u.detail.title=e),maxlength:"20",clearable:""},null,8,["placeholder","modelValue"])]),(0,r._)("div",s,[(0,r._)("div",l,[(0,r.Wm)(p,{ref:"markdown",modelValue:u.detail.content,"onUpdate:modelValue":t[1]||(t[1]=e=>u.detail.content=e)},null,8,["modelValue"])]),(0,r._)("div",c,[(0,r.Wm)(v,{loading:u.saving,type:"primary",onClick:u.onSubmitClick},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.$t("article.commit")),1)])),_:1},8,["loading","onClick"])])])])),_:1})),[[y,u.loading]])])}const f={class:"markdown-wrapper"},d={id:"editor",ref:"editorRef"};function h(e,t,n,i,o,a){return(0,r.wg)(),(0,r.iD)("div",f,[(0,r._)("div",d,null,512)])}var p=n(4870);n(1703);function v(e){this.content=e}v.prototype={constructor:v,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return-1==i?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new v(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new v(n)},addToStart:function(e,t){return new v([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new v(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(-1==o?i.length:o,0,t,n),new v(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=v.from(e),e.size?new v(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=v.from(e),e.size?new v(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=v.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},v.from=function(e){if(e instanceof v)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new v(t)};var m=v;function y(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let e=0;i.text[e]==o.text[e];e++)n++;return n}if(i.content.size||o.content.size){let e=y(i.content,o.content,n+1);if(null!=e)return e}n+=i.nodeSize}else n+=i.nodeSize}}function g(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let e=0,t=Math.min(a.text.length,s.text.length);while(e<t&&a.text[a.text.length-e-1]==s.text[s.text.length-e-1])e++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let e=g(a.content,s.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}class b{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,i){for(let o=0,a=0;a<t;o++){let s=this.content[o],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,i||null,o)&&s.content.size){let i=a+1;s.nodesBetween(Math.max(0,e-i),Math.min(s.content.size,t-i),n,r+i)}a=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",o=!0;return this.nodesBetween(e,t,((a,s)=>{a.isText?(i+=a.text.slice(Math.max(e,s)-s,t-s),o=!n):a.isLeaf&&r?(i+="function"===typeof r?r(a):r,o=!n):!o&&a.isBlock&&(i+=n,o=!0)}),0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new b(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,o=0;o<t;i++){let a=this.content[i],s=o+a.nodeSize;s>e&&((o<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),n.push(a),r+=a.nodeSize),o=s}return new b(n,r)}cutByIndex(e,t){return e==t?b.empty:0==e&&t==this.content.length?this:new b(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new b(r,i)}addToStart(e){return new b([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new b(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return y(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return g(this,e,t,n)}findIndex(e,t=-1){if(0==e)return x(0,e);if(e==this.size)return x(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e||t>0?x(n+1,o):x(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return b.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new b(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return b.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new b(t||e,n)}static from(e){if(!e)return b.empty;if(e instanceof b)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new b([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}b.empty=new b([],0);const w={index:0,offset:0};function x(e,t){return w.index=e,w.offset=t,w}function k(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!k(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!k(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class S{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&k(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return S.none;if(e instanceof S)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}S.none=[];class O extends Error{}class C{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=M(this.content,e+this.openStart,t);return n&&new C(n,this.openStart,this.openEnd)}removeBetween(e,t){return new C(E(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return C.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new C(b.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new C(e,n,r)}}function E(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(i==t||o.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(E(o.content,t-i-1,n-i-1)))}function M(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=M(a.content,t-o-1,n);return s&&e.replaceChild(i,a.copy(s))}function A(e,t,n){if(n.openStart>e.depth)throw new O("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new O("Inconsistent open depths");return T(e,t,n,0)}function T(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=T(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:i,end:a}=N(n,e);return j(o,L(e,i,a,t,r))}{let r=e.parent,i=r.content;return j(r,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}}return j(o,I(e,t,r))}function P(e,t){if(!t.type.compatibleContent(e.type))throw new O("Cannot join "+t.type.name+" onto "+e.type.name)}function R(e,t,n){let r=e.node(n);return P(r,t.node(n)),r}function D(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function _(e,t,n,r){let i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(D(e.nodeAfter,r),o++));for(let s=o;s<a;s++)D(i.child(s),r);t&&t.depth==n&&t.textOffset&&D(t.nodeBefore,r)}function j(e,t){if(!e.type.validContent(t))throw new O("Invalid content for node "+e.type.name);return e.copy(t)}function L(e,t,n,r,i){let o=e.depth>i&&R(e,t,i+1),a=r.depth>i&&R(n,r,i+1),s=[];return _(null,e,i,s),o&&a&&t.index(i)==n.index(i)?(P(o,a),D(j(o,L(e,t,n,r,i+1)),s)):(o&&D(j(o,I(e,t,i+1)),s),_(t,n,i,s),a&&D(j(a,I(n,r,i+1)),s)),_(r,null,i,s),new b(s)}function I(e,t,n){let r=[];if(_(null,e,n,r),e.depth>n){let i=R(e,t,n+1);D(j(i,I(e,t,n+1)),r)}return _(t,null,n,r),new b(r)}function N(e,t){let n=t.depth-e.openStart,r=t.node(n),i=r.copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(b.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}C.empty=new C(b.empty,0,0);class B{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return e=this.resolveDepth(e),0==e?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let i=0;i<e;i++)r+=n.child(i).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return S.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new F(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let o=e;;){let{index:e,offset:t}=o.content.findIndex(i),a=i-t;if(n.push(o,e,r+t),!a)break;if(o=o.child(e),o.isText)break;i=a-1,r+=t+1}return new B(t,n,i)}static resolveCached(e,t){for(let r=0;r<z.length;r++){let n=z[r];if(n.pos==t&&n.doc==e)return n}let n=z[H]=B.resolve(e,t);return H=(H+1)%W,n}}let z=[],H=0,W=12;class F{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const U=Object.create(null);class V{constructor(e,t,n,r=S.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||b.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&k(this.attrs,t||e.defaultAttrs||U)&&S.sameSet(this.marks,n||S.none)}copy(e=null){return e==this.content?this:new V(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new V(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return C.empty;let r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),a=r.start(o),s=r.node(o),l=s.content.cut(r.pos-a,i.pos-a);return new C(l,r.depth-o,i.depth-o)}replace(e,t,n){return A(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return B.resolveCached(this,e)}resolveNoCache(e){return B.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Y(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=b.empty,r=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,i),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let s=r;s<i;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=S.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!S.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=b.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}V.prototype.text=void 0;class q extends V{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Y(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new q(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new q(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Y(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ${constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new G(e,t);if(null==n.next)return $.empty;let r=X(n);n.next&&n.err("Unexpected trailing text");let i=oe(ne(r));return ae(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];function i(o,a){let s=o.matchFragment(e,n);if(s&&(!t||s.validEnd))return b.from(a.map((e=>e.createAndFill())));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=i(n,a.concat(t));if(e)return e}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:o,next:a}=i.next[e];o.isLeaf||o.hasRequiredAttrs()||o.name in t||r.type&&!a.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}return t(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let i=0;i<t.next.length;i++)r+=(i?", ":"")+t.next[i].type.name+"->"+e.indexOf(t.next[i].next);return r})).join("\n")}}$.empty=new $(!0);class G{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function X(e){let t=[];do{t.push(K(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function K(e){let t=[];do{t.push(Z(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Z(e){let t=te(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Q(e,t)}return t}function J(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Q(e,t){let n=J(e),r=n;return e.eat(",")&&(r="}"!=e.next?J(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function ee(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let e=n[o];e.groups.indexOf(t)>-1&&i.push(e)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i}function te(e){if(e.eat("(")){let t=X(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=ee(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}function ne(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((e=>e.to=t))}function o(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(o(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let a=n();return r(t,a),i(o(e.expr,a),a),[r(a)]}if("plus"==e.type){let a=n();return i(o(e.expr,t),a),i(o(e.expr,a),a),[r(a)]}if("opt"==e.type)return[r(t)].concat(o(e.expr,t));if("range"==e.type){let a=t;for(let t=0;t<e.min;t++){let t=n();i(o(e.expr,a),t),a=t}if(-1==e.max)i(o(e.expr,a),a);else for(let t=e.min;t<e.max;t++){let t=n();r(a,t),i(o(e.expr,a),t),a=t}return[r(a)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=o(e.exprs[r],t);if(r==e.exprs.length-1)return a;i(a,t=n())}}}function re(e,t){return t-e}function ie(e,t){let n=[];return r(t),n.sort(re);function r(t){let i=e[t];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(t);for(let e=0;e<i.length;e++){let{term:t,to:o}=i[e];t||-1!=n.indexOf(o)||r(o)}}}function oe(e){let t=Object.create(null);return n(ie(e,0));function n(r){let i=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<i.length;e++)i[e][0]==t&&(r=i[e][1]);ie(e,n).forEach((e=>{r||i.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let o=t[r.join(",")]=new $(r.indexOf(e.length-1)>-1);for(let e=0;e<i.length;e++){let r=i[e][1].sort(re);o.next.push({type:i[e][0],next:t[r.join(",")]||n(r)})}return o}}function ae(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:a}=e.next[t];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(a)&&r.push(a)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function se(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function le(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=t.default}n[r]=i}return n}function ce(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new fe(e[n]);return t}class ue{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=ce(n.attrs),this.defaultAttrs=se(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==$.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:le(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new V(this,this.computeAttrs(e),b.from(t),S.setFrom(n))}createChecked(e=null,t,n){if(t=b.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new V(this,this.computeAttrs(e),t,S.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=b.from(t),t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(b.empty,!0);return i?new V(this,e,t.append(i),S.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:S.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new ue(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class fe{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class de{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=ce(r.attrs),this.excluded=null;let i=se(this.attrs);this.instance=i?new S(this,i):null}create(e=null){return!e&&this.instance?this.instance:new S(this,le(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,i)=>n[e]=new de(e,r++,t,i))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class he{constructor(e){this.cached=Object.create(null),this.spec={nodes:m.from(e.nodes),marks:m.from(e.marks||{}),topNode:e.topNode},this.nodes=ue.compile(this.spec.nodes,this),this.marks=de.compile(this.spec.marks,this);let t=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let e=this.nodes[n],r=e.spec.content||"",i=e.spec.marks;e.contentMatch=t[r]||(t[r]=$.parse(r,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.markSet="_"==i?null:i?pe(this,i.split(" ")):""!=i&&e.inlineContent?null:[]}for(let n in this.marks){let e=this.marks[n],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:pe(this,t.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof ue))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new q(n,n.defaultAttrs,e,S.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return V.fromJSON(this,e)}markFromJSON(e){return S.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function pe(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class ve{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new Oe(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Oe(this,t,!0);return n.addAll(e,t.from,t.to),C.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(Ee(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(e)||r.context&&!n.matchesContext(r.context)||o.length>e.length&&(61!=o.charCodeAt(e.length)||o.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r],i=null==e.priority?50:e.priority;if(i<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach((e=>{n(e=Ae(e)),e.mark=r}))}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach((e=>{n(e=Ae(e)),e.node=r}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ve(e,ve.schemaRules(e)))}}const me={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ye={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ge={ol:!0,ul:!0},be=1,we=2,xe=4;function ke(e,t,n){return null!=t?(t?be:0)|("full"===t?we:0):e&&"pre"==e.whitespace?be|we:n&~xe}class Se{constructor(e,t,n,r,i,o,a){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=S.none,this.stashMarks=[],this.match=o||(a&xe?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(b.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&be)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=b.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(b.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):Te(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!me.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Oe{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,i=t.topNode,o=ke(null,t.preserveWhitespace,0)|(n?xe:0);r=i?new Se(i.type,i.attrs,S.none,S.none,!0,t.topMatch||i.type.contentMatch,o):new Se(n?null:e.schema.topNodeType,null,S.none,S.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(Me(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&we||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&be)t=n.options&we?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();ge.hasOwnProperty(r)&&this.parser.normalizeLists&&Ce(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(i?i.ignore:ye.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let t,n=this.top,o=this.needsBlock;if(me.hasOwnProperty(r))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=o}else this.addElementByRule(e,i,!1===i.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=S.none;e:for(let n=0;n<e.length;n+=2)for(let r;;){let i=this.parser.matchStyle(e[n],e[n+1],this,r);if(!i)continue e;if(i.ignore)return null;if(t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t),!1!==i.consuming)break;r=i}return t}addElementByRule(e,t,n){let r,i,o;if(t.node)i=this.parser.schema.nodes[t.node],i.isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):r=this.enter(i,t.attrs||null,t.preserveWhitespace);else{let e=this.parser.schema.marks[t.mark];o=e.create(t.attrs),this.addPendingMark(o)}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(e,t,n){let r=t||0;for(let i=t?e.childNodes[t]:e.firstChild,o=null==n?null:e.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return!1;this.sync(n);for(let r=0;r<t.length;r++)this.enterInner(t[r],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=ke(e,r,i.options);i.options&xe&&0==i.content.length&&(o|=xe),this.nodes.push(new Se(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){let e=t.compareDocumentPosition(this.find[r].node);e&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(e,a)=>{for(;e>=0;e--){let s=t[e];if(""==s){if(e==t.length-1||0==e)continue;for(;a>=i;a--)if(o(e-1,a))return!0;return!1}{let e=a>0||0==a&&r?this.nodes[a].type:n&&a>=i?n.node(a-i).type:null;if(!e||e.name!=s&&-1==e.groups.indexOf(s))return!1;a--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(e){let t=Pe(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n],i=r.pendingMarks.lastIndexOf(e);if(i>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function Ce(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&ge.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}function Ee(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Me(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(t=n.exec(e))r.push(t[1],t[2].trim());return r}function Ae(e){let t={};for(let n in e)t[n]=e[n];return t}function Te(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],a=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t)return!0;if(o.indexOf(i)<0&&a(i))return!0}};if(a(i.contentMatch))return!0}}function Pe(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Re{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=_e(t).createDocumentFragment());let r=n,i=[];return e.forEach((e=>{if(i.length||e.marks.length){let n=0,o=0;while(n<i.length&&o<e.marks.length){let t=e.marks[o];if(this.marks[t.type.name]){if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,o++}else o++}while(n<i.length)r=i.pop()[1];while(o<e.marks.length){let n=e.marks[o++],a=this.serializeMark(n,e.isInline,t);a&&(i.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Re.renderSpec(_e(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&Re.renderSpec(_e(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,i=t[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a=n?e.createElementNS(n,i):e.createElement(i),s=t[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s)){l=2;for(let e in s)if(null!=s[e]){let t=e.indexOf(" ");t>0?a.setAttributeNS(e.slice(0,t),e.slice(t+1),s[e]):a.setAttribute(e,s[e])}}for(let c=l;c<t.length;c++){let i=t[c];if(0===i){if(c<t.length-1||c>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:t,contentDOM:o}=Re.renderSpec(e,i,n);if(a.appendChild(t),o){if(r)throw new RangeError("Multiple content holes");r=o}}}return{dom:a,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Re(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=De(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return De(e.marks)}}function De(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function _e(e){return e.document||window.document}n(2801);const je=65535,Le=Math.pow(2,16);function Ie(e,t){return e+t*Le}function Ne(e){return e&je}function Be(e){return(e-(e&je))/Le}const ze=1,He=2,We=4,Fe=8;class Ue{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Fe)>0}get deletedBefore(){return(this.delInfo&(ze|We))>0}get deletedAfter(){return(this.delInfo&(He|We))>0}get deletedAcross(){return(this.delInfo&We)>0}}class Ve{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ve.empty)return Ve.empty}recover(e){let t=0,n=Ne(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+Be(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;let l=this.ranges[a+i],c=this.ranges[a+o],u=s+l;if(e<=u){let i=l?e==s?-1:e==u?1:t:t,o=s+r+(i<0?0:c);if(n)return o;let f=e==(t<0?s:u)?null:Ie(a/3,e-s),d=e==s?He:e==u?ze:We;return(t<0?e!=s:e!=u)&&(d|=Fe),new Ue(o,d,f)}r+=c-l}return n?e+r:new Ue(e+r,0,null)}touches(e,t){let n=0,r=Ne(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let t=this.ranges[a]-(this.inverted?n:0);if(t>e)break;let s=this.ranges[a+i],l=t+s;if(e<=l&&a==3*r)return!0;n+=this.ranges[a+o]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?i:0),s=o+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),i+=c-l}}invert(){return new Ve(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Ve.empty:new Ve(e<0?[0,-e,0]:[0,0,e])}}Ve.empty=new Ve([]);class qe{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new qe(this.maps,this.mirror,e,t)}copy(){return new qe(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new qe;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let i=this.from;i<this.to;i++){let n=this.maps[i],o=n.mapResult(e,t);if(null!=o.recover){let t=this.getMirror(i);if(null!=t&&t>i&&t<this.to){i=t,e=this.maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new Ue(e,r,null)}}const Ye=Object.create(null);class $e{getMap(){return Ve.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Ye[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Ye)throw new RangeError("Duplicate use of step JSON ID "+e);return Ye[e]=t,t.prototype.jsonID=e,t}}class Ge{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ge(e,null)}static fail(e){return new Ge(null,e)}static fromReplace(e,t,n,r){try{return Ge.ok(e.replace(t,n,r))}catch(i){if(i instanceof O)return Ge.fail(i.message);throw i}}}function Xe(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(Xe(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return b.fromArray(r)}class Ke extends $e{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),i=new C(Xe(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),r),t.openStart,t.openEnd);return Ge.fromReplace(e,this.from,this.to,i)}invert(){return new Ze(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Ke(t.pos,n.pos,this.mark)}merge(e){return e instanceof Ke&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ke(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ke(t.from,t.to,e.markFromJSON(t.mark))}}$e.jsonID("addMark",Ke);class Ze extends $e{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new C(Xe(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return Ge.fromReplace(e,this.from,this.to,n)}invert(){return new Ke(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Ze(t.pos,n.pos,this.mark)}merge(e){return e instanceof Ze&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ze(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ze(t.from,t.to,e.markFromJSON(t.mark))}}$e.jsonID("removeMark",Ze);class Je extends $e{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&et(e,this.from,this.to)?Ge.fail("Structure replace would overwrite content"):Ge.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ve([this.from,this.to-this.from,this.slice.size])}invert(e){return new Je(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Je(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Je)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?C.empty:new C(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Je(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?C.empty:new C(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Je(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Je(t.from,t.to,C.fromJSON(e,t.slice),!!t.structure)}}$e.jsonID("replace",Je);class Qe extends $e{constructor(e,t,n,r,i,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(et(e,this.from,this.gapFrom)||et(e,this.gapTo,this.to)))return Ge.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ge.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Ge.fromReplace(e,this.from,this.to,n):Ge.fail("Content does not fit in gap")}getMap(){return new Ve([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Qe(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new Qe(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Qe(t.from,t.to,t.gapFrom,t.gapTo,C.fromJSON(e,t.slice),t.insert,!!t.structure)}}function et(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;while(i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount)o--,i--;if(i>0){let e=r.node(o).maybeChild(r.indexAfter(o));while(i>0){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function tt(e,t,n,r){let i,o,a=[],s=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),f=Math.min(l+e.nodeSize,n),d=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(d)||(i&&i.to==c&&i.mark.eq(u[e])?i.to=f:a.push(i=new Ze(c,f,u[e])));o&&o.to==c?o.to=f:s.push(o=new Ke(c,f,r))}})),a.forEach((t=>e.step(t))),s.forEach((t=>e.step(t)))}function nt(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,((e,a)=>{if(!e.isInline)return;o++;let s=null;if(r instanceof de){let t,n=e.marks;while(t=r.isInSet(n))(s||(s=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length){let r=Math.min(a+e.nodeSize,n);for(let e=0;e<s.length;e++){let n,l=s[e];for(let e=0;e<i.length;e++){let t=i[e];t.step==o-1&&l.eq(i[e].style)&&(n=t)}n?(n.to=r,n.step=o):i.push({style:l,from:Math.max(a,t),to:r,step:o})}}})),i.forEach((t=>e.step(new Ze(t.from,t.to,t.style))))}function rt(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),o=[],a=t+1;for(let s=0;s<i.childCount;s++){let t=i.child(s),l=a+t.nodeSize,c=r.matchType(t.type);if(c){r=c;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new Ze(a,l,t.marks[r]))}else o.push(new Je(a,l,C.empty));a=l}if(!r.validEnd){let t=r.fillBefore(b.empty,!0);e.replace(a,a,new C(t,0,0))}for(let s=o.length-1;s>=0;s--)e.step(o[s])}function it(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ot(e){let t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let t=e.$from.node(r),i=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&t.canReplace(i,o,n))return r;if(0==r||t.type.spec.isolating||!it(t,i,o))break}return null}function at(e,t,n){let{$from:r,$to:i,depth:o}=t,a=r.before(o+1),s=i.after(o+1),l=a,c=s,u=b.empty,f=0;for(let p=o,v=!1;p>n;p--)v||r.index(p)>0?(v=!0,u=b.from(r.node(p).copy(u)),f++):l--;let d=b.empty,h=0;for(let p=o,v=!1;p>n;p--)v||i.after(p+1)<i.end(p)?(v=!0,d=b.from(i.node(p).copy(d)),h++):c++;e.step(new Qe(l,c,a,s,new C(u.append(d),f,h),u.size-f,!0))}function st(e,t,n=null,r=e){let i=ct(e,t),o=i&&ut(r,t);return o?i.map(lt).concat({type:t,attrs:n}).concat(o.map(lt)):null}function lt(e){return{type:e,attrs:null}}function ct(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}function ut(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let s=a.length?a[a.length-1]:t,l=s.contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?a:null}function ft(e,t,n){let r=b.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let e=n[a].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=b.from(n[a].type.create(n[a].attrs,r))}let i=t.start,o=t.end;e.step(new Qe(i,o,i,o,new C(r,0,0),n.length,!0))}function dt(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(r,i)&&ht(e.doc,e.mapping.slice(o).map(n),r)){e.clearIncompatible(e.mapping.slice(o).map(n,1),r);let a=e.mapping.slice(o),s=a.map(n,1),l=a.map(n+t.nodeSize,1);return e.step(new Qe(s,l,s+1,l-1,new C(b.from(r.create(i,null,t.marks)),0,0),1,!0)),!1}}))}function ht(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function pt(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Qe(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new C(b.from(a),0,0),1,!0))}function vt(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let e=i.node(c),t=i.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),o=r&&r[u]||e;if(o!=e&&(n=n.replaceChild(0,o.type.create(o.attrs))),!e.canReplace(t+1,e.childCount)||!o.type.validContent(n))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function mt(e,t,n=1,r){let i=e.doc.resolve(t),o=b.empty,a=b.empty;for(let s=i.depth,l=i.depth-n,c=n-1;s>l;s--,c--){o=b.from(i.node(s).copy(o));let e=r&&r[c];a=b.from(e?e.type.create(e.attrs,a):i.node(s).copy(a))}e.step(new Je(t,t,new C(o.append(a),n,n),!0))}function yt(e,t){let n=e.resolve(t),r=n.index();return gt(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function gt(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function bt(e,t,n){let r=new Je(t-n,t+n,C.empty,!0);e.step(r)}function wt(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let e=r.index(i);if(r.node(i).canReplaceWith(e,e,n))return r.before(i+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let e=r.indexAfter(i);if(r.node(i).canReplaceWith(e,e,n))return r.after(i+1);if(e<r.node(i).childCount)return null}return null}function xt(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(0==n.openStart&&n.size?2:1);o++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),a=r.node(e),s=!1;if(1==o)s=a.canReplace(n,n,i);else{let e=a.contentMatchAt(n).findWrapping(i.firstChild.type);s=e&&a.canReplaceWith(n,n,e[0])}if(s)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function kt(e,t,n=t,r=C.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return St(i,o,r)?new Je(t,n,r):new Ot(i,o,r).fit()}function St(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}$e.jsonID("replaceAround",Qe);class Ot{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=b.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=b.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){while(this.unplaced.size){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,o=n.depth,a=r.depth;while(o&&a&&1==i.childCount)i=i.firstChild.content,o--,a--;let s=new C(i,o,a);return e>-1?new Qe(n.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||n.pos!=this.$to.pos?new Je(n.pos,r.pos,s):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,r=null;t?(r=Mt(this.unplaced.content,t-1).firstChild,n=r.content):n=this.unplaced.content;let i=n.firstChild;for(let o=this.depth;o>=0;o--){let n,{type:a,match:s}=this.frontier[o],l=null;if(1==e&&(i?s.matchType(i.type)||(l=s.fillBefore(b.from(i),!1)):r&&a.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:o,parent:r,inject:l};if(2==e&&i&&(n=s.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:o,parent:r,wrap:n};if(r&&s.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Mt(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new C(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Mt(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new C(Ct(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new C(Ct(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:i}){while(this.depth>t)this.closeFrontierNode();if(i)for(let p=0;p<i.length;p++)this.openFrontierNode(i[p]);let o=this.unplaced,a=n?n.content:o.content,s=o.openStart-e,l=0,c=[],{match:u,type:f}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let d=a.size+e-(o.content.size-o.openEnd);while(l<a.childCount){let e=a.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==s||e.content.size)&&(u=t,c.push(At(e.mark(f.allowedMarks(e.marks)),1==l?s:0,l==a.childCount?d:-1)))}let h=l==a.childCount;h||(d=-1),this.placed=Et(this.placed,t,b.from(c)),this.frontier[t].match=u,h&&d<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,v=a;p<d;p++){let e=v.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),v=e.content}this.unplaced=h?0==e?C.empty:new C(Ct(o.content,e-1,1),e-1,d<0?o.openEnd:e-1):new C(Ct(o.content,e,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Tt(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);while(n>1&&r==this.$to.end(--n))++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Tt(e,t,r,n,i);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=Tt(e,n,r,t,!0);if(!i||i.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;while(this.depth>t.depth)this.closeFrontierNode();t.fit.childCount&&(this.placed=Et(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Et(this.placed,this.depth,b.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop(),t=e.match.fillBefore(b.empty,!0);t.childCount&&(this.placed=Et(this.placed,this.frontier.length,t))}}function Ct(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Ct(e.firstChild.content,t-1,n)))}function Et(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Et(e.lastChild.content,t-1,n)))}function Mt(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function At(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,At(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(b.empty,!0)))),e.copy(r)}function Tt(e,t,n,r,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!Pt(n,o.content,a)?s:null}function Pt(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Rt(e){return e.spec.defining||e.spec.definingForContent}function Dt(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(St(i,o,r))return e.step(new Je(t,n,r));let a=It(i,e.doc.resolve(n));0==a[a.length-1]&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let e=i.node(d).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==h&&a.splice(1,0,-d)}let l=a.indexOf(s),c=[],u=r.openStart;for(let d=r.content,h=0;;h++){let e=d.firstChild;if(c.push(e),h==r.openStart)break;d=e.content}for(let d=u-1;d>=0;d--){let e=c[d].type,t=Rt(e);if(t&&i.node(l).type!=e)u=d;else if(t||!e.isTextblock)break}for(let d=r.openStart;d>=0;d--){let t=(d+u+1)%(r.openStart+1),s=c[t];if(s)for(let c=0;c<a.length;c++){let u=a[(c+l)%a.length],f=!0;u<0&&(f=!1,u=-u);let d=i.node(u-1),h=i.index(u-1);if(d.canReplaceWith(h,h,s.type,s.marks))return e.replace(i.before(u),f?o.after(u):n,new C(_t(r.content,0,r.openStart,t),t,r.openEnd))}}let f=e.steps.length;for(let d=a.length-1;d>=0;d--){if(e.replace(t,n,r),e.steps.length>f)break;let s=a[d];s<0||(t=i.before(s),n=o.after(s))}}function _t(e,t,n,r,i){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(_t(i.content,t+1,n,r,i)))}if(t>r){let t=i.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(b.empty,!0))}return e}function jt(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=wt(e.doc,t,r.type);null!=i&&(t=n=i)}e.replaceRange(t,n,new C(b.from(r),0,0))}function Lt(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=It(r,i);for(let a=0;a<o.length;a++){let t=o[a],n=a==o.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),i.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),i.indexAfter(t-1))))return e.delete(r.before(t),i.after(t))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a)return e.delete(r.before(a),n);e.delete(t,n)}function It(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(r==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==r-1)&&n.push(i)}return n}let Nt=class extends Error{};Nt=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},Nt.prototype=Object.create(Error.prototype),Nt.prototype.constructor=Nt,Nt.prototype.name="TransformError";class Bt{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new qe}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Nt(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=C.empty){let r=kt(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new C(b.from(n),0,0))}delete(e,t){return this.replace(e,t,C.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return Dt(this,e,t,n),this}replaceRangeWith(e,t,n){return jt(this,e,t,n),this}deleteRange(e,t){return Lt(this,e,t),this}lift(e,t){return at(this,e,t),this}join(e,t=1){return bt(this,e,t),this}wrap(e,t){return ft(this,e,t),this}setBlockType(e,t=e,n,r=null){return dt(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r=[]){return pt(this,e,t,n,r),this}split(e,t=1,n){return mt(this,e,t,n),this}addMark(e,t,n){return tt(this,e,t,n),this}removeMark(e,t,n){return nt(this,e,t,n),this}clearIncompatible(e,t,n){return rt(this,e,t,n),this}}const zt=Object.create(null);class Ht{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Wt(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=C.empty){let n=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:s,$to:l}=o[a],c=e.mapping.slice(i);e.replaceRange(c.map(s.pos),c.map(l.pos),a?C.empty:t),0==a&&Zt(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:a}=r[i],s=e.mapping.slice(n),l=s.map(o.pos),c=s.map(a.pos);i?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),Zt(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new Vt(e):Kt(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let i=e.depth-1;i>=0;i--){let r=t<0?Kt(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):Kt(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Gt(e.node(0))}static atStart(e){return Kt(e,e,0,0,1)||new Gt(e)}static atEnd(e){return Kt(e,e,e.content.size,e.childCount,-1)||new Gt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=zt[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in zt)throw new RangeError("Duplicate use of selection JSON ID "+e);return zt[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Vt.between(this.$anchor,this.$head).getBookmark()}}Ht.prototype.visible=!0;class Wt{constructor(e,t){this.$from=e,this.$to=t}}let Ft=!1;function Ut(e){Ft||e.parent.inlineContent||(Ft=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Vt extends Ht{constructor(e,t=e){Ut(e),Ut(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Ht.near(n);let r=e.resolve(t.map(this.anchor));return new Vt(r.parent.inlineContent?r:n,n)}replace(e,t=C.empty){if(super.replace(e,t),t==C.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Vt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new qt(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Vt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=Ht.findFrom(t,n,!0)||Ht.findFrom(t,-n,!0);if(!e)return Ht.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=(Ht.findFrom(e,-n,!0)||Ht.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new Vt(e,t)}}Ht.jsonID("text",Vt);class qt{constructor(e,t){this.anchor=e,this.head=t}map(e){return new qt(e.map(this.anchor),e.map(this.head))}resolve(e){return Vt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Yt extends Ht{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?Ht.near(i):new Yt(i)}content(){return new C(b.from(this.node),0,0)}eq(e){return e instanceof Yt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $t(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Yt(e.resolve(t.anchor))}static create(e,t){return new Yt(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Yt.prototype.visible=!1,Ht.jsonID("node",Yt);class $t{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new qt(n,n):new $t(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Yt.isSelectable(n)?new Yt(t):Ht.near(t)}}class Gt extends Ht{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=C.empty){if(t==C.empty){e.delete(0,e.doc.content.size);let t=Ht.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gt(e)}map(e){return new Gt(e)}eq(e){return e instanceof Gt}getBookmark(){return Xt}}Ht.jsonID("all",Gt);const Xt={map(){return this},resolve(e){return new Gt(e)}};function Kt(e,t,n,r,i,o=!1){if(t.inlineContent)return Vt.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let r=t.child(a);if(r.isAtom){if(!o&&Yt.isSelectable(r))return Yt.create(e,n-(i<0?r.nodeSize:0))}else{let t=Kt(e,r,n+i,i<0?r.childCount:0,i,o);if(t)return t}n+=r.nodeSize*i}return null}function Zt(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof Je||i instanceof Qe))return;let o,a=e.mapping.maps[r];a.forEach(((e,t,n,r)=>{null==o&&(o=r)})),e.setSelection(Ht.near(e.doc.resolve(o),n))}const Jt=1,Qt=2,en=4;class tn extends Bt{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Jt)&~Qt,this.storedMarks=null,this}get selectionSet(){return(this.updated&Jt)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Qt,this}ensureMarks(e){return S.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Qt)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Qt,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||S.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(Ht.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=en,this}get scrolledIntoView(){return(this.updated&en)>0}}function nn(e,t){return t&&e?e.bind(t):e}class rn{constructor(e,t,n){this.name=e,this.init=nn(t.init,n),this.apply=nn(t.apply,n)}}const on=[new rn("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new rn("selection",{init(e,t){return e.selection||Ht.atStart(t.doc)},apply(e){return e.selection}}),new rn("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new rn("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class an{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=on.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new rn(e.key,e.spec.state,e))}))}}class sn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let s=r?r[o].n:0,l=r?r[o].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new sn(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new tn(this)}static create(e){let t=new an(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new sn(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new an(this.schema,e.plugins),n=t.fields,r=new sn(t);for(let i=0;i<n.length;i++){let t=n[i].name;r[t]=this.hasOwnProperty(t)?this[t]:n[i].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new an(e.schema,e.plugins),i=new sn(r);return r.fields.forEach((r=>{if("doc"==r.name)i.doc=V.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=Ht.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let a=n[o],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(i[r.name]=s.fromJSON.call(a,e,t[o],i))}i[r.name]=r.init(e,i)}})),i}}function ln(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=ln(i,t,{})),n[r]=i}return n}class cn{constructor(e){this.spec=e,this.props={},e.props&&ln(e.props,this,this.props),this.key=e.key?e.key.key:fn("plugin")}getState(e){return e[this.key]}}const un=Object.create(null);function fn(e){return e in un?e+"$"+ ++un[e]:(un[e]=0,e+"$")}class dn{constructor(e="key"){this.key=fn(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const hn="undefined"!=typeof navigator?navigator:null,pn="undefined"!=typeof document?document:null,vn=hn&&hn.userAgent||"",mn=/Edge\/(\d+)/.exec(vn),yn=/MSIE \d/.exec(vn),gn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vn),bn=!!(yn||gn||mn),wn=yn?document.documentMode:gn?+gn[1]:mn?+mn[1]:0,xn=!bn&&/gecko\/(\d+)/i.test(vn);xn&&(/Firefox\/(\d+)/.exec(vn)||[0,0])[1];const kn=!bn&&/Chrome\/(\d+)/.exec(vn),Sn=!!kn,On=kn?+kn[1]:0,Cn=!bn&&!!hn&&/Apple Computer/.test(hn.vendor),En=Cn&&(/Mobile\/\w+/.test(vn)||!!hn&&hn.maxTouchPoints>2),Mn=En||!!hn&&/Mac/.test(hn.platform),An=/Android \d/.test(vn),Tn=!!pn&&"webkitFontSmoothing"in pn.documentElement.style,Pn=Tn?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Rn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Dn=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let _n=null;const jn=function(e,t,n){let r=_n||(_n=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},Ln=function(e,t,n,r){return n&&(Nn(e,t,n,r,-1)||Nn(e,t,n,r,1))},In=/^(img|br|input|textarea|hr)$/i;function Nn(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Bn(e))){let n=e.parentNode;if(!n||1!=n.nodeType||Hn(e)||In.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Rn(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(e=e.childNodes[t+(i<0?-1:0)],"false"==e.contentEditable)return!1;t=i<0?Bn(e):0}}}function Bn(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function zn(e,t,n){for(let r=0==t,i=t==Bn(e);r||i;){if(e==n)return!0;let t=Rn(e);if(e=e.parentNode,!e)return!1;r=r&&0==t,i=i&&t==Bn(e)}}function Hn(e){let t;for(let n=e;n;n=n.parentNode)if(t=n.pmViewDesc)break;return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Wn=function(e){let t=e.isCollapsed;return t&&Sn&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function Fn(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Un(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Vn(e,t){return"number"==typeof e?e:e[t]}function qn(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Yn(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=n||e.dom;;a=Dn(a)){if(!a)break;if(1!=a.nodeType)continue;let e=a,n=e==o.body,s=n?Un(o):qn(e),l=0,c=0;if(t.top<s.top+Vn(r,"top")?c=-(s.top-t.top+Vn(i,"top")):t.bottom>s.bottom-Vn(r,"bottom")&&(c=t.bottom-s.bottom+Vn(i,"bottom")),t.left<s.left+Vn(r,"left")?l=-(s.left-t.left+Vn(i,"left")):t.right>s.right-Vn(r,"right")&&(l=t.right-s.right+Vn(i,"right")),l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let i=e.scrollLeft-n,o=e.scrollTop-r;t={left:t.left-i,top:t.top-o,right:t.right-i,bottom:t.bottom-o}}if(n)break}}function $n(e){let t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,a=i+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=e.root.elementFromPoint(o,a);if(!r||r==e.dom||!e.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=i-20){t=r,n=s.top;break}}return{refDOM:t,refTop:n,stack:Gn(e.dom)}}function Gn(e){let t=[],n=e.ownerDocument;for(let r=e;r;r=Dn(r))if(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e==n)break;return t}function Xn({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Kn(n,0==r?0:r-t)}function Kn(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Zn=null;function Jn(e){if(e.setActive)return e.setActive();if(Zn)return e.focus(Zn);let t=Gn(e);e.focus(null==Zn?{get preventScroll(){return Zn={preventScroll:!0},!0}}:void 0),Zn||(Zn=!1,Kn(t,0))}function Qn(e,t){let n,r,i=2e8,o=0,a=t.top,s=t.top;for(let l=e.firstChild,c=0;l;l=l.nextSibling,c++){let e;if(1==l.nodeType)e=l.getClientRects();else{if(3!=l.nodeType)continue;e=jn(l).getClientRects()}for(let u=0;u<e.length;u++){let f=e[u];if(f.top<=a&&f.bottom>=s){a=Math.max(f.bottom,a),s=Math.min(f.top,s);let e=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(e<i){n=l,i=e,r=e&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==l.nodeType&&e&&(o=c+(t.left>=(f.left+f.right)/2?1:0));continue}}!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(o=c+1)}}return n&&3==n.nodeType?er(n,r):!n||i&&1==n.nodeType?{node:e,offset:o}:Qn(n,r)}function er(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let n=sr(r,1);if(n.top!=n.bottom&&tr(t,n))return{node:e,offset:i+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}function tr(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function nr(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function rr(e,t,n){let{node:r,offset:i}=Qn(t,n),o=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();o=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function ir(e,t,n,r){let i=-1;for(let o=t;;){if(o==e.dom)break;let t=e.docView.nearestDesc(o,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>r.left||e.top>r.top)i=t.posBefore;else{if(!(e.right<r.left||e.bottom<r.top))break;i=t.posAfter}}o=t.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,1)}function or(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=e.childNodes[o];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let i=e[r];if(tr(t,i))return or(n,t,i)}}if((o=(o+1)%r)==i)break}return e}function ar(e,t){let n,r=e.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{let e=r.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:i}=e)}catch(l){}if(!n&&r.caretRangeFromPoint){let e=r.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:i}=e)}let o,a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top+1);if(!a||!e.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=e.dom.getBoundingClientRect();if(!tr(t,n))return null;if(a=or(e.dom,t,n),!a)return null}if(Cn)for(let c=a;n&&c;c=Dn(c))c.draggable&&(n=void 0);if(a=nr(a,t),n){if(xn&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let e,r=n.childNodes[i];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&i++}n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(o=ir(e,n,i,t))}null==o&&(o=rr(e,a,t));let s=e.docView.nearestDesc(a,!0);return{pos:o,inside:s?s.posAtStart-s.border:-1}}function sr(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const lr=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function cr(e,t,n){let{node:r,offset:i}=e.docView.domFromPos(t,n<0?-1:1),o=Tn||xn;if(3==r.nodeType){if(!o||!lr.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let e=i,t=i,o=n<0?1:-1;return n<0&&!i?(t++,o=-1):n>=0&&i==r.nodeValue.length?(e--,o=1):n<0?e--:t++,ur(sr(jn(r,e,t),o),o<0)}{let e=sr(jn(r,i,i),n);if(xn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let t=sr(jn(r,i-1,i-1),-1);if(t.top==e.top){let n=sr(jn(r,i,i+1),-1);if(n.top!=e.top)return ur(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==Bn(r))){let e=r.childNodes[i-1];if(1==e.nodeType)return fr(e.getBoundingClientRect(),!1)}if(i<Bn(r)){let e=r.childNodes[i];if(1==e.nodeType)return fr(e.getBoundingClientRect(),!0)}return fr(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==Bn(r))){let e=r.childNodes[i-1],t=3==e.nodeType?jn(e,Bn(e)-(o?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return ur(sr(t,1),!1)}if(i<Bn(r)){let e=r.childNodes[i];while(e.pmViewDesc&&e.pmViewDesc.ignoreForCoords)e=e.nextSibling;let t=e?3==e.nodeType?jn(e,0,o?0:1):1==e.nodeType?e:null:null;if(t)return ur(sr(t,-1),!0)}return ur(sr(3==r.nodeType?jn(r):r,-n),n>=0)}function ur(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function fr(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function dr(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function hr(e,t,n){let r=t.selection,i="up"==n?r.$from:r.$to;return dr(e,t,(()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let r=cr(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=jn(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}const pr=/[\u0590-\u08ac]/;function vr(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=e.domSelection();return pr.test(r.parent.textContent)&&s.modify?dr(e,t,(()=>{let t=s.getRangeAt(0),i=s.focusNode,o=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");let l=r.depth?e.docView.domAfterPos(r.before()):e.dom,c=!l.contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||i==s.focusNode&&o==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),c})):"left"==n||"backward"==n?o:a}let mr=null,yr=null,gr=!1;function br(e,t,n){return mr==t&&yr==n?gr:(mr=t,yr=n,gr="up"==n||"down"==n?hr(e,t,n):vr(e,t,n))}const wr=0,xr=1,kr=2,Sr=3;class Or{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=wr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;n=e.previousSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;n=e.nextSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>Rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};let n,r=0,i=0;for(let o=0;r<this.children.length;r++){let t=this.children[r],n=o+t.size;if(n>e||t instanceof Rr){i=e-o;break}o=n}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof Cr&&n.side>=0;r--);if(t<=0){let e,n=!0;for(;;r--,n=!1)if(e=r?this.children[r-1]:null,!e||e.dom.parentNode==this.contentDOM)break;return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?Rn(e.dom)+1:0}}{let e,n=!0;for(;;r++,n=!1)if(e=r<this.children.length?this.children[r]:null,!e||e.dom.parentNode==this.contentDOM)break;return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?Rn(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let n=this.children[a],s=o+n.size;if(-1==r&&e<=s){let i=o+n.border;if(e>=i&&t<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=o;for(let t=a;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=Rn(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(let e=a+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=Rn(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let d=0,h=0;d<this.children.length;d++){let a=this.children[d],s=h+a.size;if(i>h&&o<s)return a.setSelection(e-h-a.border,t-h-a.border,n,r);h=s}let a=this.domFromPos(e,e?-1:1),s=t==e?a:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((xn||Cn)&&e==t){let{node:e,offset:t}=a;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(a=s={node:n.parentNode,offset:Rn(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(xn&&l.focusNode&&l.focusNode!=s.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&Cn)&&Ln(a.node,a.offset,l.anchorNode,l.anchorOffset)&&Ln(s.node,s.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||e==t)&&!c){l.collapse(a.node,a.offset);try{e!=t&&l.extend(s.node,s.offset),u=!0}catch(f){if(!(f instanceof DOMException))throw f}}if(!u){if(e>t){let e=a;a=s,s=e}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let r=n+i.border,a=o-i.border;if(e>=r&&t<=a)return this.dirty=e==n||t==o?kr:xr,void(e!=r||t!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-r,t-r):i.dirty=Sr);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?Sr:kr}n=o}this.dirty=kr}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?kr:xr;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Cr extends Or{constructor(e,t,n,r){let i,o=t.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!t.type.spec.raw){if(1!=o.nodeType){let e=document.createElement("span");e.appendChild(o),o=e}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return this.dirty==wr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Er extends Or{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class Mr extends Or{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let i=r.nodeViews[t.type.name],o=i&&i(t,r,n);return o&&o.dom||(o=Re.renderSpec(document,t.type.spec.toDOM(t,n))),new Mr(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Sr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Sr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=wr){let e=this.parent;while(!e.node)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=wr}}slice(e,t,n){let r=Mr.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;t<o&&(i=Xr(i,t,o,n)),e>0&&(i=Xr(i,0,e,n));for(let a=0;a<i.length;a++)i[a].parent=r;return r.children=i,r}}class Ar extends Or{constructor(e,t,n,r,i,o,a,s,l){super(e,[],i,o),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a,o&&this.updateChildren(s,l)}static create(e,t,n,r,i,o){let a,s=i.nodeViews[t.type.name],l=s&&s(t,i,(()=>a?a.parent?a.parent.posBeforeChild(a):void 0:o),n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=Re.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let f=c;return c=zr(c,n,t),l?a=new Dr(e,t,n,r,c,u||null,f,l,i,o+1):t.isText?new Pr(e,t,n,r,c,f,i):new Ar(e,t,n,r,c,u||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>b.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return this.dirty==wr&&e.eq(this.node)&&Hr(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,s=new Fr(this,o&&o.node);qr(this.node,this.innerDeco,((t,i,o)=>{t.spec.marks?s.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!o&&s.syncToMarks(i==this.node.childCount?S.none:this.node.child(i).marks,n,e),s.placeWidget(t,e,r)}),((t,o,l,c)=>{let u;s.syncToMarks(t.marks,n,e),s.findNodeMatch(t,o,l,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=s.findIndexWithChild(i.node))>-1&&s.updateNodeAt(t,o,l,u,e)||s.updateNextNode(t,o,l,e,c)||s.addNode(t,o,l,e,r),r+=t.nodeSize})),s.syncToMarks([],n,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||this.dirty==kr)&&(o&&this.protectLocalComposition(e,o),_r(this.contentDOM,this.children,e),En&&Yr(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof Vt)||n<t||r>t+this.node.content.size)return null;let i=e.domSelection(),o=$r(i.focusNode,i.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=Gr(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let i=t;for(;;i=i.parentNode){if(i.parentNode==this.contentDOM)break;while(i.previousSibling)i.parentNode.removeChild(i.previousSibling);while(i.nextSibling)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new Er(this,i,t,r);e.input.compositionNodes.push(o),this.children=Xr(this.children,n,n+r.length,e,o)}update(e,t,n,r){return!(this.dirty==Sr||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=wr}updateOuterDeco(e){if(Hr(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Nr(this.dom,this.nodeDOM,Ir(this.outerDeco,this.node,t),Ir(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Tr(e,t,n,r,i){return zr(r,t,e),new Ar(void 0,e,t,n,r,r,r,i,0)}class Pr extends Ar{constructor(e,t,n,r,i,o,a){super(e,t,n,r,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;while(e&&e!=this.dom&&!e.pmIsDeco)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(this.dirty==Sr||this.dirty!=wr&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),this.dirty==wr&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=wr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new Pr(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=Sr)}get domAtom(){return!1}}class Rr extends Or{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==wr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Dr extends Ar{constructor(e,t,n,r,i,o,a,s,l,c){super(e,t,n,r,i,o,a,l,c),this.spec=s}update(e,t,n,r){if(this.dirty==Sr)return!1;if(this.spec.update){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function _r(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){while(s!=r)r=Wr(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(a instanceof Mr){let t=r?r.previousSibling:e.lastChild;_r(a.contentDOM,a.children,n),r=t?t.nextSibling:e.firstChild}}while(r)r=Wr(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const jr=function(e){e&&(this.nodeName=e)};jr.prototype=Object.create(null);const Lr=[new jr];function Ir(e,t,n){if(0==e.length)return Lr;let r=n?Lr[0]:new jr,i=[r];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(r=new jr(a.nodeName));for(let e in a){let o=a[e];null!=o&&(n&&1==i.length&&i.push(r=new jr(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+o:"style"==e?r.style=(r.style?r.style+";":"")+o:"nodeName"!=e&&(r[e]=o))}}}return i}function Nr(e,t,n,r){if(n==Lr&&r==Lr)return t;let i=t;for(let o=0;o<r.length;o++){let t=r[o],a=n[o];if(o){let n;a&&a.nodeName==t.nodeName&&i!=e&&(n=i.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(i),a=Lr[0]),i=n}Br(i,a||Lr[0],t)}return i}function Br(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(n=r.exec(t.style))e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function zr(e,t,n){return Nr(e,e,Lr,Ir(t,n,1!=e.nodeType))}function Hr(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Wr(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Fr{constructor(e,t){this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Ur(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);while(r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning)r++;while(r<i)this.destroyRest(),this.top.dirty=wr,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;while(i<e.length){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[i])){r=t;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=Mr.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))o=this.top.children.indexOf(i,this.index);else for(let a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){let r=this.top.children[a];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,n,r,i){let o=this.top.children[r];return o.dirty==Sr&&o.dom==o.contentDOM&&(o.dirty=kr),!!o.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,i){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof Ar){let s=this.preMatch.matched.get(a);if(null!=s&&s!=i)return!1;let l=a.dom,c=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Sr&&Hr(t,a.outerDeco));if(!c&&a.update(e,t,n,r))return this.destroyBetween(this.index,o),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,i){this.top.children.splice(this.index++,0,Ar.create(this.top,e,t,n,r,i)),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new Cr(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;while(e instanceof Mr)t=e,e=t.children[t.children.length-1];e&&e instanceof Pr&&!/\n$/.test(e.node.text)||((Cn||Sn)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new Rr(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}}function Ur(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:while(i>0){let s;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof Mr)){s=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function Vr(e,t){return e.type.side-t.type.side}function qr(e,t,n,r){let i=t.locals(e),o=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let a=e.child(n);r(a,i,t.forChild(o,a),n),o+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){if(a<i.length&&i[a].to==o){let e,t=i[a++];while(a<i.length&&i[a].to==o)(e||(e=[t])).push(i[a++]);if(e){e.sort(Vr);for(let t=0;t<e.length;t++)n(e[t],c,!!l)}else n(t,c,!!l)}let u,f;if(l)f=-1,u=l,l=null;else{if(!(c<e.childCount))break;f=c,u=e.child(c++)}for(let e=0;e<s.length;e++)s[e].to<=o&&s.splice(e--,1);while(a<i.length&&i[a].from<=o&&i[a].to>o)s.push(i[a++]);let d=o+u.nodeSize;if(u.isText){let e=d;a<i.length&&i[a].from<e&&(e=i[a].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);e<d&&(l=u.cut(e-o),u=u.cut(0,e-o),d=e,f=-1)}let h=u.isInline&&!u.isLeaf?s.filter((e=>!e.inline)):s.slice();r(u,h,t.forChild(o,u),f),o=d}}function Yr(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function $r(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=Bn(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}function Gr(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;while(i<e.childCount){let t=e.child(i++);if(o+=t.nodeSize,!t.isText)break;l+=t.text}if(o>=n){let e=s<r?l.lastIndexOf(t,r-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}function Xr(e,t,n,r,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Kr(e,t=null){let n=e.domSelection(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&0==i.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s,l,c=r.resolve(a);if(Wn(n)){s=c;while(i&&!i.node)i=i.parent;let e=i.node;if(i&&e.isAtom&&Yt.isSelectable(e)&&i.parent&&(!e.isInline||!zn(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;l=new Yt(a==e?c:r.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;s=r.resolve(t)}if(!l){let n="pointer"==t||e.state.selection.head<c.pos&&!o?1:-1;l=si(e,s,c,n)}return l}function Zr(e){return e.editable?e.hasFocus():ci(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Jr(e,t=!1){let n=e.state.selection;if(oi(e,n),Zr(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Sn){let t=e.domSelection(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&Ln(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)ii(e);else{let r,i,{anchor:o,head:a}=n;!Qr||n instanceof Vt||(n.$from.parent.inlineContent||(r=ei(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=ei(e,n.to))),e.docView.setSelection(o,a,e.root,t),Qr&&(r&&ni(r),i&&ni(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ri(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Qr=Cn||Sn&&On<63;function ei(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Cn&&i&&"false"==i.contentEditable)return ti(i);if((!i||"false"==i.contentEditable)&&(!o||"false"==o.contentEditable)){if(i)return ti(i);if(o)return ti(o)}}function ti(e){return e.contentEditable="true",Cn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function ni(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ri(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Zr(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}function ii(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,Rn(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&bn&&wn<=11&&(r.disabled=!0,r.disabled=!1)}function oi(e,t){if(t instanceof Yt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(ai(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else ai(e)}function ai(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function si(e,t,n,r){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||Vt.between(t,n,r)}function li(e){return(!e.editable||e.root.activeElement==e.dom)&&ci(e)}function ci(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function ui(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelection();return Ln(t.node,t.offset,n.anchorNode,n.anchorOffset)}function fi(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Ht.findFrom(o,t)}function di(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function hi(e,t,n){let r=e.state.selection;if(!(r instanceof Vt)){if(r instanceof Yt&&r.node.isInline)return di(e,new Vt(t>0?r.$to:r.$from));{let n=fi(e.state,t);return!!n&&di(e,n)}}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=fi(e.state,t);return!!(n&&n instanceof Yt)&&di(e,n)}if(!(Mn&&n.indexOf("m")>-1)){let n,i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let a=t<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(n=e.docView.descAt(a))&&!n.contentDOM)&&(Yt.isSelectable(o)?di(e,new Yt(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):!!Tn&&di(e,new Vt(e.state.doc.resolve(t<0?a:a+o.nodeSize))))}}function pi(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function vi(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function mi(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=!1;for(xn&&1==n.nodeType&&r<pi(n)&&vi(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(vi(e))i=n,o=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(gi(n))break;{let t=n.previousSibling;while(t&&vi(t))i=n.parentNode,o=Rn(t),t=t.previousSibling;if(t)n=t,r=pi(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?bi(e,t,n,r):i&&bi(e,t,i,o)}function yi(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=pi(n);for(;;)if(r<a){if(1!=n.nodeType)break;let e=n.childNodes[r];if(!vi(e))break;i=n,o=++r}else{if(gi(n))break;{let t=n.nextSibling;while(t&&vi(t))i=t.parentNode,o=Rn(t)+1,t=t.nextSibling;if(t)n=t,r=0,a=pi(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}i&&bi(e,t,i,o)}function gi(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function bi(e,t,n,r){if(Wn(t)){let e=document.createRange();e.setEnd(n,r),e.setStart(n,r),t.removeAllRanges(),t.addRange(e)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();let{state:i}=e;setTimeout((()=>{e.state==i&&Jr(e)}),50)}function wi(e,t,n){let r=e.state.selection;if(r instanceof Vt&&!r.empty||n.indexOf("s")>-1)return!1;if(Mn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=fi(e.state,t);if(n&&n instanceof Yt)return di(e,n)}if(!i.parent.inlineContent){let n=t<0?i:o,a=r instanceof Gt?Ht.near(n,t):Ht.findFrom(n,t);return!!a&&di(e,a)}return!1}function xi(e,t){if(!(e.state.selection instanceof Vt))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let r=e.state.tr;return t<0?r.delete(n.pos-o.nodeSize,n.pos):r.delete(n.pos,n.pos+o.nodeSize),e.dispatch(r),!0}return!1}function ki(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Si(e){if(!Cn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;ki(e,n,"true"),setTimeout((()=>ki(e,n,"false")),20)}return!1}function Oi(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Ci(e,t){let n=t.keyCode,r=Oi(t);return 8==n||Mn&&72==n&&"c"==r?xi(e,-1)||mi(e):46==n||Mn&&68==n&&"c"==r?xi(e,1)||yi(e):13==n||27==n||(37==n||Mn&&66==n&&"c"==r?hi(e,-1,r)||mi(e):39==n||Mn&&70==n&&"c"==r?hi(e,1,r)||yi(e):38==n||Mn&&80==n&&"c"==r?wi(e,-1,r)||mi(e):40==n||Mn&&78==n&&"c"==r?Si(e)||wi(e,1,r)||yi(e):r==(Mn?"m":"c")&&(66==n||73==n||89==n||90==n))}function Ei(e,t){let n=[],{content:r,openStart:i,openEnd:o}=t;while(i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount){i--,o--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let a=e.someProp("clipboardSerializer")||Re.fromSchema(e.state.schema),s=Ni(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c,u=l.firstChild,f=0;while(u&&1==u.nodeType&&(c=Li[u.nodeName.toLowerCase()])){for(let e=c.length-1;e>=0;e--){let t=s.createElement(c[e]);while(l.firstChild)t.appendChild(l.firstChild);l.appendChild(t),f++}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:d}}function Mi(e,t,n,r,i){let o,a,s=i.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",(e=>{t=e(t,s||r)})),s)return t?new C(b.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):C.empty;let n=e.someProp("clipboardTextParser",(e=>e(t,i,r)));if(n)a=n;else{let n=i.marks(),{schema:r}=e.state,a=Re.fromSchema(r);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=o.appendChild(document.createElement("p"));e&&t.appendChild(a.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(e=>{n=e(n)})),o=Bi(n),Tn&&zi(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0&&o.firstChild;f--)o=o.firstChild;if(!a){let t=e.someProp("clipboardParser")||e.someProp("domParser")||ve.fromSchema(e.state.schema);a=t.parseSlice(o,{preserveWhitespace:!(!l&&!u),context:i,ruleFromNode(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||Ai.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(u)a=Hi(ji(a,+u[1],+u[2]),u[4]);else if(a=C.maxOpen(Ti(a.content,i),!0),a.openStart||a.openEnd){let e=0,t=0;for(let n=a.content.firstChild;e<a.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=a.content.lastChild;t<a.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);a=ji(a,e,t)}return e.someProp("transformPasted",(e=>{a=e(a)})),a}const Ai=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Ti(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,i=t.node(n),o=i.contentMatchAt(t.index(n)),a=[];if(e.forEach((e=>{if(!a)return;let t,n=o.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&r.length&&Ri(n,r,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=Di(a[a.length-1],r.length));let t=Pi(e,n);a.push(t),o=o.matchType(t.type),r=n}})),a)return b.from(a)}return e}function Pi(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,b.from(e));return e}function Ri(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=Ri(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));let a=r.contentMatchAt(r.childCount);if(a.matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(b.from(Pi(n,e,i+1))))}}function Di(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,Di(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(b.empty,!0);return e.copy(n.append(r))}function _i(e,t,n,r,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return i<r-1&&(s=_i(s,t,n,r,i+1,o)),i>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,e.childCount>1||o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(b.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function ji(e,t,n){return t<e.openStart&&(e=new C(_i(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new C(_i(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Li={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ii=null;function Ni(){return Ii||(Ii=document.implementation.createHTMLDocument("title"))}function Bi(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=Ni().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);if((n=i&&Li[i[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join("")),r.innerHTML=e,n)for(let o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}function zi(e){let t=e.querySelectorAll(Sn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Hi(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(s){return e}let{content:i,openStart:o,openEnd:a}=e;for(let l=n.length-2;l>=0;l-=2){let e=r.nodes[n[l]];if(!e||e.hasRequiredAttrs())break;i=b.from(e.create(n[l+1],i)),o++,a++}return new C(i,o,a)}const Wi={};let Fi={};class Ui{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Vi(e){for(let t in Wi){let n=Wi[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Xi(e,t)||Gi(e,t)||!e.editable&&t.type in Fi||n(e,t)})}Cn&&e.dom.addEventListener("input",(()=>null)),$i(e)}function qi(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Yi(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function $i(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>Gi(e,t))}))}function Gi(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Xi(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Ki(e,t){Gi(e,t)||!Wi[t.type]||!e.editable&&t.type in Fi||Wi[t.type](e,t)}function Zi(e){return{left:e.clientX,top:e.clientY}}function Ji(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Qi(e,t,n,r,i){if(-1==r)return!1;let o=e.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,(t=>a>o.depth?t(e,n,o.nodeAfter,o.before(a),i,!0):t(e,n,o.node(a),o.before(a),i,!1))))return!0;return!1}function eo(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function to(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Yt.isSelectable(r))&&(eo(e,new Yt(n),"pointer"),!0)}function no(e,t){if(-1==t)return!1;let n,r,i=e.state.selection;i instanceof Yt&&(n=i.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let e=a>o.depth?o.nodeAfter:o.node(a);if(Yt.isSelectable(e)){r=n&&i.$from.depth>0&&a>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(a);break}}return null!=r&&(eo(e,Yt.create(e.state.doc,r),"pointer"),!0)}function ro(e,t,n,r,i){return Qi(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(n=>n(e,t,r)))||(i?no(e,n):to(e,n))}function io(e,t,n,r){return Qi(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function oo(e,t,n,r){return Qi(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(n=>n(e,t,r)))||ao(e,n,r)}function ao(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(eo(e,Vt.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let t=o>i.depth?i.nodeAfter:i.node(o),n=i.before(o);if(t.inlineContent)eo(e,Vt.create(r,n+1,n+1+t.content.size),"pointer");else{if(!Yt.isSelectable(t))continue;eo(e,Yt.create(r,n),"pointer")}return!0}}function so(e){return mo(e)}Fi.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!uo(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!An||!Sn||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!En||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||Ci(e,n)?n.preventDefault():qi(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,Fn(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},Fi.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Fi.keypress=(e,t)=>{let n=t;if(uo(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Mn&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof Vt)||!r.$from.sameParent(r.$to)){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,r.$from.pos,r.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const lo=Mn?"metaKey":"ctrlKey";Wi.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=so(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&Ji(n,e.input.lastClick)&&!n[lo]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let a=e.posAtCoords(Zi(n));a&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new co(e,a,n,!!r)):("doubleClick"==o?io:oo)(e,a.pos,a.inside,n)?n.preventDefault():qi(e,"pointer"))};class co{constructor(e,t,n,r){let i,o;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[lo],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,o=n.depth?n.before():0}const a=r?null:n.target,s=a?e.docView.nearestDesc(a,!0):null;this.target=s?s.dom:null;let{selection:l}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||l instanceof Yt&&l.from<=o&&l.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!xn||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),qi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Jr(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Zi(e))),this.allowDefault||!t?qi(this.view,"pointer"):ro(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Cn&&this.mightDrag&&!this.mightDrag.node.isAtom||Sn&&!(this.view.state.selection instanceof Vt)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(eo(this.view,Ht.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):qi(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),qi(this.view,"pointer"),0==e.buttons&&this.done()}}function uo(e,t){return!!e.composing||!!(Cn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}Wi.touchdown=e=>{so(e),qi(e,"pointer")},Wi.contextmenu=e=>so(e);const fo=An?5e3:-1;function ho(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>mo(e)),t))}function po(e){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=vo());while(e.input.compositionNodes.length>0)e.input.compositionNodes.pop().markParentsDirty()}function vo(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function mo(e,t=!1){if(!(An&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),po(e),t||e.docView&&e.docView.dirty){let t=Kr(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}function yo(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}Fi.compositionstart=Fi.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),mo(e,!0),e.markCursor=null;else if(mo(e),xn&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelection();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let r=n<0?e.lastChild:e.childNodes[n-1];if(!r)break;if(3==r.nodeType){t.collapse(r,r.nodeValue.length);break}e=r,n=-1}}e.input.composing=!0}ho(e,fo)},Fi.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,ho(e,20))};const go=bn&&wn<15||En&&Pn<604;function bo(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function wo(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?xo(e,r.value,null,t):xo(e,r.textContent,r.innerHTML,t)}),50)}function xo(e,t,n,r){let i=Mi(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,r,i||C.empty))))return!0;if(!i)return!1;let o=bo(i),a=o?e.state.tr.replaceSelectionWith(o,e.input.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Wi.copy=Fi.cut=(e,t)=>{let n=t,r=e.state.selection,i="cut"==n.type;if(r.empty)return;let o=go?null:n.clipboardData,a=r.content(),{dom:s,text:l}=Ei(e,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):yo(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Fi.paste=(e,t)=>{let n=t;if(e.composing&&!An)return;let r=go?null:n.clipboardData;r&&xo(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():wo(e,n)};class ko{constructor(e,t){this.slice=e,this.move=t}}const So=Mn?"altKey":"ctrlKey";Wi.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(Zi(n));if(o&&o.pos>=i.from&&o.pos<=(i instanceof Yt?i.to-1:i.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(Yt.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(Yt.create(e.state.doc,t.posBefore)))}let a=e.state.selection.content(),{dom:s,text:l}=Ei(e,a);n.dataTransfer.clearData(),n.dataTransfer.setData(go?"Text":"text/html",s.innerHTML),n.dataTransfer.effectAllowed="copyMove",go||n.dataTransfer.setData("text/plain",l),e.dragging=new ko(a,!n[So])},Wi.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},Fi.dragover=Fi.dragenter=(e,t)=>t.preventDefault(),Fi.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Zi(n));if(!i)return;let o=e.state.doc.resolve(i.pos);if(!o)return;let a=r&&r.slice;a?e.someProp("transformPasted",(e=>{a=e(a)})):a=Mi(e,n.dataTransfer.getData(go?"Text":"text/plain"),go?null:n.dataTransfer.getData("text/html"),!1,o);let s=!(!r||n[So]);if(e.someProp("handleDrop",(t=>t(e,n,a||C.empty,s))))return void n.preventDefault();if(!a)return;n.preventDefault();let l=a?xt(e.state.doc,o.pos,a):o.pos;null==l&&(l=o.pos);let c=e.state.tr;s&&c.deleteSelection();let u=c.mapping.map(l),f=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,d=c.doc;if(f?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(d))return;let h=c.doc.resolve(u);if(f&&Yt.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Yt(h));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,r,i)=>t=i)),c.setSelection(si(e,h,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},Wi.focus=e=>{e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&Jr(e)}),20))},Wi.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},Wi.beforeinput=(e,t)=>{let n=t;if(Sn&&An&&"deleteContentBackward"==n.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,Fn(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let os in Fi)Wi[os]=Fi[os];function Oo(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Co{constructor(e,t){this.toDOM=e,this.spec=t||Po,this.side=this.spec.side||0}map(e,t,n,r){let{pos:i,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new Ao(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Co&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Oo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Eo{constructor(e,t){this.attrs=e,this.spec=t||Po}map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Ao(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Eo&&Oo(this.attrs,e.attrs)&&Oo(this.spec,e.spec)}static is(e){return e.type instanceof Eo}destroy(){}}class Mo{constructor(e,t){this.attrs=e,this.spec=t||Po}map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Ao(i.pos-n,o.pos-n,this)}valid(e,t){let n,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof Mo&&Oo(this.attrs,e.attrs)&&Oo(this.spec,e.spec)}destroy(){}}class Ao{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Ao(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Ao(e,e,new Co(t,n))}static inline(e,t,n,r){return new Ao(e,t,new Eo(n,r))}static node(e,t,n,r){return new Ao(e,t,new Mo(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Eo}}const To=[],Po={};class Ro{constructor(e,t){this.local=e.length?e:To,this.children=t.length?t:To}static create(e,t){return t.length?zo(t,e,0,Po):Do}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!i||i(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,n,r+a,i)}}map(e,t,n){return this==Do||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Po)}mapInner(e,t,n,r,i){let o;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?jo(this.children,o||[],e,t,n,r,i):o?new Ro(o.sort(Ho),To):Do}add(e,t){return t.length?this==Do?Ro.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach(((e,o)=>{let a,s=o+n;if(a=No(t,e,s)){r||(r=this.children.slice());while(i<r.length&&r[i]<o)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(e,a,s+1):r.splice(i,0,o,o+e.nodeSize,zo(a,e,s+1,Po)),i+=3}}));let o=Lo(i?Bo(t):t,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Ro(o.length?this.local.concat(o).sort(Ho):this.local,r||this.children)}remove(e){return 0==e.length||this==Do?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let r,o=n[i]+t,a=n[i+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>o&&t.to<a&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let s=n[i+2].removeInner(r,o+1);s!=Do?n[i+2]=s:(n.splice(i,3),i-=3)}if(r.length)for(let i,o=0;o<e.length;o++)if(i=e[o])for(let e=0;e<r.length;e++)r[e].eq(i,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Ro(r,n):Do}forChild(e,t){if(this==Do)return this;if(t.isLeaf)return Ro.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let i=e+1,o=i+t.content.size;for(let a=0;a<this.local.length;a++){let e=this.local[a];if(e.from<o&&e.to>i&&e.type instanceof Eo){let t=Math.max(i,e.from)-i,n=Math.min(o,e.to)-i;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new Ro(r.sort(Ho),To);return n?new _o([e,n]):e}return n||Do}eq(e){if(this==e)return!0;if(!(e instanceof Ro)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Wo(this.localsInner(e))}localsInner(e){if(this==Do)return To;if(e.inlineContent||!this.local.some(Eo.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Eo||t.push(this.local[n]);return t}}Ro.empty=new Ro([],[]),Ro.removeOverlap=Wo;const Do=Ro.empty;class _o{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Po)));return _o.from(n)}forChild(e,t){if(t.isLeaf)return Ro.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=Do&&(i instanceof _o?n=n.concat(i.members):n.push(i))}return _o.from(n)}eq(e){if(!(e instanceof _o)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?Wo(n?t:t.sort(Ho)):To}static from(e){switch(e.length){case 0:return Do;case 1:return e[0];default:return new _o(e)}}}function jo(e,t,n,r,i,o,a){let s=e.slice(),l=(e,t,n,r)=>{for(let a=0;a<s.length;a+=3){let l,c=s[a+1];if(c<0||e>c+o)continue;let u=s[a]+o;t>=u?s[a+1]=e<=u?-2:-1:n>=i&&(l=r-n-(t-e))&&(s[a]+=l,s[a+1]+=l)}};for(let u=0;u<n.maps.length;u++)n.maps[u].forEach(l);let c=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(-2==s[u+1]){c=!0,s[u+1]=-1;continue}let t=n.map(e[u]+o),l=t-i;if(l<0||l>=r.content.size){c=!0;continue}let f=n.map(e[u+1]+o,-1),d=f-i,{index:h,offset:p}=r.content.findIndex(l),v=r.maybeChild(h);if(v&&p==l&&p+v.nodeSize==d){let r=s[u+2].mapInner(n,v,t+1,e[u]+o+1,a);r!=Do?(s[u]=l,s[u+1]=d,s[u+2]=r):(s[u+1]=-2,c=!0)}else c=!0}if(c){let l=Io(s,e,t,n,i,o,a),c=zo(l,r,0,a);t=c.local;for(let e=0;e<s.length;e+=3)s[e+1]<0&&(s.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];while(t<s.length&&s[t]<n)t+=3;s.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new Ro(t.sort(Ho),s)}function Lo(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Ao(i.from+t,i.to+t,i.type))}return n}function Io(e,t,n,r,i,o,a){function s(e,t){for(let o=0;o<e.local.length;o++){let s=e.local[o].map(r,i,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)s(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+o+1);return n}function No(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o,a=0;a<e.length;a++)(o=e[a])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[a]=null);return i}function Bo(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function zo(e,t,n,r){let i=[],o=!1;t.forEach(((t,a)=>{let s=No(e,t,a+n);if(s){o=!0;let e=zo(s,t,n+a+1,r);e!=Do&&i.push(a,a+t.nodeSize,e)}}));let a=Lo(o?Bo(e):e,-n).sort(Ho);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Ro(a,i):Do}function Ho(e,t){return e.from-t.from||e.to-t.to}function Wo(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),Fo(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),Fo(t,i+1,o.copy(r.to,o.to)))}}return t}function Fo(e,t,n){while(t<e.length&&Ho(n,e[t])>0)t++;e.splice(t,0,n)}function Uo(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=Do&&t.push(r)})),e.cursorWrapper&&t.push(Ro.create(e.state.doc,[e.cursorWrapper.deco])),_o.from(t)}const Vo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qo=bn&&wn<=11;class Yo{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class $o{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Yo,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);bn&&wn<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),qo&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,Vo),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(li(this.view)){if(this.suppressingSelectionUpdates)return Jr(this.view);if(bn&&wn<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&Ln(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(0==e.rangeCount)return!0;let t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let t=this.view.domSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&li(this.view)&&!this.ignoreSelectionChange(t),r=-1,i=-1,o=!1,a=[];if(this.view.editable)for(let s=0;s<e.length;s++){let t=this.registerMutation(e[s],a);t&&(r=r<0?t.from:Math.min(t.from,r),i=i<0?t.to:Math.max(t.to,i),t.typeOver&&(o=!0))}if(xn&&a.length>1){let e=a.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),Xo(this.view)),this.handleDOMChange(r,i,o,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Jr(this.view),this.currentSelection.set(t))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(bn&&wn<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:o}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(e.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==e.target?Rn(r)+1:0,a=n.localPosFromDOM(e.target,o,-1),s=i&&i.parentNode==e.target?Rn(i):e.target.childNodes.length,l=n.localPosFromDOM(e.target,s,1);return{from:a,to:l}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Go=!1;function Xo(e){Go||(Go=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function Ko(e,t,n){let r,{node:i,fromOffset:o,toOffset:a,from:s,to:l}=e.docView.parseRange(t,n),c=e.domSelection(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],Wn(c)||r.push({node:c.focusNode,offset:c.focusOffset})),Sn&&8===e.input.lastKeyCode)for(let m=a;m>o;m--){let e=i.childNodes[m-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){a=m;break}if(!t||t.size)break}let f=e.state.doc,d=e.someProp("domParser")||ve.fromSchema(e.state.schema),h=f.resolve(s),p=null,v=d.parse(i,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:o,to:a,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Zo,context:h});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),p={anchor:e+s,head:t+s}}return{doc:v,sel:p,from:s,to:l}}function Zo(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Cn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||Cn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Jo(e,t,n,r,i){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Kr(e,t);if(n&&!e.state.selection.eq(n)){let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),e.dispatch(r)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let s=e.state.selection,l=Ko(e,t,n);if(Sn&&e.cursorWrapper&&l.sel&&l.sel.anchor==e.cursorWrapper.deco.from){let t=e.cursorWrapper.deco.type.toDOM.nextSibling,n=t&&t.nodeValue?t.nodeValue.length:1;l.sel={anchor:l.sel.anchor+n,head:l.sel.anchor+n}}let c,u,f=e.state.doc,d=f.slice(l.from,l.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(c=e.state.selection.to,u="end"):(c=e.state.selection.from,u="start"),e.input.lastKeyCode=null;let h=ra(d.content,l.doc.content,l.from,c,u);if((En&&e.input.lastIOSEnter>Date.now()-225||An)&&i.some((e=>"DIV"==e.nodeName||"P"==e.nodeName))&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",(t=>t(e,Fn(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!h){if(!(r&&s instanceof Vt&&!s.empty&&s.$head.sameParent(s.$anchor))||e.composing||l.sel&&l.sel.anchor!=l.sel.head){if(l.sel){let t=Qo(e,e.state.doc,l.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}h={start:s.from,endA:s.to,endB:s.to}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof Vt&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),bn&&wn<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&"  "==l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)&&(h.start--,h.endA--,h.endB--);let p,v=l.doc.resolveNoCache(h.start-l.from),m=l.doc.resolveNoCache(h.endB-l.from),y=f.resolve(h.start),g=v.sameParent(m)&&v.parent.inlineContent&&y.end()>=h.endA;if((En&&e.input.lastIOSEnter>Date.now()-225&&(!g||i.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!g&&v.pos<l.doc.content.size&&(p=Ht.findFrom(l.doc.resolve(v.pos+1),1,!0))&&p.head==m.pos)&&e.someProp("handleKeyDown",(t=>t(e,Fn(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>h.start&&ta(f,h.start,h.endA,v,m)&&e.someProp("handleKeyDown",(t=>t(e,Fn(8,"Backspace")))))return void(An&&Sn&&e.domObserver.suppressSelectionUpdates());Sn&&An&&h.endB==h.start&&(e.input.lastAndroidDelete=Date.now()),An&&!g&&v.start()!=m.start()&&0==m.parentOffset&&v.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,m=l.doc.resolveNoCache(h.endB-l.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,Fn(13,"Enter"))}))}),20));let b,w,x,k=h.start,S=h.endA;if(g)if(v.pos==m.pos)bn&&wn<=11&&0==v.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Jr(e)),20)),b=e.state.tr.delete(k,S),w=f.resolve(h.start).marksAcross(f.resolve(h.endA));else if(h.endA==h.endB&&(x=ea(v.parent.content.cut(v.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start()))))b=e.state.tr,"add"==x.type?b.addMark(k,S,x.mark):b.removeMark(k,S,x.mark);else if(v.parent.child(v.index()).isText&&v.index()==m.index()-(m.textOffset?0:1)){let t=v.parent.textBetween(v.parentOffset,m.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,k,S,t))))return;b=e.state.tr.insertText(t,k,S)}if(b||(b=e.state.tr.replace(k,S,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let t=Qo(e,b.doc,l.sel);t&&!(Sn&&An&&e.composing&&t.empty&&(h.start!=h.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==k||t.head==b.mapping.map(S)-1)||bn&&t.empty&&t.head==k)&&b.setSelection(t)}w&&b.ensureMarks(w),e.dispatch(b.scrollIntoView())}function Qo(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:si(e,t.resolve(n.anchor),t.resolve(n.head))}function ea(e,t){let n,r,i,o=e.firstChild.marks,a=t.firstChild.marks,s=o,l=a;for(let u=0;u<a.length;u++)s=a[u].removeFromSet(s);for(let u=0;u<o.length;u++)l=o[u].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",i=e=>e.mark(r.addToSet(e.marks));else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",i=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let u=0;u<t.childCount;u++)c.push(i(t.child(u)));if(b.from(c).eq(e))return{mark:r,type:n}}function ta(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||na(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(na(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||na(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function na(e,t,n){let r=e.depth,i=t?e.end():e.pos;while(r>0&&(t||e.indexAfter(r)==e.node(r).childCount))r--,i++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));while(t&&!t.isLeaf)t=t.firstChild,i++}return i}function ra(e,t,n,r,i){let o=e.findDiffStart(t,n);if(null==o)return null;let{a:a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==i){let e=Math.max(0,o-Math.min(a,s));r-=a+e-o}if(a<o&&e.size<t.size){let e=r<=o&&r>=a?o-r:0;o-=e,s=o+(s-a),a=o}else if(s<o){let e=r<=o&&r>=s?o-r:0;o-=e,a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}class ia{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Ui,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(fa),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=sa(this),aa(this),this.nodeViews=ca(this),this.docView=Tr(this.state.doc,oa(this),Uo(this),this.dom,this),this.domObserver=new $o(this,((e,t,n,r)=>Jo(this,e,t,n,r))),this.domObserver.start(),Vi(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&$i(this),this._props=e,e.plugins&&(e.plugins.forEach(fa),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,t){let n=this.state,r=!1,i=!1;if(e.storedMarks&&this.composing&&(po(this),i=!0),this.state=e,t){let e=ca(this);ua(e,this.nodeViews)&&(this.nodeViews=e,r=!0),$i(this)}this.editable=sa(this),aa(this);let o=Uo(this),a=oa(this),s=t?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",l=r||!this.docView.matchesNode(e.doc,a,o);!l&&e.selection.eq(n.selection)||(i=!0);let c="preserve"==s&&i&&null==this.dom.style.overflowAnchor&&$n(this);if(i){this.domObserver.stop();let t=l&&(bn||Sn)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&la(n.selection,e.selection);if(l){let n=Sn?this.trackWrites=this.domSelection().focusNode:null;!r&&this.docView.update(e.doc,a,o,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Tr(e.doc,a,o,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&ui(this))?Jr(this,t):(oi(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),"reset"==s)this.dom.scrollTop=0;else if("to selection"==s){let t=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(e.selection instanceof Yt){let n=this.docView.domAfterPos(e.selection.from);1==n.nodeType&&Yn(this,n.getBoundingClientRect(),t)}else Yn(this,this.coordsAtPos(e.selection.head,1),t)}else c&&Xn(c)}destroyPluginViews(){let e;while(e=this.pluginViews.pop())e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let o=0;o<this.directPlugins.length;o++){let r=this.directPlugins[o].props[e];if(null!=r&&(n=t?t(r):r))return n}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let r=i[o].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Jn(this.dom),Jr(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}posAtCoords(e){return ar(this,e)}coordsAtPos(e,t=1){return cr(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return br(this,t||this.state,e)}destroy(){this.docView&&(Yi(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Uo(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return Ki(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function oa(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[Ao.node(0,e.state.doc.content.size,t)]}function aa(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Ao.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function sa(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function la(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function ca(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function ua(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function fa(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var da={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},ha={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},pa="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),va="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),ma="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),ya="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ga="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ba=pa&&(ya||+pa[1]<57)||ma&&ya,wa=0;wa<10;wa++)da[48+wa]=da[96+wa]=String(wa);for(wa=1;wa<=24;wa++)da[wa+111]="F"+wa;for(wa=65;wa<=90;wa++)da[wa]=String.fromCharCode(wa+32),ha[wa]=String.fromCharCode(wa);for(var xa in da)ha.hasOwnProperty(xa)||(ha[xa]=da[xa]);function ka(e){var t=ba&&(e.ctrlKey||e.altKey||e.metaKey)||(va||ga)&&e.shiftKey&&e.key&&1==e.key.length,n=!t&&e.key||(e.shiftKey?ha:da)[e.keyCode]||e.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}const Sa="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Oa(e){let t,n,r,i,o=e.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(let s=0;s<o.length-1;s++){let e=o[s];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);Sa?i=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),i&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function Ca(e){let t=Object.create(null);for(let n in e)t[Oa(n)]=e[n];return t}function Ea(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Ma(e){return new cn({props:{handleKeyDown:Aa(e)}})}function Aa(e){let t=Ca(e);return function(e,n){let r,i=ka(n),o=1==i.length&&" "!=i,a=t[Ea(i,n,!o)];if(a&&a(e.state,e.dispatch,e))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=da[n.keyCode])&&r!=i){let i=t[Ea(r,n,!0)];if(i&&i(e.state,e.dispatch,e))return!0}else if(o&&n.shiftKey){let r=t[Ea(i,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}return!1}}const Ta=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0),Pa=(e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;let i=_a(r);if(!i){let n=r.blockRange(),i=n&&ot(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&qa(e,i,t))return!0;if(0==r.parent.content.size&&(Ra(o,"end")||Yt.isSelectable(o))){let n=kt(e.doc,r.before(),r.after(),C.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Ra(o,"end")?Ht.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):Yt.create(r.doc,i.pos-o.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0)};function Ra(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const Da=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=_a(r)}let a=o&&o.nodeBefore;return!(!a||!Yt.isSelectable(a))&&(t&&t(e.tr.setSelection(Yt.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function _a(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const ja=(e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;let i=Ia(r);if(!i)return!1;let o=i.nodeAfter;if(qa(e,i,t))return!0;if(0==r.parent.content.size&&(Ra(o,"start")||Yt.isSelectable(o))){let n=kt(e.doc,r.before(),r.after(),C.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Ra(o,"start")?Ht.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):Yt.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)},La=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=Ia(r)}let a=o&&o.nodeAfter;return!(!a||!Yt.isSelectable(a))&&(t&&t(e.tr.setSelection(Yt.create(e.doc,o.pos)).scrollIntoView()),!0)};function Ia(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Na=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function Ba(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const za=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=Ba(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,a.createAndFill());i.setSelection(Ht.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0},Ha=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Gt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Ba(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(n,o.createAndFill());a.setSelection(Vt.create(a.doc,n+1)),t(a.scrollIntoView())}return!0},Wa=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(vt(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&ot(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},Fa=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Yt&&e.selection.node.isBlock)return!(!n.parentOffset||!vt(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let i=r.parentOffset==r.parent.content.size,o=e.tr;(e.selection instanceof Vt||e.selection instanceof Gt)&&o.deleteSelection();let a=0==n.depth?null:Ba(n.node(-1).contentMatchAt(n.indexAfter(-1))),s=i&&a?[{type:a}]:void 0,l=vt(o.doc,o.mapping.map(n.pos),1,s);if(s||l||!vt(o.doc,o.mapping.map(n.pos),1,a?[{type:a}]:void 0)||(a&&(s=[{type:a}]),l=!0),l&&(o.split(o.mapping.map(n.pos),1,s),!i&&!n.parentOffset&&n.parent.type!=a)){let e=o.mapping.map(n.before()),t=o.doc.resolve(e);a&&n.node(-1).canReplaceWith(t.index(),t.index()+1,a)&&o.setNodeMarkup(o.mapping.map(n.before()),a)}t(o.scrollIntoView())}return!0},Ua=(e,t)=>(t&&t(e.tr.setSelection(new Gt(e.doc))),!0);function Va(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!!(r&&i&&r.type.compatibleContent(i.type))&&(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(o,o+1)||!i.isTextblock&&!yt(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}function qa(e,t,n){let r,i,o=t.nodeBefore,a=t.nodeAfter;if(o.type.spec.isolating||a.type.spec.isolating)return!1;if(Va(e,t,n))return!0;let s=t.parent.canReplace(t.index(),t.index()+1);if(s&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(a.type))&&i.matchType(r[0]||a.type).validEnd){if(n){let i=t.pos+a.nodeSize,s=b.empty;for(let e=r.length-1;e>=0;e--)s=b.from(r[e].create(null,s));s=b.from(o.copy(s));let l=e.tr.step(new Qe(t.pos-1,i,t.pos,i,new C(s,1,0),r.length,!0)),c=i+2*r.length;yt(l.doc,c)&&l.join(c),n(l.scrollIntoView())}return!0}let l=Ht.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&ot(c);if(null!=u&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(s&&Ra(a,"start",!0)&&Ra(o,"end")){let r=o,i=[];for(;;){if(i.push(r),r.isTextblock)break;r=r.lastChild}let s=a,l=1;for(;!s.isTextblock;s=s.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,s.content)){if(n){let r=b.empty;for(let e=i.length-1;e>=0;e--)r=b.from(i[e].copy(r));let o=e.tr.step(new Qe(t.pos-i.length,t.pos+a.nodeSize,t.pos+l,t.pos+a.nodeSize-l,new C(r,i.length,0),0,!0));n(o.scrollIntoView())}return!0}}return!1}function Ya(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;while(i.node(o).isInline){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(Vt.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}const $a=Ya(-1),Ga=Ya(1);function Xa(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&st(a,e,t);return!!s&&(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0)}}function Ka(e,t=null){return function(n,r){let{from:i,to:o}=n.selection,a=!1;return n.doc.nodesBetween(i,o,((r,i)=>{if(a)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)a=!0;else{let t=n.doc.resolve(i),r=t.index();a=t.parent.canReplaceWith(r,r+1,e)}})),!!a&&(r&&r(n.tr.setBlockType(i,o,e,t).scrollIntoView()),!0)}}function Za(e,t,n){for(let r=0;r<t.length;r++){let{$from:i,$to:o}=t[r],a=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,o.pos,(e=>{if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return!0}return!1}function Ja(e,t=null){return function(n,r){let{empty:i,$cursor:o,ranges:a}=n.selection;if(i&&!o||!Za(n.doc,a,e))return!1;if(r)if(o)e.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let i=!1,o=n.tr;for(let t=0;!i&&t<a.length;t++){let{$from:r,$to:o}=a[t];i=n.doc.rangeHasMark(r.pos,o.pos,e)}for(let n=0;n<a.length;n++){let{$from:r,$to:s}=a[n];if(i)o.removeMark(r.pos,s.pos,e);else{let n=r.pos,i=s.pos,a=r.nodeAfter,l=s.nodeBefore,c=a&&a.isText?/^\s*/.exec(a.text)[0].length:0,u=l&&l.isText?/\s*$/.exec(l.text)[0].length:0;n+c<i&&(n+=c,i-=u),o.addMark(n,i,e.create(t))}}r(o.scrollIntoView())}return!0}}function Qa(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let es=Qa(Ta,Pa,Da),ts=Qa(Ta,ja,La);const ns={Enter:Qa(Na,Ha,Wa,Fa),"Mod-Enter":za,Backspace:es,"Mod-Backspace":es,"Shift-Backspace":es,Delete:ts,"Mod-Delete":ts,"Mod-a":Ua},rs={"Ctrl-h":ns["Backspace"],"Alt-Backspace":ns["Mod-Backspace"],"Ctrl-d":ns["Delete"],"Ctrl-Alt-Backspace":ns["Mod-Delete"],"Alt-Delete":ns["Mod-Delete"],"Alt-d":ns["Mod-Delete"],"Ctrl-a":$a,"Ctrl-e":Ga};for(let os in ns)rs[os]=ns[os];const is="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform(),as=is?rs:ns;class ss{constructor(e,t){this.match=e,this.match=e,this.handler="string"==typeof t?ls(t):t}}function ls(e){return function(t,n,r,i){let o=e;if(n[1]){let e=n[0].lastIndexOf(n[1]);o+=n[0].slice(e+n[1].length),r+=e;let t=r-i;t>0&&(o=n[0].slice(e-t,e)+o,r=i)}return t.tr.insertText(o,r,i)}}const cs=500;function us({rules:e}){let t=new cn({state:{init(){return null},apply(e,t){let n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput(n,r,i,o){return fs(n,r,i,o,e,t)},handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&fs(n,r.pos,r.pos,"",e,t)}))}}},isInputRules:!0});return t}function fs(e,t,n,r,i,o){if(e.composing)return!1;let a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;let l=s.parent.textBetween(Math.max(0,s.parentOffset-cs),s.parentOffset,null,"￼")+r;for(let c=0;c<i.length;c++){let s=i[c].match.exec(l),u=s&&i[c].handler(a,s,t-(s[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(o,{transform:u,from:t,to:n,text:r})),!0}return!1}new ss(/--$/,"—"),new ss(/\.\.\.$/,"…"),new ss(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new ss(/"$/,"”"),new ss(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new ss(/'$/,"’");var ds=200,hs=function(){};hs.prototype.append=function(e){return e.length?(e=hs.from(e),!this.length&&e||e.length<ds&&this.leafAppend(e)||this.length<ds&&e.leafPrepend(this)||this.appendInner(e)):this},hs.prototype.prepend=function(e){return e.length?hs.from(e).append(this):this},hs.prototype.appendInner=function(e){return new vs(this,e)},hs.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?hs.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},hs.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},hs.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},hs.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},hs.from=function(e){return e instanceof hs?e:e&&e.length?new ps(e):hs.empty};var ps=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=ds)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=ds)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(hs);hs.empty=new ps([]);var vs=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(hs),ms=hs,ys=ms;const gs=500;class bs{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){let e=this.items.get(i-1);if(e.selection){--i;break}}t&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,a,s=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new xs(e.map));let t,i=e.step.map(n.slice(r));i&&s.maybeStep(i).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],l.push(new xs(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else s.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(r)):e.selection,a=new bs(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:s,selection:o}}addTransform(e,t,n,r){let i=[],o=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),u=new xs(e.mapping.maps[c],l,t);(n=s&&s.merge(u))&&(u=n,c?i.pop():a=a.slice(0,a.length-1)),i.push(u),t&&(o++,t=void 0),r||(s=u)}let l=o-n.depth;return l>Ss&&(a=ws(a,l),o-=l),new bs(a.append(i),o)}remapping(e,t){let n=new qe;return this.items.forEach(((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new bs(this.items.append(e.map((e=>new xs(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach((e=>{e.selection&&a--}),r);let s=t;this.items.forEach((t=>{let r=i.getMirror(--s);if(null==r)return;o=Math.min(o,r);let l=i.maps[r];if(t.step){let o=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(s+1,r));c&&a++,n.push(new xs(l,o,c))}else n.push(new xs(l))}),r);let l=[];for(let f=t;f<o;f++)l.push(new xs(i.maps[f]));let c=this.items.slice(0,r).append(l).append(n),u=new bs(c,a);return u.emptyItemCount()>gs&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach(((o,a)=>{if(a>=e)r.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let s=o.selection&&o.selection.map(t.slice(n));s&&i++;let l,c=new xs(a.invert(),e,s),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else o.map&&n--}),this.items.length,0),new bs(ys.from(r.reverse()),i)}}function ws(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}bs.empty=new bs(ys.empty,0);class xs{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new xs(t.getMap().invert(),t,this.selection)}}}class ks{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const Ss=20;function Os(e,t,n,r){let i,o=n.getMeta(Ds);if(o)return o.historyState;n.getMeta(_s)&&(e=new ks(e.done,e.undone,null,0));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(Ds))return a.getMeta(Ds).redo?new ks(e.done.addTransform(n,void 0,r,Rs(t)),e.undone,Es(n.mapping.maps[n.steps.length-1]),e.prevTime):new ks(e.done,e.undone.addTransform(n,void 0,r,Rs(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new ks(e.done.rebased(n,i),e.undone.rebased(n,i),Ms(e.prevRanges,n.mapping),e.prevTime):new ks(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Ms(e.prevRanges,n.mapping),e.prevTime);{let i=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Cs(n,e.prevRanges)),o=a?Ms(e.prevRanges,n.mapping):Es(n.mapping.maps[n.steps.length-1]);return new ks(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,Rs(t)),bs.empty,o,n.time)}}function Cs(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)})),n}function Es(e){let t=[];return e.forEach(((e,n,r,i)=>t.push(r,i))),t}function Ms(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function As(e,t,n,r){let i=Rs(t),o=Ds.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),l=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),o,i),c=new ks(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(Ds,{redo:r,historyState:c}).scrollIntoView())}let Ts=!1,Ps=null;function Rs(e){let t=e.plugins;if(Ps!=t){Ts=!1,Ps=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Ts=!0;break}}return Ts}const Ds=new dn("history"),_s=new dn("closeHistory");function js(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new cn({key:Ds,state:{init(){return new ks(bs.empty,bs.empty,null,0)},apply(t,n,r){return Os(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?Ls:"historyRedo"==n?Is:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const Ls=(e,t)=>{let n=Ds.getState(e);return!(!n||0==n.done.eventCount)&&(t&&As(n,e,t,!1),!0)},Is=(e,t)=>{let n=Ds.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&As(n,e,t,!0),!0)};function Ns(e){let t=Ds.getState(e);return t?t.done.eventCount:0}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bs=function(e,t){return Bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Bs(e,t)};function zs(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Bs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Hs=function(){return Hs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hs.apply(this,arguments)};function Ws(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function Fs(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Us(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}var Vs=Us;function qs(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i],n)a.call(n,r)&&(e[r]=n[r]);return e}var Ys=qs;function $s(e){return"string"===typeof e||e instanceof String}var Gs=$s;function Xs(e){return e instanceof Array}var Ks=Xs;function Zs(e,t,n){var r=0,i=e.length;for(n=n||null;r<i;r+=1)if(!1===t.call(n,e[r],r,e))break}var Js=Zs,Qs=Ks,el=Js,tl=Vs;function nl(e,t,n){Qs(e)?el(e,t,n):tl(e,t,n)}var rl=nl,il=Gs,ol=rl;function al(e,t,n){var r=e.style;il(t)?r[t]=n:ol(t,(function(e,t){r[t]=e}))}var sl=al,ll=Ks;function cl(e,t,n){var r,i;if(n=n||0,!ll(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(i=t.length,r=n;n>=0&&r<i;r+=1)if(t[r]===e)return r;return-1}var ul=cl;function fl(e){return void 0===e}var dl=fl,hl=dl;function pl(e){return e&&e.className?hl(e.className.baseVal)?e.className:e.className.baseVal:""}var vl=pl,ml=Ks,yl=dl;function gl(e,t){t=ml(t)?t.join(" "):t,t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),yl(e.className.baseVal)?e.className=t:e.className.baseVal=t}var bl=gl,wl=rl,xl=ul,kl=vl,Sl=bl;function Ol(e){var t,n=Array.prototype.slice.call(arguments,1),r=e.classList,i=[];r?wl(n,(function(t){e.classList.add(t)})):(t=kl(e),t&&(n=[].concat(t.split(/\s+/),n)),wl(n,(function(e){xl(e,i)<0&&i.push(e)})),Sl(e,i))}var Cl=Ol,El=Js,Ml=ul,Al=vl,Tl=bl;function Pl(e){var t,n,r=Array.prototype.slice.call(arguments,1),i=e.classList;i?El(r,(function(e){i.remove(e)})):(t=Al(e).split(/\s+/),n=[],El(t,(function(e){Ml(e,r)<0&&n.push(e)})),Tl(e,n))}var Rl=Pl;function Dl(e){return"number"===typeof e||e instanceof Number}var _l=Dl;function jl(e){return null===e}var Ll=jl,Il=Vs;function Nl(e,t){var n=document.createElement("img"),r="";return Il(t,(function(e,t){r+="&"+t+"="+e})),r=r.substring(1),n.src=e+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}var Bl=Nl,zl=dl,Hl=Bl,Wl=6048e5;function Fl(e){var t=(new Date).getTime();return t-e>Wl}function Ul(e,t){var n="https://www.google-analytics.com/collect",r=location.hostname,i="event",o="use",a="TOAST UI "+e+" for "+r+": Statistics",s=window.localStorage.getItem(a);(zl(window.tui)||!1!==window.tui.usageStatistics)&&(s&&!Fl(s)||(window.localStorage.setItem(a,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||Hl(n,{v:1,t:i,tid:t,cid:r,dp:r,dh:e,el:e,ec:o})}),1e3)))}var Vl=Ul;/Mac/.test(navigator.platform);var ql=/[\u0020]+/g,Yl=/[>(){}[\]+-.!#|]/g,$l=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,Gl=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Xl=/[*_~`]/g;function Kl(){Vl("editor","UA-129966929-1")}function Zl(e,t){return-1!==e.indexOf(t)}var Jl=["rel","target","hreflang","type"],Ql={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function ec(e){if(!e)return null;var t={};return Jl.forEach((function(n){dl(e[n])||(t[n]=e[n])})),t}function tc(e,t){for(var n="",r=0;r<t;r+=1)n+=e;return n}function nc(e){var t=!1;return Vs(Ql,(function(n){return n.test(e)&&(t=!0),!t})),t}function rc(e){var t=function(e){return"\\"+e},n=e.replace(ql," ");return Gl.test(n)&&(n=n.replace(Gl,t)),n=n.replace(Xl,t),$l.test(n)&&(n=n.replace($l,t)),nc(n)&&(n=n.replace(Yl,t)),n}function ic(e){var t;return t=-1===e.indexOf('"')?'""':-1===e.indexOf("'")?"''":"()",t[0]+e+t[1]}function oc(e){return Ll(e)||dl(e)}function ac(e,t){if(null===e&&e===t)return!0;if("object"!==typeof e||"object"!==typeof t||oc(e)||oc(t))return e===t;for(var n in e)if(e[n]!==t[n])return!1;for(var n in t)if(!(n in e))return!1;return!0}function sc(e){return e[e.length-1]}function lc(e,t,n){return e>=t&&e<=n}function cc(e){return"object"===typeof e&&null!==e}function uc(e,t){var n=Hs({},e);return e&&t&&Object.keys(t).forEach((function(e){cc(n[e])?Array.isArray(t[e])?n[e]=fc(t[e]):n.hasOwnProperty(e)?n[e]=uc(n[e],t[e]):n[e]=dc(t[e]):n[e]=t[e]})),n}function fc(e){return e.map((function(e){return cc(e)?Array.isArray(e)?fc(e):dc(e):e}))}function dc(e){var t=Object.keys(e);return t.length?t.reduce((function(t,n){return cc(e[n])?t[n]=Array.isArray(e[n])?fc(e[n]):dc(e[n]):t[n]=e[n],t}),{}):e}function hc(e,t){return void 0===t&&(t={}),Object.keys(t).forEach((function(n){e.hasOwnProperty(n)&&"object"===typeof e[n]?Array.isArray(t[n])?e[n]=t[n]:hc(e[n],t[n]):e[n]=t[n]})),e}function pc(e,t){return e>t?[t,e]:[e,t]}function vc(e,t){var n=e.nodes.paragraph;return t?n.create(null,Gs(t)?e.text(t):t):n.createAndFill()}function mc(e,t,n){return e.text(t,n)}function yc(e,t,n){void 0===n&&(n=t);var r=e.doc.content.size,i=r>0?r-1:1;return Vt.create(e.doc,Math.min(t,i),Math.min(n,i))}function gc(e,t,n){var r=t.pos;return e.replaceWith(r,r,vc(n)),e.setSelection(yc(e,r+1))}function bc(e){for(var t=e.state,n=e.from,r=e.startIndex,i=e.endIndex,o=e.createText,a=t.tr,s=t.doc,l=t.schema,c=r;c<=i;c+=1){var u=s.child(c),f=u.nodeSize,d=u.textContent,h=u.content,p=o(d),v=p?mc(l,p):b.empty,m=a.mapping.map(n),y=m+h.size;a.replaceWith(m,y,v),n+=f}return a}function wc(e,t,n,r){var i=n.length;e.split(t).delete(t-i,t).insert(e.mapping.map(t),r).setSelection(yc(e,e.mapping.map(t)-i))}function xc(e){return e.sourcepos[0][0]}function kc(e){return e.sourcepos[1][0]}function Sc(e){return e.sourcepos[0][1]}function Oc(e){return e.sourcepos[1][1]}function Cc(e){var t=e.type;return"htmlBlock"===t||"htmlInline"===t}function Ec(e){var t=e.type;return"strike"===t||"strong"===t||"emph"===t||"code"===t||"link"===t||"image"===t}function Mc(e){return e&&"codeBlock"===e.type}function Ac(e){return e&&("item"===e.type||"list"===e.type)}function Tc(e){return Ac(e)&&"ordered"===e.listData.type}function Pc(e){return Ac(e)&&"ordered"!==e.listData.type}function Rc(e){return e&&("tableCell"===e.type||"tableDelimCell"===e.type)}function Dc(e){switch(e.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function _c(e,t,n){void 0===n&&(n=!0),e=n?e:e.parent;while(e&&"document"!==e.type){if(t(e))return e;e=e.parent}return null}function jc(e,t,n){void 0===n&&(n=!0),e=n?e:e.parent;while(e&&"document"!==e.type)t(e),e=e.parent}function Lc(e,t){return[e[0],e[1]+t]}function Ic(e,t){return[e[0],t]}function Nc(e){var t=e.firstChild.literal;switch(e.type){case"emph":return"*"+t+"*";case"strong":return"**"+t+"**";case"strike":return"~~"+t+"~~";case"code":return"`"+t+"`";case"link":case"image":var n=e,r=n.destination,i=n.title,o="link"===e.type?"":"!";return o+"["+t+"]("+r+(i?' "'+i+'"':"")+")";default:return null}}function Bc(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function zc(e){var t=[],n=e.walker(),r=null;while(r=n.next()){var i=r.node;"text"===i.type&&t.push(i.literal)}return t.join("")}var Hc=[],Wc={},Fc=/\$\$widget\d+\s/;function Uc(e){var t=e.search(Fc);if(-1!==t){var n=e.substring(t),r=n.replace(Fc,"").replace("$$","");e=e.substring(0,t),e+=Uc(r)}return e}function Vc(e,t){return"$$"+e+" "+t+"$$"}function qc(e,t){var n=Wc[e],r=n.rule,i=n.toDOM;return t=Uc(t).match(r)[0],i(t)}function Yc(){return Hc}function $c(e){Hc=e,Hc.forEach((function(e,t){Wc["widget"+t]=e}))}function Gc(e,t,n,r){return e.concat(Xc(t,n,r))}function Xc(e,t,n){void 0===n&&(n=0);var r=[],i=(Hc[n]||{}).rule,o=n+1;if(e=Uc(e),i&&i.test(e)){var a=void 0;while(-1!==(a=e.search(i))){var s=e.substring(0,a);s&&(r=Gc(r,s,t,o)),e=e.substring(a);var l=e.match(i)[0],c="widget"+n;r.push(t.nodes.widget.create({info:c},t.text(Vc(c,l)))),e=e.substring(l.length)}e&&(r=Gc(r,e,t,o))}else e&&(r=n<Hc.length-1?Gc(r,e,t,o):[t.text(e)]);return r}function Kc(e){var t,n="",r=e.walker();while(t=r.next()){var i=t.node,o=t.entering;o&&(i!==e&&"text"!==i.type?(n+=Nc(i),r.resumeAt(e,!1),r.next()):"text"===i.type&&(n+=i.literal))}return n}function Zc(){return{deleteSelection:function(){return Ta},selectAll:function(){return Ua},undo:function(){return Ls},redo:function(){return Is}}}function Jc(e){return new cn({props:{decorations:function(t){var n=t.doc;if(e.text&&1===n.childCount&&n.firstChild.isTextblock&&0===n.firstChild.content.size){var r=document.createElement("span");return Cl(r,"placeholder"),e.className&&Cl(r,e.className),r.textContent=e.text,Ro.create(n,[Ao.widget(1,r)])}return null}}})}var Qc=new dn("widget"),eu=function(){function e(e){var t=this;this.popup=null,this.removeWidget=function(){t.popup&&(document.body.removeChild(t.popup),t.popup=null)},this.eventEmitter=e,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return e.prototype.update=function(e){var t=Qc.getState(e.state);if(this.removeWidget(),t){var n=t.node,r=t.style,i=e.coordsAtPos(t.pos),o=i.top,a=i.left,s=i.bottom,l=s-o;sl(n,{position:"absolute",left:a+"px",opacity:"0"}),document.body.appendChild(n),sl(n,{top:("bottom"===r?o+l:o-n.clientHeight-l)+"px",opacity:"1"}),this.popup=n,e.focus()}},e.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},e}();function tu(e){return new cn({key:Qc,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(){return new eu(e)}})}var nu=Js;function ru(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],nu(e,(function(e){t.push(e)}))}return t}var iu=ru;function ou(e){e.listen("addImageBlobHook",(function(e,t){var n=new FileReader;n.onload=function(e){var n=e.target;return t(n.result)},n.readAsDataURL(e)}))}function au(e,t,n){var r=function(n,r){e.emit("command","addImage",{imageUrl:n,altText:r||t.name||"image"})};e.emit("addImageBlobHook",t,r,n)}function su(e){var t=iu(e).filter((function(e){var t=e.type;return-1!==t.indexOf("image")}));if(1===t.length){var n=t[0];if(n)return n.getAsFile()}return null}function lu(e){var t=e.eventEmitter;return new cn({props:{handleDOMEvents:{drop:function(e,n){var r,i=null===(r=n.dataTransfer)||void 0===r?void 0:r.files;return i&&Js(i,(function(e){return-1===e.type.indexOf("image")||(n.preventDefault(),n.stopPropagation(),au(t,e,n.type),!1)})),!0}}}})}var cu=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),e.prototype.setContext=function(e){this.context=e},e}();function uu(e){var t=document.createElement("span"),n=qc(e.attrs.info,e.textContent);return t.className="tui-widget",t.appendChild(n),{dom:t}}function fu(e){return"widget"===e.type.name}var du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(e){var t=e.textContent,n=t.match(/\$\$(widget\d+)/),r=n[1];return{info:r}}}]}},enumerable:!1,configurable:!0}),t}(cu),hu=function(){function e(e){this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return e.prototype.createState=function(){return sn.create({schema:this.schema,plugins:this.createPlugins()})},e.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,r=e.editorType;n.dom.addEventListener("focus",(function(){return t.emit("focus",r)})),n.dom.addEventListener("blur",(function(){return t.emit("blur",r)}))},e.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(e.prototype,"defaultPlugins",{get:function(){var e=Zc(),t=e.undo,n=e.redo,r=this.createInputRules(),i=Ws(Ws([],this.keymaps),[Ma(Hs({"Mod-z":t(),"Shift-Mod-z":n()},as)),js(),Jc(this.placeholder),tu(this.eventEmitter),lu(this.context)]);return r?i.concat(r):i},enumerable:!1,configurable:!0}),e.prototype.createInputRules=function(){var e=Yc(),t=e.map((function(e){var t=e.rule;return new ss(t,(function(e,n,r,i){var o=e.schema,a=e.tr,s=e.doc,l=n.input.match(new RegExp(t,"g")),c=s.resolve(r),u=c.parent,f=0;if(fu(u)&&(u=c.node(c.depth-1)),u.forEach((function(e){return fu(e)&&(f+=1)})),l.length>f){var d=sc(l),h=Xc(d,o);return a.replaceWith(i-d.length+1,i,h)}return null}))}));return t.length?us({rules:t}):null},e.prototype.createSchema=function(){return new he({nodes:this.specs.nodes,marks:this.specs.marks})},e.prototype.createKeymaps=function(e){return e?this.specs.keymaps():[]},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map((function(t){return t(e.eventEmitter)}))},e.prototype.focus=function(){var e=this;setTimeout((function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())}))},e.prototype.blur=function(){this.view.dom.blur()},e.prototype.destroy=function(){var e=this;this.view.destroy(),Object.keys(this).forEach((function(t){delete e[t]}))},e.prototype.moveCursorToStart=function(){var e=this.view.state.tr;this.view.dispatch(e.setSelection(yc(e,1)).scrollIntoView()),this.focus()},e.prototype.moveCursorToEnd=function(){var e=this.view.state.tr;this.view.dispatch(e.setSelection(yc(e,e.doc.content.size-1)).scrollIntoView()),this.focus()},e.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},e.prototype.getScrollTop=function(){return this.view.dom.scrollTop},e.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},e.prototype.setHeight=function(e){sl(this.el,{height:e+"px"})},e.prototype.setMinHeight=function(e){sl(this.el,{minHeight:e+"px"})},e.prototype.getElement=function(){return this.el},e}();function pu(e){return e instanceof Function}var vu=pu;function mu(e,t,n){return e.focus(),t(n)(e.state,e.dispatch,e)}var yu=function(){function e(e){this.specs=e}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this.specs.filter((function(e){return"node"===e.type})).reduce((function(e,t){var n,r=t.name,i=t.schema;return Hs(Hs({},e),(n={},n[r]=i,n))}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"marks",{get:function(){return this.specs.filter((function(e){return"mark"===e.type})).reduce((function(e,t){var n,r=t.name,i=t.schema;return Hs(Hs({},e),(n={},n[r]=i,n))}),{})},enumerable:!1,configurable:!0}),e.prototype.commands=function(e,t){var n=this.specs.filter((function(e){var t=e.commands;return t})).reduce((function(t,n){var r={},i=n.commands();return vu(i)?r[n.name]=function(t){return mu(e,i,t)}:Object.keys(i).forEach((function(t){r[t]=function(n){return mu(e,i[t],n)}})),Hs(Hs({},t),r)}),{}),r=Zc();return Object.keys(r).forEach((function(t){n[t]=function(n){return mu(e,r[t],n)}})),t&&Object.keys(t).forEach((function(r){n[r]=function(n){return mu(e,t[r],n)}})),n},e.prototype.keymaps=function(){var e=this.specs.filter((function(e){return e.keymaps})).map((function(e){return e.keymaps()}));return e.map((function(e){return Ma(e)}))},e.prototype.setContext=function(e){this.specs.forEach((function(t){t.setContext(e)}))},e}(),gu=ul,bu=vl;function wu(e,t){var n;return e.classList?e.classList.contains(t):(n=bu(e).split(/\s+/),gu(t,n)>-1)}var xu=wu,ku=ul,Su=iu,Ou=Element.prototype,Cu=Ou.matches||Ou.webkitMatchesSelector||Ou.mozMatchesSelector||Ou.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return ku(this,Su(t.querySelectorAll(e)))>-1};function Eu(e,t){return Cu.call(e,t)}var Mu=Eu,Au="[A-Za-z][A-Za-z0-9-]*",Tu="[a-zA-Z_:][a-zA-Z0-9:._-]*",Pu="[^\"'=<>`\\x00-\\x20]+",Ru="'[^']*'",Du='"[^"]*"',_u="(?:"+Pu+"|"+Ru+"|"+Du+")",ju="(?:\\s*=\\s*"+_u+")",Lu="(?:\\s+"+Tu+ju+"?)",Iu="<("+Au+")("+Lu+")*\\s*/?>",Nu="</("+Au+")\\s*[>]",Bu="(?:"+Iu+"|"+Nu+")",zu=new RegExp("^"+Bu,"i");function Hu(e,t,n){var r=parseInt(e.left,10),i=parseInt(e.top,10),o=parseInt(e.width,10)+parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10),a=parseInt(e.height,10)+parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10);return t>=r&&t<=r+o&&n>=i&&n<=i+a}var Wu="toastui-editor-";function Fu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=void 0;a=Array.isArray(o)?o[0]?o[1]:null:o,a&&n.push(""+Wu+a)}return n.join(" ")}function Uu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return Wu+"md-"+e})).join(" ")}function Vu(e){return(null===e||void 0===e?void 0:e.nodeType)===Node.TEXT_NODE}function qu(e){return e&&e.nodeType===Node.ELEMENT_NODE}function Yu(e,t){var n=iu(e.querySelectorAll(t));return n.length?n:[]}function $u(e,t){t=Ks(t)?iu(t):[t],t.forEach((function(t){e.appendChild(t)}))}function Gu(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)}function Xu(e){e.parentNode&&e.parentNode.removeChild(e)}function Ku(e){var t=[];while(e.firstChild)t.push(e.firstChild),e.parentNode&&e.parentNode.insertBefore(e.firstChild,e);return Xu(e),t}function Zu(e,t,n){dl(n)&&(n=!xu(e,t));var r=n?Cl:Rl;r(e,t)}function Ju(e,t){var n=document.createElement("div");Gs(e)?n.innerHTML=e:n.appendChild(e);var r=n.firstChild;return t&&t.appendChild(r),r}function Qu(e){var t=window.getComputedStyle(e);return["margin-left","margin-right"].reduce((function(e,n){return e+parseInt(t.getPropertyValue(n),10)}),0)+e.offsetWidth}function ef(e,t){var n;n=Gs(t)?function(e){return Mu(e,t)}:function(e){return e===t};while(e&&e!==document){if(qu(e)&&n(e))return e;e=e.parentNode}return null}function tf(e,t){var n=0,r=0;while(e&&e!==t){var i=e.offsetTop,o=e.offsetLeft,a=e.offsetParent;if(n+=i,r+=o,a===t.offsetParent)break;e=e.offsetParent}return{offsetTop:n,offsetLeft:r}}function nf(e,t){var n;if(t)n=e.innerHTML;else{for(var r=document.createDocumentFragment(),i=iu(e.childNodes),o=i.length,a=0;a<o;a+=1)r.appendChild(i[a]);n=r}return n}function rf(e,t){Object.keys(e).forEach((function(n){e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)}))}function of(e){var t=/<br\s*\/*>/i,n=new RegExp(Bu,"ig"),r=e.match(n);return null===r||void 0===r||r.forEach((function(n,i){if(t.test(n)){var o="";if(i){var a=r[i-1],s=a.match(Iu);if(s){var l=s[1];o="</"+l+"><"+l+">"}}e=e.replace(t,o)}})),e}function af(e){var t=e.from,n=e.to;return e instanceof Gt?[t+1,n-1]:[t,n]}function sf(e){return e.index(0)+1}function lf(e,t,n){void 0===n&&(n=1);var r=0;return e.forEach((function(e,i){fu(e)&&i+2<t&&(r+=2*n)})),r}function cf(e,t,n){void 0===n&&(n=t);var r=t===n,i=e.resolve(t),o=sf(i),a=o,s=i.start(1),l=s;if(!r){var c=e.resolve(n===e.content.size?n-1:n);l=c.start(1),a=sf(c),c.pos===e.content.size&&(n=e.content.size-2)}var u=Math.max(t-s+1,1),f=Math.max(n-l+1,1);return[[o,u+lf(e.child(o-1),u,-1)],[a,f+lf(e.child(a-1),f,-1)]]}function uf(e,t){for(var n=[],r=0,i=0;r<t;r+=1){var o=e.child(r);n[r]=i,i+=o.nodeSize}return n}function ff(e,t,n){var r=uf(e,n[0]),i=t[0]-1,o=n[0]-1,a=e.child(i),s=e.child(o),l=r[i],c=r[o];return l+=t[1]+lf(a,t[1]-1),c+=n[1]+lf(s,n[1]-1),[l,Math.min(c,e.content.size)]}function df(e){var t=e.$from,n=e.$to,r=e.from,i=e.to,o=t.doc;return e instanceof Gt&&(t=o.resolve(r+1),n=o.resolve(i-1)),0===t.depth&&(t=o.resolve(r-1),n=t),{startFromOffset:t.start(1),endFromOffset:n.start(1),startToOffset:t.end(1),endToOffset:n.end(1),startIndex:t.index(0),endIndex:n.index(0),from:t.pos,to:n.pos}}function hf(e,t){for(var n=1,r=1,i=0,o=0;i<e.childCount;i+=1){var a=e.child(i).nodeSize;if(n=o+1,r=o+a-1,i===t)break;o+=a}return{startOffset:n,endOffset:r}}var pf="heading",vf="blockQuote",mf="listItem",yf="table",gf="tableCell",bf="codeBlock",wf="thematicBreak",xf="link",kf="code",Sf="meta",Of="delimiter",Cf="taskDelimiter",Ef="markedText",Mf="html",Af="customBlock",Tf={strong:2,emph:1,strike:2};function Pf(e,t,n,r){return{start:e,end:t,spec:{type:n,attrs:r}}}function Rf(e,t,n){var r=e.level,i=e.headingType,o=[Pf(t,n,pf,{level:r})];return"atx"===i?o.push(Pf(t,Lc(t,r),Of)):o.push(Pf(Ic(n,0),n,pf,{seText:!0})),o}function Df(e,t,n){var r=e.type,i=Lc(t,Tf[r]),o=Lc(n,-Tf[r]);return[Pf(i,o,r),Pf(t,i,Of),Pf(o,n,Of)]}function _f(e,t,n,r){return[Pf(e,t,xf),Pf(Ic(e,n[1]+1),Ic(t,r),xf,{desc:!0}),Pf(Ic(t,r+2),Lc(t,-1),xf,{url:!0})]}function jf(e,t,n){var r=e.lastChild,i=r?Oc(r)+1:3,o=Lc(t,1);return Ws([Pf(t,o,Sf)],_f(t,n,o,i))}function Lf(e,t,n){var r=e.lastChild,i=e.extendedAutolink,o=r?Oc(r)+1:2;return i?[Pf(t,n,xf,{desc:!0})]:_f(t,n,t,o)}function If(e,t,n){var r=e.tickCount,i=Lc(t,r),o=Lc(n,-r);return[Pf(t,n,kf),Pf(t,i,kf,{start:!0}),Pf(i,o,kf,{marked:!0}),Pf(o,n,kf,{end:!0})]}function Nf(e,t,n,r){var i={start:t,end:n,spec:{attrs:{className:r+"-line-background",codeStart:t[0],codeEnd:n[0]}},lineBackground:!0};return"item"!==e.type&&"blockQuote"!==e.type?[Hs(Hs({},i),{end:t,spec:{attrs:{className:r+"-line-background start"}}}),Hs(Hs({},i),{start:[Math.min(t[0]+1,n[0]),t[1]]})]:null}function Bf(e,t,n,r){var i=e.fenceOffset,o=e.fenceLength,a=e.fenceChar,s=e.info,l=e.infoPadding,c=e.parent,u=i+o,f=[Pf(Ic(t,1),n,bf)];a&&f.push(Pf(t,Lc(t,u),Of)),s&&f.push(Pf(Lc(t,o),Lc(t,o+l+s.length),Sf));var d="^(\\s{0,4})("+a+"{"+o+",})",h=new RegExp(d);h.test(r)&&f.push(Pf(Ic(n,1),n,Of));var p=Nf(c,t,n,"code-block");return p?f.concat(p):f}function zf(e,t,n){var r=e,i=r.offset,o=r.syntaxLength,a=r.info,s=r.parent,l=i+o,c=[Pf(Ic(t,1),n,Af)];c.push(Pf(t,Lc(t,l),Of)),a&&c.push(Pf(Lc(t,2),Lc(t,o+a.length),Sf)),c.push(Pf(Ic(n,1),n,Of));var u=Nf(s,t,n,"custom-block");return u?c.concat(u):c}function Hf(e,t){var n=[];while(e){var r=e.type;"paragraph"!==r&&"codeBlock"!==r||n.push(Pf([xc(e),Sc(e)-1],[kc(e),Oc(e)+1],t)),e=e.next}return n}function Wf(e){var t=[];while(e)t.push(Pf([xc(e),Sc(e)],[kc(e),Oc(e)+1],Ef)),e=e.next;return t}function Ff(e,t,n){var r=e.parent&&"blockQuote"!==e.parent.type?[Pf(t,n,vf)]:[];if(e.firstChild){var i=[];"paragraph"===e.firstChild.type?i=Wf(e.firstChild.firstChild):"list"===e.firstChild.type&&(i=Hf(e.firstChild,Ef)),r=Ws(Ws([],r),i)}return r}function Uf(e){var t=0;while(e.parent.parent&&"item"===e.parent.parent.type)e=e.parent.parent,t+=1;var n=[{odd:!0},{even:!0}][t%2];return[mf,Hs(Hs({},n),{listStyle:!0})]}function Vf(e,t){var n=e.listData,r=n.padding,i=n.task,o=Uf(e),a=[Pf.apply(void 0,Ws([t,Lc(t,r)],o))];return i&&(a.push(Pf(Lc(t,r),Lc(t,r+3),Cf)),a.push(Pf(Lc(t,r+1),Lc(t,r+2),Sf))),a.concat(Hf(e.firstChild,Ef))}var qf={heading:Rf,strong:Df,emph:Df,strike:Df,link:Lf,image:jf,code:If,codeBlock:Bf,blockQuote:Ff,item:Vf,customBlock:zf},Yf={thematicBreak:wf,table:yf,tableCell:gf,htmlInline:Mf};function $f(e,t,n,r){var i=e.type;return vu(qf[i])?qf[i](e,t,n,r):Yf[i]?[Pf(t,n,Yf[i])]:null}var Gf={};function Xf(e){var t=e.schema,n=e.toastMark;return new cn({appendTransaction:function(e,r,i){var o=e[0],a=i.tr;if(o.docChanged){var s=[],l=o.getMeta("editResult");l.forEach((function(e){var t=e.nodes,r=e.removedNodeRange;if(t.length){s=s.concat(td(a,t));for(var i=0,o=t;i<o.length;i++){var l=o[i],c=l.walker(),u=c.next();while(u){var f=u.node,d=u.entering;d&&(s=s.concat(nd(f,n))),u=c.next()}}}else if(r)for(var h=a.doc.childCount-1,p=r.line,v=p[0],m=p[1],y=Math.min(v,h),g=Math.min(m,h),b=y;b<=g;b+=1)Gf[b]=!0})),Jf(a,t,s)}return a.setMeta("widget",o.getMeta("widget"))}})}function Kf(e,t,n){return Object.keys(n).some((function(r){return n[r]!==e.child(t).attrs[r]}))}function Zf(e,t,n,r,i){void 0===i&&(i={});for(var o=r.startIndex,a=r.endIndex,s=r.from,l=r.to,c=!1,u=o;u<=a;u+=1)delete Gf[u],c=Kf(t,u,i);c&&e.setBlockType(s,l,n,i)}function Jf(e,t,n){var r=e.doc,i=t.nodes.paragraph,o=uf(r,r.childCount);n.forEach((function(n){var a=n.start,s=n.end,l=n.spec,c=n.lineBackground,u=Math.min(a[0],r.childCount)-1,f=Math.min(s[0],r.childCount)-1,d=r.child(u),h=r.child(f),p=o[u],v=o[f];if(p+=a[1]+lf(d,a[1]-1),v+=s[1]+lf(h,s[1]-1),l)if(c){var m={from:p,to:v,startIndex:u,endIndex:f};Zf(e,r,i,m,l.attrs)}else e.addMark(p,v,t.mark(l.type,l.attrs));else e.removeMark(p,v)})),Qf(e,o,i)}function Qf(e,t,n){Object.keys(Gf).forEach((function(r){var i=Number(r),o=Math.min(Number(r)+1,e.doc.childCount-1),a=t[i],s=t[o]-1;i===o&&(s+=2),e.setBlockType(a,s,n)}))}function ed(e,t,n){var r=[];Gf={};for(var i=t[0]-1;i<n[0];i+=1){var o=e.child(i),a=o.attrs.codeEnd,s=o.attrs.codeStart;if(s&&a&&!Zl(r,s)){r.push(s),a=Math.min(a,e.childCount);for(var l=s-1,c=n[0],u=l;u<c;u+=1)Gf[u]=!0}}}function td(e,t){var n=e.doc,r=t[0].sourcepos[0],i=sc(t).sourcepos,o=i[1],a=[r[0],r[1]],s=[o[0],o[1]+1],l=[];return ed(n,r,o),l.push({start:a,end:s}),l}function nd(e,t){var n=t.getLineTexts(),r=[xc(e),Sc(e)],i=[kc(e),Oc(e)+1],o=$f(e,r,i,n[i[0]-1]);return null!==o&&void 0!==o?o:[]}function rd(e){return Ac(e)?e.listData.task?"taskList":"ordered"===e.listData.type?"orderedList":"bulletList":-1!==e.type.indexOf("table")?"table":e.type}function id(e){var t={},n=!0;return jc(e,(function(e){var r=rd(e);"customBlock"!==r&&"image"!==r&&"link"!==r&&("bulletList"===r||"orderedList"===r?n&&(t[r]=!0,n=!1):t[r]=!0)})),t}function od(e){var t=e.toastMark,n=e.eventEmitter;return new cn({view:function(){return{update:function(e,r){var i=e.state,o=i.doc,a=i.selection;if(!(r&&r.doc.eq(o)&&r.selection.eq(a))){var s=a.from,l=i.doc.resolve(s).start(),c=i.doc.content.findIndex(s).index+1,u=s-l;s===l&&(u+=1);var f=[c,u],d=t.findNodeAtPosition(f),h=id(d);n.emit("changeToolbarState",{cursorPos:f,mdNode:d,toolbarState:h}),n.emit("setFocusedNode",d)}}}}})}var ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),t}(cu),sd=function(){function e(){}return Object.defineProperty(e.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),e.prototype.setContext=function(e){this.context=e},e}();function ld(e,t){return cd(e,t-1)}function cd(e,t){return e.child(t).textContent}var ud=/^\s*> ?/,fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("block-quote")},0]}}},enumerable:!1,configurable:!0}),t.prototype.createBlockQuoteText=function(e,t){return t?e.replace(ud,"").trim():"> "+e.trim()},t.prototype.extendBlockQuote=function(){var e=this;return function(t,n){var r=t.selection,i=t.doc,o=t.tr,a=t.schema,s=df(r),l=s.endFromOffset,c=s.endToOffset,u=s.endIndex,f=s.to,d=cd(i,u),h=ud.test(d);if(h&&f>l&&r.empty){var p=!d.replace(ud,"").trim();if(p)o.deleteRange(l,c).split(o.mapping.map(c));else{var v=d.slice(f-l).trim(),m=mc(a,e.createBlockQuoteText(v));wc(o,c,v,m)}return n(o),!0}return!1}},t.prototype.commands=function(){var e=this;return function(){return function(t,n){var r=t.selection,i=t.doc,o=df(r),a=o.startFromOffset,s=o.endToOffset,l=o.startIndex,c=o.endIndex,u=ud.test(cd(i,l)),f=bc({state:t,startIndex:l,endIndex:c,from:a,createText:function(t){return e.createBlockQuoteText(t,u)}});return n(f.setSelection(yc(f,f.mapping.map(s)))),!0}}},t.prototype.keymaps=function(){var e=this.commands()();return{"alt-q":e,"alt-Q":e,Enter:this.extendBlockQuote()}},t}(sd),dd=/(^\s*)([-*+] |[\d]+\. )/,hd=/(^\s*)([\d])+\.( \[[ xX]])? /,pd=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,vd=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,md=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,yd=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,gd=/(^\s*)([-*+])( \[[ xX]]) /;function bd(e){return hd.test(e)?"ordered":"bullet"}function wd(e){var t=0;while(e&&"document"!==e.type)"list"===e.type&&(t+=1),e=e.parent;return t}function xd(e,t,n,r){var i=e.getLineTexts(),o=i.length,a=[],s=t;while(r?s<o:s>1){s=r?s+1:s-1;var l=e.findFirstNodeAtLine(s),c=wd(l);if(c===n)a.push({line:s,depth:n,mdNode:l});else if(c<n)break}return a}function kd(e){var t=e.toastMark,n=e.mdNode,r=e.line,i=wd(n),o=xd(t,r,i,!1).reverse(),a=xd(t,r,i,!0);return o.concat([{line:r,depth:i,mdNode:n}]).concat(a)}function Sd(e){if(!dd.test(e))return"* "+e;var t=bd(e);return"bullet"===t&&vd.test(e)?e=e.replace(gd,"$1$2 "):"ordered"===t&&(e=e.replace(hd,"$1* ")),e}function Od(e,t){if(!dd.test(e))return t+". "+e;var n=bd(e);if("bullet"===n||"ordered"===n&&vd.test(e))e=e.replace(vd,"$1"+t+". ");else if("ordered"===n){var r=pd.exec(e)[3];Number(r)!==t&&(e=e.replace(hd,"$1"+t+". "))}return e}function Cd(e,t,n,r){void 0===r&&(r=0);var i=Number.MAX_VALUE,o=0,a=t.map((function(t,a){var s=t.line;i=Math.min(s-1,i),o=Math.max(s-1,o);var l=ld(e,s);return l="bullet"===n?Sd(l):Od(l,a+1+r),{text:l,line:s}}));return{changedResults:a,firstIndex:i,lastIndex:o}}function Ed(e,t){var n=kd(t);return Cd(t.doc,n,e)}var Md={bullet:function(e){return Ed("bullet",e)},ordered:function(e){return Ed("ordered",e)},task:function(e){var t=e.mdNode,n=e.doc,r=e.line,i=ld(n,r);return t.listData.task?i=i.replace(yd,"$1$2"):Ac(t)&&(i=i.replace(dd,"$1$2[ ] ")),{changedResults:[{text:i,line:r}]}}},Ad={bullet:function(e){var t=e.doc,n=e.line,r=ld(t,n),i=[{text:"* "+r,line:n}];return{changedResults:i}},ordered:function(e){for(var t=e.toastMark,n=e.doc,r=e.line,i=e.startLine,o=ld(n,r),a=1,s=i,l=0,c=i-1;c>0;c-=1){var u=t.findFirstNodeAtLine(c),f=ld(n,c),d=f&&!!_c(u,(function(e){return Ac(e)})),h=pd.exec(ld(n,c));if(!h&&!d)break;if(h||!d){var p=h,v=p[1],m=p[3];if(!v){a=Number(m),s=c;break}}else l+=1}var y=a+r-s-l,g=[{text:y+". "+o,line:r}];return{changedResults:g}},task:function(e){var t=e.doc,n=e.line,r=ld(t,n),i=[{text:"* [ ] "+r,line:n}];return{changedResults:i}}},Td={bullet:function(e){var t=e.line,n=e.doc,r=ld(n,t),i=md.exec(r),o=i[1],a=i[2];return{listSyntax:""+o+a}},ordered:function(e){var t=e.toastMark,n=e.line,r=e.mdNode,i=e.doc,o=wd(r),a=ld(i,n),s=pd.exec(a),l=s[1],c=s[3],u=s[4],f=Number(c)+1,d=""+l+f+u,h=xd(t,n,o,!0),p=h.filter((function(e){var t=pd.exec(ld(i,e.line));return t&&t[1].length===l.length&&!!_c(e.mdNode,(function(e){return Tc(e)}))}));return Hs({listSyntax:d},Cd(i,p,"ordered",f))}};function Pd(e,t,n,r,i){var o=[],a=ld(e,n),s=pd.exec(a);while(s){var l=s[1],c=s[4],u=s[5],f=l.length;if(f===i)o.push(mc(t,""+l+r+c+u)),r+=1,n+=1;else if(f>i){var d=Pd(e,t,n,1,f);n=d.line,o=o.concat(d.nodes)}if(f<i||n>e.childCount)break;a=ld(e,n),s=pd.exec(a)}return{nodes:o,line:n}}var Rd=/(^\s{1,4})(.*)/;function Dd(e,t,n){return e<t||dd.test(n)||ud.test(n)}function _d(e,t,n){var r=n.$from;0===r.depth&&(r=e.resolve(r.pos-1));var i=r.node(1),o=r.start(1),a=i.content.size;return i.rangeHasMark(0,a,t.marks.table)&&r.pos-o!==a&&r.pos!==o}function jd(e,t){var n=t.from,r=t.to;if("indent"===t.type){var i=4;n+=i,r+=(t.lineLen+1)*i}else{var o=t.spaceLenList;n-=o[0];for(var a=0;a<o.length;a+=1)r-=o[a]}return yc(e,n,r)}var Ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(e){var t=e.attrs;return t.className?["div",{class:Uu(t.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),t.prototype.reorderList=function(e,t){var n=this.context,r=n.view,i=n.toastMark,o=n.schema,a=r.state,s=a.tr,l=a.selection,c=a.doc,u=i.findFirstNodeAtLine(e),f=u;while(u&&!Pc(u)&&"document"!==u.parent.type)if(u=u.parent,Tc(u)){f=u;break}f&&(e=f.sourcepos[0][0]);var d=pd.exec(ld(c,e)),h=d[1],p=d[3],v=h.length,m=Pd(c,o,e,Number(p),v),y=m.line,g=m.nodes;t=Math.max(t,y-1);for(var b=hf(c,e-1).startOffset,w=e-1;w<=t-1;w+=1){var x=c.child(w),k=x.nodeSize,S=x.content,O=s.mapping.map(b),C=O+S.size;s.replaceWith(O,C,g[w-e+1]),b+=k}var E=yc(s,l.from,l.to);r.dispatch(s.setSelection(E))},t.prototype.indent=function(e){var t=this;return void 0===e&&(e=!1),function(){return function(n,r){var i=n.schema,o=n.selection,a=n.doc,s=df(o),l=s.from,c=s.to,u=s.startFromOffset,f=s.startIndex,d=s.endIndex;if(e&&_d(a,i,o))return!1;var h=cd(a,f);if(e&&Dd(l,c,h)||!e&&dd.test(h)){var p=bc({state:n,from:u,startIndex:f,endIndex:d,createText:function(e){return"    "+e}}),v={type:"indent",from:l,to:c,lineLen:d-f};r(p.setSelection(jd(p,v))),pd.test(h)&&t.reorderList(f+1,d+1)}else e&&r(n.tr.insert(c,mc(i,"    ")));return!0}}},t.prototype.outdent=function(e){var t=this;return void 0===e&&(e=!1),function(){return function(n,r){var i=n.selection,o=n.doc,a=n.schema,s=df(i),l=s.from,c=s.to,u=s.startFromOffset,f=s.startIndex,d=s.endIndex;if(e&&_d(o,a,i))return!1;var h=cd(o,f);if(e&&Dd(l,c,h)||!e&&dd.test(h)){var p=[],v=bc({state:n,from:u,startIndex:f,endIndex:d,createText:function(e){var t=Rd.exec(e);return p.push(t?t[1].length:0),e.replace(Rd,"$2")}}),m={type:"outdent",from:l,to:c,spaceLenList:p};r(v.setSelection(jd(v,m))),pd.test(h)&&t.reorderList(f+1,d+1)}else if(e){var y=h.slice(0,c-u),g=y.replace(/\s{1,4}$/,""),b=c-(y.length-g.length);r(n.tr.delete(b,c))}return!0}}},t.prototype.deleteLines=function(){var e=this;return function(t,n){var r=e.context.view,i=df(t.selection),o=i.startFromOffset,a=i.endToOffset,s=function(){return n(t.tr.deleteRange(o,a)),!0};return Qa(s,ja)(t,n,r)}},t.prototype.moveDown=function(){return function(e,t){var n=e.doc,r=e.tr,i=e.selection,o=e.schema,a=df(i),s=a.startFromOffset,l=a.endToOffset,c=a.endIndex;if(c<n.content.childCount-1){var u=n.child(c+1),f=u.nodeSize,d=u.textContent;return r.delete(l,l+f).split(s).insert(r.mapping.map(s)-2,mc(o,d)),t(r),!0}return!1}},t.prototype.moveUp=function(){return function(e,t){var n=e.tr,r=e.doc,i=e.selection,o=e.schema,a=df(i),s=a.startFromOffset,l=a.endToOffset,c=a.startIndex;if(c>0){var u=r.child(c-1),f=u.nodeSize,d=u.textContent;return n.delete(s-f,s).split(n.mapping.map(l)).insert(n.mapping.map(l),mc(o,d)),t(n),!0}return!1}},t.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},t.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},t}(cu),Id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),t}(cu),Nd=/^#{1,6}\s/,Bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.level,r=t.seText,i="heading|heading"+n;return r&&(i+="|delimiter|setext"),["span",{class:Uu.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.createHeadingText=function(e,t,n){var r=t.replace(n,"").trim(),i="";while(e>0)i+="#",e-=1;return i+" "+r},t.prototype.commands=function(){var e=this;return function(t){return function(n,r){var i=t.level,o=df(n.selection),a=o.startFromOffset,s=o.endToOffset,l=o.startIndex,c=o.endIndex,u=bc({state:n,from:a,startIndex:l,endIndex:c,createText:function(t){var n=t.match(Nd),r=n?n[0]:"";return e.createHeadingText(i,t,r)}});return r(u.setSelection(yc(u,u.mapping.map(s)))),!0}}},t}(sd),zd="```",Hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("code-block")},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){var n=e.selection,r=e.schema,i=e.tr,o=df(n),a=o.startFromOffset,s=o.endToOffset,l=mc(r,zd);return i.insert(a,l).split(a+zd.length),i.split(i.mapping.map(s)).insert(i.mapping.map(s),l),t(i.setSelection(yc(i,i.mapping.map(s)-(zd.length+2)))),!0}}},t.prototype.keepIndentation=function(){var e=this;return function(t,n){var r=t.selection,i=t.tr,o=t.doc,a=t.schema,s=e.context.toastMark,l=df(r),c=l.startFromOffset,u=l.endToOffset,f=l.endIndex,d=l.from,h=l.to,p=cd(o,f);if(d===h&&p.trim()){var v=p.match(/^\s+/),m=s.findFirstNodeAtLine(f+1);if(Mc(m)&&v){var y=v[0],g=p.slice(h-c),b=mc(a,y+g);return wc(i,u,g,b),n(i),!0}}return!1}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-p":e,"Shift-Mod-P":e,Enter:this.keepIndentation()}},t}(sd),Wd=/\||\s/g;function Fd(e){return[Vd(e),Vd(e,!0)]}function Ud(e,t){for(var n=[],r=0;r<t;r+=1)n.push(Vd(e));return n}function Vd(e,t){for(var n="|",r=0;r<e;r+=1)n+=t?" --- |":"  |";return n}function qd(e){return e?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var Yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("table")},0]}}},enumerable:!1,configurable:!0}),t.prototype.extendTable=function(){var e=this;return function(t,n){var r=t.selection,i=t.doc,o=t.tr,a=t.schema;if(!r.empty)return!1;var s=df(r),l=s.endFromOffset,c=s.endToOffset,u=s.endIndex,f=s.to,d=cd(i,u),h=[u+1,f-l+1],p=e.context.toastMark.findNodeAtPosition(h),v=_c(p,(function(e){return Rc(e)&&("tableDelimRow"===e.parent.type||"tableBody"===e.parent.parent.type)}));if(v){var m=!d.replace(Wd,"").trim(),y=v.parent,g=y.parent.parent.columns.length,b=Vd(g);return m?o.deleteRange(l,c).split(o.mapping.map(c)):o.split(c).insert(o.mapping.map(c),mc(a,b)).setSelection(yc(o,o.mapping.map(c)-2)),n(o),!0}return!1}},t.prototype.moveTableCell=function(e){var t=this;return function(n,r){var i=n.selection,o=n.tr,a=df(i),s=a.endFromOffset,l=a.endIndex,c=a.to,u=[l+1,c-s],f=t.context.toastMark.findNodeAtPosition(u),d=_c(f,(function(e){return Rc(e)}));if(d){var h=d.parent,p=qd(e),v=p.type,m=p.parentType,y=p.childType,g=Oc(d);if(d[v])g=Oc(d[v])-1;else{var b=h[v]||h.parent.type!==m?h[v]:h.parent[v][y];if("next"===v){var w=b?Oc(b[y]):0;g+=w+2}else"prev"===v&&(g=b?-4:0)}return r(o.setSelection(yc(o,s+g))),!0}return!1}},t.prototype.addTable=function(){return function(e){return function(t,n){var r=t.selection,i=t.tr,o=t.schema,a=e,s=a.columnCount,l=a.rowCount,c=df(r).endToOffset,u=Fd(s),f=Ud(s,l-1),d=Ws(Ws([],u),f);return d.forEach((function(e){i.split(i.mapping.map(c)).insert(i.mapping.map(c),mc(o,e))})),n(i.setSelection(yc(i,c+4))),!0}}},t.prototype.commands=function(){return{addTable:this.addTable()}},t.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},t}(sd),$d="***",Gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("thematic-break")},0]}}},enumerable:!1,configurable:!0}),t.prototype.hr=function(){return function(){return function(e,t){var n=e.selection,r=e.schema,i=e.tr,o=df(n),a=o.from,s=o.to,l=o.endToOffset,c=mc(r,$d);return i.split(a).replaceWith(i.mapping.map(a),i.mapping.map(s),c).split(i.mapping.map(s)).setSelection(yc(i,i.mapping.map(l))),t(i),!0}}},t.prototype.commands=function(){return{hr:this.hr()}},t.prototype.keymaps=function(){var e=this.hr()();return{"Mod-l":e,"Mod-L":e}},t}(sd);function Xd(e){var t=e.type;return"codeBlock"===t||"heading"===t||-1!==t.indexOf("table")}var Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.odd,r=t.even,i=t.listStyle,o="list-item";return i&&(o+="|list-item-style"),n&&(o+="|list-item-odd"),r&&(o+="|list-item-even"),["span",{class:Uu.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.extendList=function(){var e=this;return function(t,n){var r=t.selection,i=t.doc,o=t.schema,a=t.tr,s=e.context.toastMark,l=df(r),c=l.to,u=l.startFromOffset,f=l.endFromOffset,d=l.endIndex,h=l.endToOffset,p=cd(i,d),v=dd.test(p);if(!v||r.from===u||!r.empty)return!1;var m=!p.replace(vd,"").trim();if(m)a.deleteRange(f,h).split(a.mapping.map(h));else{var y=bd(p),g=s.findFirstNodeAtLine(d+1),b=p.slice(c-f),w={toastMark:s,mdNode:g,doc:i,line:d+1},x=Td[y](w),k=x.listSyntax,S=x.changedResults;if(null===S||void 0===S?void 0:S.length){a.split(c),S.unshift({text:k+b,line:d+1}),e.changeToListPerLine(a,S,{from:c,startLine:S[0].line,endLine:sc(S).line});var O=a.mapping.map(h)-b.length;a.setSelection(yc(a,O))}else{var C=mc(o,k+b);wc(a,h,b,C)}}return n(a),!0}},t.prototype.toList=function(e){var t=this;return function(){return function(n,r){for(var i=n.doc,o=n.tr,a=n.selection,s=t.context.toastMark,l=df(a),c=l.startIndex+1,u=l.endIndex+1,f=l.endToOffset,d=[],h=c;h<=u;h+=1){var p=s.findFirstNodeAtLine(h);if(p&&Xd(p))break;if(-1===d.indexOf(h)){var v={toastMark:s,mdNode:p,doc:i,line:h,startLine:c},m=(Ac(p)?Md[e](v):Ad[e](v)).changedResults,y=t.changeToListPerLine(o,m,{from:hf(i,m[0].line-1).startOffset,startLine:m[0].line,endLine:sc(m).line,indexDiff:1});f=Math.max(y,f),m&&(d=d.concat(m.map((function(e){return e.line}))))}}return r(o.setSelection(yc(o,o.mapping.map(f)))),!0}}},t.prototype.changeToListPerLine=function(e,t,n){for(var r=n.from,i=n.startLine,o=n.endLine,a=n.indexDiff,s=void 0===a?0:a,l=0,c=function(n){var i=e.doc.child(n),o=i.nodeSize,a=i.content,c=e.mapping.map(r),f=c+a.size,d=t.filter((function(e){return e.line-s===n}))[0];d&&(e.replaceWith(c,f,mc(u.context.schema,d.text)),l=Math.max(l,r+a.size)),r+=o},u=this,f=i-s;f<=o-s;f+=1)c(f);return l},t.prototype.toggleTask=function(){var e=this;return function(t,n){for(var r=t.selection,i=t.tr,o=t.doc,a=t.schema,s=e.context.toastMark,l=df(r),c=l.startIndex,u=l.endIndex,f=null,d=c;d<=u;d+=1){var h=s.findFirstNodeAtLine(d+1);if(Ac(h)&&h.listData.task){var p=h.listData,v=p.checked,m=p.padding,y=v?" ":"x",g=h.sourcepos[0],b=hf(o,g[0]-1).startOffset;b+=g[1]+m,f=i.replaceWith(b,b+1,a.text(y))}}return!!f&&(n(f),!0)}},t.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},t.prototype.keymaps=function(){var e=this.toList("bullet")(),t=this.toList("ordered")(),n=this.toList("task")(),r=this.toggleTask();return{"Mod-u":e,"Mod-U":e,"Mod-o":t,"Mod-O":t,"alt-t":n,"alt-T":n,"Shift-Ctrl-x":r,"Shift-Ctrl-X":r,Enter:this.extendList()}},t}(sd);function Zd(e,t){return function(){return function(n,r){var i=n.tr,o=n.selection,a=vu(e)?e:function(t){return e.test(t)},s=t.length,l=i.doc,c=af(o),u=c[0],f=c[1],d=Math.max(u-s,1),h=Math.min(f+s,l.content.size-1),p=o.content(),v=p.content.textBetween(0,p.content.size,"\n"),m=l.textBetween(d,u,"\n"),y=l.textBetween(f,h,"\n");if(v=""+m+v+y,m&&y&&a(v))i.delete(h-s,h).delete(d,d+s);else{i.insertText(t,f).insertText(t,u);var g=o.empty?yc(i,u+s):yc(i,u+s,f+s);i.setSelection(g)}return r(i),!0}}}var Jd=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Qd="**",eh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("strong")},0]}}},enumerable:!1,configurable:!0}),t.prototype.bold=function(){return Zd(Jd,Qd)},t.prototype.commands=function(){return{bold:this.bold()}},t.prototype.keymaps=function(){var e=this.bold()();return{"Mod-b":e,"Mod-B":e}},t}(sd),th=/^(~{2}).*([\s\S]*)\1$/m,nh="~~",rh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("strike")},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return Zd(th,nh)},t.prototype.keymaps=function(){var e=this.commands()();return{"Mod-s":e,"Mod-S":e}},t}(sd),ih=/^(\*|_).*([\s\S]*)\1$/m,oh="*",ah=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("emph")},0]}}},enumerable:!1,configurable:!0}),t.prototype.italic=function(){return Zd(ih,oh)},t.prototype.commands=function(){return{italic:this.italic()}},t.prototype.keymaps=function(){var e=this.italic()();return{"Mod-i":e,"Mod-I":e}},t}(sd),sh=/^(`).*([\s\S]*)\1$/m,lh="`",ch=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.start,r=t.end,i=t.marked,o="code";return n&&(o+="|delimiter|start"),r&&(o+="|delimiter|end"),i&&(o+="|marked-text"),["span",{class:Uu.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return Zd(sh,lh)},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-c":e,"Shift-Mod-C":e}},t}(sd),uh=[{regExp:/\(/g,encoded:"%28",escaped:"\\("},{regExp:/\)/g,encoded:"%29",escaped:"\\)"},{regExp:/\[/g,encoded:"%5B",escaped:"\\["},{regExp:/\]/g,encoded:"%5D",escaped:"\\]"},{regExp:/</g,encoded:"%3C",escaped:"\\<"},{regExp:/>/g,encoded:"%3E",escaped:"\\>"},{regExp:/ /g,encoded:"%20",escaped:" "}];function fh(e){return uh.reduce((function(e,t){var n=t.regExp,r=t.escaped;return e.replace(n,r)}),e)}function dh(e){return uh.reduce((function(e,t){var n=t.regExp,r=t.encoded;return e.replace(n,r)}),e)}var hh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(e){var t=e.attrs,n=t.url,r=t.desc,i="link";return n&&(i+="|link-url|marked-text"),r&&(i+="|link-desc|marked-text"),["span",{class:Uu.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),t.prototype.addLinkOrImage=function(e){return function(t){return function(n,r){var i=n.selection,o=n.tr,a=n.schema,s=af(i),l=s[0],c=s[1],u=t,f=u.linkText,d=u.altText,h=u.linkUrl,p=u.imageUrl,v=f,m=h,y="";return"image"===e&&(v=d,m=p,y="!"),v=fh(v),m=dh(m),y+="["+v+"]("+m+")",r(o.replaceWith(l,c,mc(a,y))),!0}}},t.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},t}(sd),ph=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),t}(sd),vh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("delimiter")},0]}}},enumerable:!1,configurable:!0}),t}(sd),mh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("meta")},0]}}},enumerable:!1,configurable:!0}),t}(sd),yh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("marked-text")},0]}}},enumerable:!1,configurable:!0}),t}(sd),gh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("table-cell")},0]}}},enumerable:!1,configurable:!0}),t}(sd),bh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("html")},0]}}},enumerable:!1,configurable:!0}),t}(sd),wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Uu("custom-block")},0]}}},enumerable:!1,configurable:!0}),t}(sd),xh=/x|backspace/i,kh=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function Sh(e){var t=e.schema,n=e.toastMark;return new cn({props:{handleDOMEvents:{keyup:function(e,r){var i,o=e.state,a=o.doc,s=o.tr,l=o.selection;if(l.empty&&xh.test(r.key)){var c=df(l),u=c.startIndex,f=c.startFromOffset,d=c.from,h=[u+1,d-f+1],p=n.findNodeAtPosition(h),v=_c(p,(function(e){var t;return"paragraph"===e.type&&"item"===(null===(t=e.parent)||void 0===t?void 0:t.type)}));if(null===(i=null===v||void 0===v?void 0:v.firstChild)||void 0===i?void 0:i.literal){var m=v.firstChild,y=m.literal.match(kh);if(y){var g=m.sourcepos[0],b=y[1],w=y[2],x=y[3],k=b.length+x.length,S=hf(a,g[0]-1).startOffset,O=g[1]+S;if(w){var C=k?k+1:0;s.replaceWith(O,C+O,t.text(w)),e.dispatch(s)}else k||(s.insertText(" ",O),e.dispatch(s))}}}return!1}}}})}var Oh="cut",Ch=/\r\n|\n|\r/,Eh=function(e){function t(t,n){var r=e.call(this,t)||this,i=n.toastMark,o=n.useCommandShortcut,a=void 0===o||o,s=n.mdPlugins,l=void 0===s?[]:s;return r.editorType="markdown",r.el.classList.add("md-mode"),r.toastMark=i,r.extraPlugins=l,r.specs=r.createSpecs(),r.schema=r.createSchema(),r.context=r.createContext(),r.keymaps=r.createKeymaps(a),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(Hs(Hs({},r.context),{view:r.view})),r.createClipboard(),r.eventEmitter.listen("changePreviewTabWrite",(function(){return r.toggleActive(!0)})),r.eventEmitter.listen("changePreviewTabPreview",(function(){return r.toggleActive(!1)})),r.initEvent(),r}return zs(t,e),t.prototype.toggleActive=function(e){Zu(this.el,"active",e),e?this.focus():this.blur()},t.prototype.createClipboard=function(){var e=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Fu("pseudo-clipboard"),this.clipboard.addEventListener("paste",(function(t){var n=t.clipboardData||window.clipboardData,r=n&&n.items;if(r){var i=su(r);i&&(t.preventDefault(),au(e.eventEmitter,i,t.type))}})),this.clipboard.addEventListener("input",(function(t){var n=t.target.value;e.replaceSelection(n),t.preventDefault(),t.target.value=""})),this.el.insertBefore(this.clipboard,this.view.dom)},t.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},t.prototype.createSpecs=function(){return new yu([new ad,new Ld,new du,new Id,new Bd,new fd,new Hd,new wh,new Yd,new gh,new Gd,new Kd,new eh,new rh,new ah,new ch,new hh,new vh,new ph,new yh,new mh,new bh])},t.prototype.createPlugins=function(){return this.defaultPlugins.concat(Ws([Xf(this.context),od(this.context),Sh(this.context)],this.createPluginProps()))},t.prototype.createView=function(){var e=this;return new ia(this.el,{state:this.createState(),dispatchTransaction:function(t){e.updateMarkdown(t);var n=e.view.state.applyTransaction(t).state;e.view.updateState(n),e.emitChangeEvent(t)},handleKeyDown:function(t,n){return(n.metaKey||n.ctrlKey)&&"V"===n.key.toUpperCase()&&e.clipboard.focus(),e.eventEmitter.emit("keydown",e.editorType,n),!1},handleDOMEvents:{copy:function(t,n){return e.captureCopy(n)},cut:function(t,n){return e.captureCopy(n,Oh)},scroll:function(){return e.eventEmitter.emit("scroll","editor"),!0},keyup:function(t,n){return e.eventEmitter.emit("keyup",e.editorType,n),!1}},nodeViews:{widget:uu}})},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.captureCopy=function(e,t){e.preventDefault();var n=this.view.state,r=n.selection,i=n.tr;if(r.empty)return!0;var o=this.getChanged(r.content());return e.clipboardData?e.clipboardData.setData("text/plain",o):window.clipboardData.setData("Text",o),t===Oh&&this.view.dispatch(i.deleteSelection().scrollIntoView().setMeta("uiEvent",Oh)),!0},t.prototype.updateMarkdown=function(e){var t=this;e.docChanged&&e.steps.forEach((function(n,r){if(n.slice&&!(n instanceof Qe)){var i=e.docs[r],o=[n.from,n.to],a=o[0],s=o[1],l=cf(i,a,s),c=l[0],u=l[1],f=t.getChanged(n.slice);c[0]===u[0]&&c[1]===u[1]&&""===f&&(f="\n");var d=t.toastMark.editMarkdown(c,u,f);t.eventEmitter.emit("updatePreview",d),e.setMeta("editResult",d).scrollIntoView()}}))},t.prototype.getChanged=function(e){var t="",n=0,r=e.content.size;return e.content.nodesBetween(n,r,(function(e,i){e.isText?t+=e.text.slice(Math.max(n,i)-i,r-i):e.isBlock&&i>0&&(t+="\n")})),t},t.prototype.setSelection=function(e,t){void 0===t&&(t=e);var n=this.view.state.tr,r=ff(n.doc,e,t),i=r[0],o=r[1];this.view.dispatch(n.setSelection(yc(n,i,o)).scrollIntoView())},t.prototype.replaceSelection=function(e,t,n){var r,i=this.view.state,o=i.tr,a=i.schema,s=i.doc,l=e.split(Ch),c=l.map((function(e){return vc(a,Xc(e,a))})),u=new C(b.from(c),1,1);if(this.focus(),t&&n){var f=ff(s,t,n),d=f[0],h=f[1];r=o.replaceRange(d,h,u)}else r=o.replaceSelection(u);this.view.dispatch(r.scrollIntoView())},t.prototype.deleteSelection=function(e,t){var n,r=this.view.state,i=r.tr,o=r.doc;if(e&&t){var a=ff(o,e,t),s=a[0],l=a[1];n=i.deleteRange(s,l)}else n=i.deleteSelection();this.view.dispatch(n.scrollIntoView())},t.prototype.getSelectedText=function(e,t){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,a=i.to;if(e&&t){var s=ff(r,e,t);o=s[0],a=s[1]}return r.textBetween(o,a,"\n")},t.prototype.getSelection=function(){var e=this.view.state.selection,t=e.from,n=e.to;return cf(this.view.state.tr.doc,t,n)},t.prototype.setMarkdown=function(e,t){void 0===t&&(t=!0);var n=e.split(Ch),r=this.view.state,i=r.tr,o=r.doc,a=r.schema,s=n.map((function(e){return vc(a,Xc(e,a))}));this.view.dispatch(i.replaceWith(0,o.content.size,s)),t&&this.moveCursorToEnd()},t.prototype.addWidget=function(e,t,n){var r=this.view.state,i=r.tr,o=r.doc,a=r.selection,s=n?ff(o,n,n)[0]:a.to;this.view.dispatch(i.setMeta("widget",{pos:s,node:e,style:t}))},t.prototype.replaceWithWidget=function(e,t,n){var r=this.view.state,i=r.tr,o=r.schema,a=r.doc,s=ff(a,e,t),l=Xc(n,o);this.view.dispatch(i.replaceWith(s[0],s[1],l))},t.prototype.getRangeInfoOfNode=function(e){var t=this.view.state,n=t.doc,r=t.selection,i=e||cf(n,r.from)[0],o=this.toastMark.findNodeAtPosition(i);return"text"===o.type&&"paragraph"!==o.parent.type&&(o=o.parent),o.sourcepos[1][1]+=1,{range:o.sourcepos,type:o.type}},t.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map((function(e){return Uc(e)})).join("\n")},t.prototype.getToastMark=function(){return this.toastMark},t}(hu),Mh="_feEventKey";function Ah(e,t){var n,r=e[Mh];return r||(r=e[Mh]={}),n=r[t],n||(n=r[t]=[]),n}var Th=Ah,Ph=Gs,Rh=rl,Dh=Th;function _h(e,t,n){Ph(t)?Rh(t.split(/\s+/g),(function(t){jh(e,t,n)})):Rh(t,(function(t,n){jh(e,n,t)}))}function jh(e,t,n){var r,i=Dh(e,t);n?(Rh(i,(function(i,o){return n!==i.handler||(Lh(e,t,i.wrappedHandler),r=o,!1)})),i.splice(r,1)):(Rh(i,(function(n){Lh(e,t,n.wrappedHandler)})),i.splice(0,i.length))}function Lh(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}var Ih=_h,Nh=Gs,Bh=rl,zh=Th;function Hh(e,t,n,r){Nh(t)?Bh(t.split(/\s+/g),(function(t){Wh(e,t,n,r)})):Bh(t,(function(t,r){Wh(e,r,t,n)}))}function Wh(e,t,n,r){function i(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,i):"attachEvent"in e&&e.attachEvent("on"+t,i),Fh(e,t,n,i)}function Fh(e,t,n,r){var i=zh(e,t),o=!1;Bh(i,(function(e){return e.handler!==n||(o=!0,!1)})),o||i.push({handler:n,wrappedHandler:r})}var Uh=Hh,Vh=function(e,t){return Vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Vh(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qh(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Vh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yh=function(){return Yh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yh.apply(this,arguments)};function $h(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var Gh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Xh={};function Kh(e){var t,n,r=Xh[e];if(r)return r;for(r=Xh[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function Zh(e,t,n){var r,i,o,a,s,l="";for("string"!==typeof t&&(n=t,t=Zh.defaultChars),"undefined"===typeof n&&(n=!0),s=Kh(t),r=0,i=e.length;r<i;r++)if(o=e.charCodeAt(r),n&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))l+=e.slice(r,r+3),r+=2;else if(o<128)l+=s[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(a=e.charCodeAt(r+1),a>=56320&&a<=57343)){l+=encodeURIComponent(e[r]+e[r+1]),r++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[r]);return l}Zh.defaultChars=";/?:@&=+$,-_.!~*'()#",Zh.componentChars="-_.!~*'()";var Jh=Zh,Qh={},ep={},tp="Á",np="á",rp="Ă",ip="ă",op="∾",ap="∿",sp="∾̳",lp="Â",cp="â",up="´",fp="А",dp="а",hp="Æ",pp="æ",vp="⁡",mp="𝔄",yp="𝔞",gp="À",bp="à",wp="ℵ",xp="ℵ",kp="Α",Sp="α",Op="Ā",Cp="ā",Ep="⨿",Mp="&",Ap="&",Tp="⩕",Pp="⩓",Rp="∧",Dp="⩜",_p="⩘",jp="⩚",Lp="∠",Ip="⦤",Np="∠",Bp="⦨",zp="⦩",Hp="⦪",Wp="⦫",Fp="⦬",Up="⦭",Vp="⦮",qp="⦯",Yp="∡",$p="∟",Gp="⊾",Xp="⦝",Kp="∢",Zp="Å",Jp="⍼",Qp="Ą",ev="ą",tv="𝔸",nv="𝕒",rv="⩯",iv="≈",ov="⩰",av="≊",sv="≋",lv="'",cv="⁡",uv="≈",fv="≊",dv="Å",hv="å",pv="𝒜",vv="𝒶",mv="≔",yv="*",gv="≈",bv="≍",wv="Ã",xv="ã",kv="Ä",Sv="ä",Ov="∳",Cv="⨑",Ev="≌",Mv="϶",Av="‵",Tv="∽",Pv="⋍",Rv="∖",Dv="⫧",_v="⊽",jv="⌅",Lv="⌆",Iv="⌅",Nv="⎵",Bv="⎶",zv="≌",Hv="Б",Wv="б",Fv="„",Uv="∵",Vv="∵",qv="∵",Yv="⦰",$v="϶",Gv="ℬ",Xv="ℬ",Kv="Β",Zv="β",Jv="ℶ",Qv="≬",em="𝔅",tm="𝔟",nm="⋂",rm="◯",im="⋃",om="⨀",am="⨁",sm="⨂",lm="⨆",cm="★",um="▽",fm="△",dm="⨄",hm="⋁",pm="⋀",vm="⤍",mm="⧫",ym="▪",gm="▴",bm="▾",wm="◂",xm="▸",km="␣",Sm="▒",Om="░",Cm="▓",Em="█",Mm="=⃥",Am="≡⃥",Tm="⫭",Pm="⌐",Rm="𝔹",Dm="𝕓",_m="⊥",jm="⊥",Lm="⋈",Im="⧉",Nm="┐",Bm="╕",zm="╖",Hm="╗",Wm="┌",Fm="╒",Um="╓",Vm="╔",qm="─",Ym="═",$m="┬",Gm="╤",Xm="╥",Km="╦",Zm="┴",Jm="╧",Qm="╨",ey="╩",ty="⊟",ny="⊞",ry="⊠",iy="┘",oy="╛",ay="╜",sy="╝",ly="└",cy="╘",uy="╙",fy="╚",dy="│",hy="║",py="┼",vy="╪",my="╫",yy="╬",gy="┤",by="╡",wy="╢",xy="╣",ky="├",Sy="╞",Oy="╟",Cy="╠",Ey="‵",My="˘",Ay="˘",Ty="¦",Py="𝒷",Ry="ℬ",Dy="⁏",_y="∽",jy="⋍",Ly="⧅",Iy="\\",Ny="⟈",By="•",zy="•",Hy="≎",Wy="⪮",Fy="≏",Uy="≎",Vy="≏",qy="Ć",Yy="ć",$y="⩄",Gy="⩉",Xy="⩋",Ky="∩",Zy="⋒",Jy="⩇",Qy="⩀",eg="ⅅ",tg="∩︀",ng="⁁",rg="ˇ",ig="ℭ",og="⩍",ag="Č",sg="č",lg="Ç",cg="ç",ug="Ĉ",fg="ĉ",dg="∰",hg="⩌",pg="⩐",vg="Ċ",mg="ċ",yg="¸",gg="¸",bg="⦲",wg="¢",xg="·",kg="·",Sg="𝔠",Og="ℭ",Cg="Ч",Eg="ч",Mg="✓",Ag="✓",Tg="Χ",Pg="χ",Rg="ˆ",Dg="≗",_g="↺",jg="↻",Lg="⊛",Ig="⊚",Ng="⊝",Bg="⊙",zg="®",Hg="Ⓢ",Wg="⊖",Fg="⊕",Ug="⊗",Vg="○",qg="⧃",Yg="≗",$g="⨐",Gg="⫯",Xg="⧂",Kg="∲",Zg="”",Jg="’",Qg="♣",eb="♣",tb=":",nb="∷",rb="⩴",ib="≔",ob="≔",ab=",",sb="@",lb="∁",cb="∘",ub="∁",fb="ℂ",db="≅",hb="⩭",pb="≡",vb="∮",mb="∯",yb="∮",gb="𝕔",bb="ℂ",wb="∐",xb="∐",kb="©",Sb="©",Ob="℗",Cb="∳",Eb="↵",Mb="✗",Ab="⨯",Tb="𝒞",Pb="𝒸",Rb="⫏",Db="⫑",_b="⫐",jb="⫒",Lb="⋯",Ib="⤸",Nb="⤵",Bb="⋞",zb="⋟",Hb="↶",Wb="⤽",Fb="⩈",Ub="⩆",Vb="≍",qb="∪",Yb="⋓",$b="⩊",Gb="⊍",Xb="⩅",Kb="∪︀",Zb="↷",Jb="⤼",Qb="⋞",ew="⋟",tw="⋎",nw="⋏",rw="¤",iw="↶",ow="↷",aw="⋎",sw="⋏",lw="∲",cw="∱",uw="⌭",fw="†",dw="‡",hw="ℸ",pw="↓",vw="↡",mw="⇓",yw="‐",gw="⫤",bw="⊣",ww="⤏",xw="˝",kw="Ď",Sw="ď",Ow="Д",Cw="д",Ew="‡",Mw="⇊",Aw="ⅅ",Tw="ⅆ",Pw="⤑",Rw="⩷",Dw="°",_w="∇",jw="Δ",Lw="δ",Iw="⦱",Nw="⥿",Bw="𝔇",zw="𝔡",Hw="⥥",Ww="⇃",Fw="⇂",Uw="´",Vw="˙",qw="˝",Yw="`",$w="˜",Gw="⋄",Xw="⋄",Kw="⋄",Zw="♦",Jw="♦",Qw="¨",ex="ⅆ",tx="ϝ",nx="⋲",rx="÷",ix="÷",ox="⋇",ax="⋇",sx="Ђ",lx="ђ",cx="⌞",ux="⌍",fx="$",dx="𝔻",hx="𝕕",px="¨",vx="˙",mx="⃜",yx="≐",gx="≑",bx="≐",wx="∸",xx="∔",kx="⊡",Sx="⌆",Ox="∯",Cx="¨",Ex="⇓",Mx="⇐",Ax="⇔",Tx="⫤",Px="⟸",Rx="⟺",Dx="⟹",_x="⇒",jx="⊨",Lx="⇑",Ix="⇕",Nx="∥",Bx="⤓",zx="↓",Hx="↓",Wx="⇓",Fx="⇵",Ux="̑",Vx="⇊",qx="⇃",Yx="⇂",$x="⥐",Gx="⥞",Xx="⥖",Kx="↽",Zx="⥟",Jx="⥗",Qx="⇁",ek="↧",tk="⊤",nk="⤐",rk="⌟",ik="⌌",ok="𝒟",ak="𝒹",sk="Ѕ",lk="ѕ",ck="⧶",uk="Đ",fk="đ",dk="⋱",hk="▿",pk="▾",vk="⇵",mk="⥯",yk="⦦",gk="Џ",bk="џ",wk="⟿",xk="É",kk="é",Sk="⩮",Ok="Ě",Ck="ě",Ek="Ê",Mk="ê",Ak="≖",Tk="≕",Pk="Э",Rk="э",Dk="⩷",_k="Ė",jk="ė",Lk="≑",Ik="ⅇ",Nk="≒",Bk="𝔈",zk="𝔢",Hk="⪚",Wk="È",Fk="è",Uk="⪖",Vk="⪘",qk="⪙",Yk="∈",$k="⏧",Gk="ℓ",Xk="⪕",Kk="⪗",Zk="Ē",Jk="ē",Qk="∅",eS="∅",tS="◻",nS="∅",rS="▫",iS=" ",oS=" ",aS=" ",sS="Ŋ",lS="ŋ",cS=" ",uS="Ę",fS="ę",dS="𝔼",hS="𝕖",pS="⋕",vS="⧣",mS="⩱",yS="ε",gS="Ε",bS="ε",wS="ϵ",xS="≖",kS="≕",SS="≂",OS="⪖",CS="⪕",ES="⩵",MS="=",AS="≂",TS="≟",PS="⇌",RS="≡",DS="⩸",_S="⧥",jS="⥱",LS="≓",IS="ℯ",NS="ℰ",BS="≐",zS="⩳",HS="≂",WS="Η",FS="η",US="Ð",VS="ð",qS="Ë",YS="ë",$S="€",GS="!",XS="∃",KS="∃",ZS="ℰ",JS="ⅇ",QS="ⅇ",eO="≒",tO="Ф",nO="ф",rO="♀",iO="ﬃ",oO="ﬀ",aO="ﬄ",sO="𝔉",lO="𝔣",cO="ﬁ",uO="◼",fO="▪",dO="fj",hO="♭",pO="ﬂ",vO="▱",mO="ƒ",yO="𝔽",gO="𝕗",bO="∀",wO="∀",xO="⋔",kO="⫙",SO="ℱ",OO="⨍",CO="½",EO="⅓",MO="¼",AO="⅕",TO="⅙",PO="⅛",RO="⅔",DO="⅖",_O="¾",jO="⅗",LO="⅜",IO="⅘",NO="⅚",BO="⅝",zO="⅞",HO="⁄",WO="⌢",FO="𝒻",UO="ℱ",VO="ǵ",qO="Γ",YO="γ",$O="Ϝ",GO="ϝ",XO="⪆",KO="Ğ",ZO="ğ",JO="Ģ",QO="Ĝ",eC="ĝ",tC="Г",nC="г",rC="Ġ",iC="ġ",oC="≥",aC="≧",sC="⪌",lC="⋛",cC="≥",uC="≧",fC="⩾",dC="⪩",hC="⩾",pC="⪀",vC="⪂",mC="⪄",yC="⋛︀",gC="⪔",bC="𝔊",wC="𝔤",xC="≫",kC="⋙",SC="⋙",OC="ℷ",CC="Ѓ",EC="ѓ",MC="⪥",AC="≷",TC="⪒",PC="⪤",RC="⪊",DC="⪊",_C="⪈",jC="≩",LC="⪈",IC="≩",NC="⋧",BC="𝔾",zC="𝕘",HC="`",WC="≥",FC="⋛",UC="≧",VC="⪢",qC="≷",YC="⩾",$C="≳",GC="𝒢",XC="ℊ",KC="≳",ZC="⪎",JC="⪐",QC="⪧",eE="⩺",tE=">",nE=">",rE="≫",iE="⋗",oE="⦕",aE="⩼",sE="⪆",lE="⥸",cE="⋗",uE="⋛",fE="⪌",dE="≷",hE="≳",pE="≩︀",vE="≩︀",mE="ˇ",yE=" ",gE="½",bE="ℋ",wE="Ъ",xE="ъ",kE="⥈",SE="↔",OE="⇔",CE="↭",EE="^",ME="ℏ",AE="Ĥ",TE="ĥ",PE="♥",RE="♥",DE="…",_E="⊹",jE="𝔥",LE="ℌ",IE="ℋ",NE="⤥",BE="⤦",zE="⇿",HE="∻",WE="↩",FE="↪",UE="𝕙",VE="ℍ",qE="―",YE="─",$E="𝒽",GE="ℋ",XE="ℏ",KE="Ħ",ZE="ħ",JE="≎",QE="≏",eM="⁃",tM="‐",nM="Í",rM="í",iM="⁣",oM="Î",aM="î",sM="И",lM="и",cM="İ",uM="Е",fM="е",dM="¡",hM="⇔",pM="𝔦",vM="ℑ",mM="Ì",yM="ì",gM="ⅈ",bM="⨌",wM="∭",xM="⧜",kM="℩",SM="Ĳ",OM="ĳ",CM="Ī",EM="ī",MM="ℑ",AM="ⅈ",TM="ℐ",PM="ℑ",RM="ı",DM="ℑ",_M="⊷",jM="Ƶ",LM="⇒",IM="℅",NM="∞",BM="⧝",zM="ı",HM="⊺",WM="∫",FM="∬",UM="ℤ",VM="∫",qM="⊺",YM="⋂",$M="⨗",GM="⨼",XM="⁣",KM="⁢",ZM="Ё",JM="ё",QM="Į",eA="į",tA="𝕀",nA="𝕚",rA="Ι",iA="ι",oA="⨼",aA="¿",sA="𝒾",lA="ℐ",cA="∈",uA="⋵",fA="⋹",dA="⋴",hA="⋳",pA="∈",vA="⁢",mA="Ĩ",yA="ĩ",gA="І",bA="і",wA="Ï",xA="ï",kA="Ĵ",SA="ĵ",OA="Й",CA="й",EA="𝔍",MA="𝔧",AA="ȷ",TA="𝕁",PA="𝕛",RA="𝒥",DA="𝒿",_A="Ј",jA="ј",LA="Є",IA="є",NA="Κ",BA="κ",zA="ϰ",HA="Ķ",WA="ķ",FA="К",UA="к",VA="𝔎",qA="𝔨",YA="ĸ",$A="Х",GA="х",XA="Ќ",KA="ќ",ZA="𝕂",JA="𝕜",QA="𝒦",eT="𝓀",tT="⇚",nT="Ĺ",rT="ĺ",iT="⦴",oT="ℒ",aT="Λ",sT="λ",lT="⟨",cT="⟪",uT="⦑",fT="⟨",dT="⪅",hT="ℒ",pT="«",vT="⇤",mT="⤟",yT="←",gT="↞",bT="⇐",wT="⤝",xT="↩",kT="↫",ST="⤹",OT="⥳",CT="↢",ET="⤙",MT="⤛",AT="⪫",TT="⪭",PT="⪭︀",RT="⤌",DT="⤎",_T="❲",jT="{",LT="[",IT="⦋",NT="⦏",BT="⦍",zT="Ľ",HT="ľ",WT="Ļ",FT="ļ",UT="⌈",VT="{",qT="Л",YT="л",$T="⤶",GT="“",XT="„",KT="⥧",ZT="⥋",JT="↲",QT="≤",eP="≦",tP="⟨",nP="⇤",rP="←",iP="←",oP="⇐",aP="⇆",sP="↢",lP="⌈",cP="⟦",uP="⥡",fP="⥙",dP="⇃",hP="⌊",pP="↽",vP="↼",mP="⇇",yP="↔",gP="↔",bP="⇔",wP="⇆",xP="⇋",kP="↭",SP="⥎",OP="↤",CP="⊣",EP="⥚",MP="⋋",AP="⧏",TP="⊲",PP="⊴",RP="⥑",DP="⥠",_P="⥘",jP="↿",LP="⥒",IP="↼",NP="⪋",BP="⋚",zP="≤",HP="≦",WP="⩽",FP="⪨",UP="⩽",VP="⩿",qP="⪁",YP="⪃",$P="⋚︀",GP="⪓",XP="⪅",KP="⋖",ZP="⋚",JP="⪋",QP="⋚",eR="≦",tR="≶",nR="≶",rR="⪡",iR="≲",oR="⩽",aR="≲",sR="⥼",lR="⌊",cR="𝔏",uR="𝔩",fR="≶",dR="⪑",hR="⥢",pR="↽",vR="↼",mR="⥪",yR="▄",gR="Љ",bR="љ",wR="⇇",xR="≪",kR="⋘",SR="⌞",OR="⇚",CR="⥫",ER="◺",MR="Ŀ",AR="ŀ",TR="⎰",PR="⎰",RR="⪉",DR="⪉",_R="⪇",jR="≨",LR="⪇",IR="≨",NR="⋦",BR="⟬",zR="⇽",HR="⟦",WR="⟵",FR="⟵",UR="⟸",VR="⟷",qR="⟷",YR="⟺",$R="⟼",GR="⟶",XR="⟶",KR="⟹",ZR="↫",JR="↬",QR="⦅",eD="𝕃",tD="𝕝",nD="⨭",rD="⨴",iD="∗",oD="_",aD="↙",sD="↘",lD="◊",cD="◊",uD="⧫",fD="(",dD="⦓",hD="⇆",pD="⌟",vD="⇋",mD="⥭",yD="‎",gD="⊿",bD="‹",wD="𝓁",xD="ℒ",kD="↰",SD="↰",OD="≲",CD="⪍",ED="⪏",MD="[",AD="‘",TD="‚",PD="Ł",RD="ł",DD="⪦",_D="⩹",jD="<",LD="<",ID="≪",ND="⋖",BD="⋋",zD="⋉",HD="⥶",WD="⩻",FD="◃",UD="⊴",VD="◂",qD="⦖",YD="⥊",$D="⥦",GD="≨︀",XD="≨︀",KD="¯",ZD="♂",JD="✠",QD="✠",e_="↦",t_="↦",n_="↧",r_="↤",i_="↥",o_="▮",a_="⨩",s_="М",l_="м",c_="—",u_="∺",f_="∡",d_=" ",h_="ℳ",p_="𝔐",v_="𝔪",m_="℧",y_="µ",g_="*",b_="⫰",w_="∣",x_="·",k_="⊟",S_="−",O_="∸",C_="⨪",E_="∓",M_="⫛",A_="…",T_="∓",P_="⊧",R_="𝕄",D_="𝕞",__="∓",j_="𝓂",L_="ℳ",I_="∾",N_="Μ",B_="μ",z_="⊸",H_="⊸",W_="∇",F_="Ń",U_="ń",V_="∠⃒",q_="≉",Y_="⩰̸",$_="≋̸",G_="ŉ",X_="≉",K_="♮",Z_="ℕ",J_="♮",Q_=" ",ej="≎̸",tj="≏̸",nj="⩃",rj="Ň",ij="ň",oj="Ņ",aj="ņ",sj="≇",lj="⩭̸",cj="⩂",uj="Н",fj="н",dj="–",hj="⤤",pj="↗",vj="⇗",mj="↗",yj="≠",gj="≐̸",bj="​",wj="​",xj="​",kj="​",Sj="≢",Oj="⤨",Cj="≂̸",Ej="≫",Mj="≪",Aj="\n",Tj="∄",Pj="∄",Rj="𝔑",Dj="𝔫",_j="≧̸",jj="≱",Lj="≱",Ij="≧̸",Nj="⩾̸",Bj="⩾̸",zj="⋙̸",Hj="≵",Wj="≫⃒",Fj="≯",Uj="≯",Vj="≫̸",qj="↮",Yj="⇎",$j="⫲",Gj="∋",Xj="⋼",Kj="⋺",Zj="∋",Jj="Њ",Qj="њ",eL="↚",tL="⇍",nL="‥",rL="≦̸",iL="≰",oL="↚",aL="⇍",sL="↮",lL="⇎",cL="≰",uL="≦̸",fL="⩽̸",dL="⩽̸",hL="≮",pL="⋘̸",vL="≴",mL="≪⃒",yL="≮",gL="⋪",bL="⋬",wL="≪̸",xL="∤",kL="⁠",SL=" ",OL="𝕟",CL="ℕ",EL="⫬",ML="¬",AL="≢",TL="≭",PL="∦",RL="∉",DL="≠",_L="≂̸",jL="∄",LL="≯",IL="≱",NL="≧̸",BL="≫̸",zL="≹",HL="⩾̸",WL="≵",FL="≎̸",UL="≏̸",VL="∉",qL="⋵̸",YL="⋹̸",$L="∉",GL="⋷",XL="⋶",KL="⧏̸",ZL="⋪",JL="⋬",QL="≮",eI="≰",tI="≸",nI="≪̸",rI="⩽̸",iI="≴",oI="⪢̸",aI="⪡̸",sI="∌",lI="∌",cI="⋾",uI="⋽",fI="⊀",dI="⪯̸",hI="⋠",pI="∌",vI="⧐̸",mI="⋫",yI="⋭",gI="⊏̸",bI="⋢",wI="⊐̸",xI="⋣",kI="⊂⃒",SI="⊈",OI="⊁",CI="⪰̸",EI="⋡",MI="≿̸",AI="⊃⃒",TI="⊉",PI="≁",RI="≄",DI="≇",_I="≉",jI="∤",LI="∦",II="∦",NI="⫽⃥",BI="∂̸",zI="⨔",HI="⊀",WI="⋠",FI="⊀",UI="⪯̸",VI="⪯̸",qI="⤳̸",YI="↛",$I="⇏",GI="↝̸",XI="↛",KI="⇏",ZI="⋫",JI="⋭",QI="⊁",eN="⋡",tN="⪰̸",nN="𝒩",rN="𝓃",iN="∤",oN="∦",aN="≁",sN="≄",lN="≄",cN="∤",uN="∦",fN="⋢",dN="⋣",hN="⊄",pN="⫅̸",vN="⊈",mN="⊂⃒",yN="⊈",gN="⫅̸",bN="⊁",wN="⪰̸",xN="⊅",kN="⫆̸",SN="⊉",ON="⊃⃒",CN="⊉",EN="⫆̸",MN="≹",AN="Ñ",TN="ñ",PN="≸",RN="⋪",DN="⋬",_N="⋫",jN="⋭",LN="Ν",IN="ν",NN="#",BN="№",zN=" ",HN="≍⃒",WN="⊬",FN="⊭",UN="⊮",VN="⊯",qN="≥⃒",YN=">⃒",$N="⤄",GN="⧞",XN="⤂",KN="≤⃒",ZN="<⃒",JN="⊴⃒",QN="⤃",eB="⊵⃒",tB="∼⃒",nB="⤣",rB="↖",iB="⇖",oB="↖",aB="⤧",sB="Ó",lB="ó",cB="⊛",uB="Ô",fB="ô",dB="⊚",hB="О",pB="о",vB="⊝",mB="Ő",yB="ő",gB="⨸",bB="⊙",wB="⦼",xB="Œ",kB="œ",SB="⦿",OB="𝔒",CB="𝔬",EB="˛",MB="Ò",AB="ò",TB="⧁",PB="⦵",RB="Ω",DB="∮",_B="↺",jB="⦾",LB="⦻",IB="‾",NB="⧀",BB="Ō",zB="ō",HB="Ω",WB="ω",FB="Ο",UB="ο",VB="⦶",qB="⊖",YB="𝕆",$B="𝕠",GB="⦷",XB="“",KB="‘",ZB="⦹",JB="⊕",QB="↻",ez="⩔",tz="∨",nz="⩝",rz="ℴ",iz="ℴ",oz="ª",az="º",sz="⊶",lz="⩖",cz="⩗",uz="⩛",fz="Ⓢ",dz="𝒪",hz="ℴ",pz="Ø",vz="ø",mz="⊘",yz="Õ",gz="õ",bz="⨶",wz="⨷",xz="⊗",kz="Ö",Sz="ö",Oz="⌽",Cz="‾",Ez="⏞",Mz="⎴",Az="⏜",Tz="¶",Pz="∥",Rz="∥",Dz="⫳",_z="⫽",jz="∂",Lz="∂",Iz="П",Nz="п",Bz="%",zz=".",Hz="‰",Wz="⊥",Fz="‱",Uz="𝔓",Vz="𝔭",qz="Φ",Yz="φ",$z="ϕ",Gz="ℳ",Xz="☎",Kz="Π",Zz="π",Jz="⋔",Qz="ϖ",eH="ℏ",tH="ℎ",nH="ℏ",rH="⨣",iH="⊞",oH="⨢",aH="+",sH="∔",lH="⨥",cH="⩲",uH="±",fH="±",dH="⨦",hH="⨧",pH="±",vH="ℌ",mH="⨕",yH="𝕡",gH="ℙ",bH="£",wH="⪷",xH="⪻",kH="≺",SH="≼",OH="⪷",CH="≺",EH="≼",MH="≺",AH="⪯",TH="≼",PH="≾",RH="⪯",DH="⪹",_H="⪵",jH="⋨",LH="⪯",IH="⪳",NH="≾",BH="′",zH="″",HH="ℙ",WH="⪹",FH="⪵",UH="⋨",VH="∏",qH="∏",YH="⌮",$H="⌒",GH="⌓",XH="∝",KH="∝",ZH="∷",JH="∝",QH="≾",eW="⊰",tW="𝒫",nW="𝓅",rW="Ψ",iW="ψ",oW=" ",aW="𝔔",sW="𝔮",lW="⨌",cW="𝕢",uW="ℚ",fW="⁗",dW="𝒬",hW="𝓆",pW="ℍ",vW="⨖",mW="?",yW="≟",gW='"',bW='"',wW="⇛",xW="∽̱",kW="Ŕ",SW="ŕ",OW="√",CW="⦳",EW="⟩",MW="⟫",AW="⦒",TW="⦥",PW="⟩",RW="»",DW="⥵",_W="⇥",jW="⤠",LW="⤳",IW="→",NW="↠",BW="⇒",zW="⤞",HW="↪",WW="↬",FW="⥅",UW="⥴",VW="⤖",qW="↣",YW="↝",$W="⤚",GW="⤜",XW="∶",KW="ℚ",ZW="⤍",JW="⤏",QW="⤐",eF="❳",tF="}",nF="]",rF="⦌",iF="⦎",oF="⦐",aF="Ř",sF="ř",lF="Ŗ",cF="ŗ",uF="⌉",fF="}",dF="Р",hF="р",pF="⤷",vF="⥩",mF="”",yF="”",gF="↳",bF="ℜ",wF="ℛ",xF="ℜ",kF="ℝ",SF="ℜ",OF="▭",CF="®",EF="®",MF="∋",AF="⇋",TF="⥯",PF="⥽",RF="⌋",DF="𝔯",_F="ℜ",jF="⥤",LF="⇁",IF="⇀",NF="⥬",BF="Ρ",zF="ρ",HF="ϱ",WF="⟩",FF="⇥",UF="→",VF="→",qF="⇒",YF="⇄",$F="↣",GF="⌉",XF="⟧",KF="⥝",ZF="⥕",JF="⇂",QF="⌋",eU="⇁",tU="⇀",nU="⇄",rU="⇌",iU="⇉",oU="↝",aU="↦",sU="⊢",lU="⥛",cU="⋌",uU="⧐",fU="⊳",dU="⊵",hU="⥏",pU="⥜",vU="⥔",mU="↾",yU="⥓",gU="⇀",bU="˚",wU="≓",xU="⇄",kU="⇌",SU="‏",OU="⎱",CU="⎱",EU="⫮",MU="⟭",AU="⇾",TU="⟧",PU="⦆",RU="𝕣",DU="ℝ",_U="⨮",jU="⨵",LU="⥰",IU=")",NU="⦔",BU="⨒",zU="⇉",HU="⇛",WU="›",FU="𝓇",UU="ℛ",VU="↱",qU="↱",YU="]",$U="’",GU="’",XU="⋌",KU="⋊",ZU="▹",JU="⊵",QU="▸",eV="⧎",tV="⧴",nV="⥨",rV="℞",iV="Ś",oV="ś",aV="‚",sV="⪸",lV="Š",cV="š",uV="⪼",fV="≻",dV="≽",hV="⪰",pV="⪴",vV="Ş",mV="ş",yV="Ŝ",gV="ŝ",bV="⪺",wV="⪶",xV="⋩",kV="⨓",SV="≿",OV="С",CV="с",EV="⊡",MV="⋅",AV="⩦",TV="⤥",PV="↘",RV="⇘",DV="↘",_V="§",jV=";",LV="⤩",IV="∖",NV="∖",BV="✶",zV="𝔖",HV="𝔰",WV="⌢",FV="♯",UV="Щ",VV="щ",qV="Ш",YV="ш",$V="↓",GV="←",XV="∣",KV="∥",ZV="→",JV="↑",QV="­",eq="Σ",tq="σ",nq="ς",rq="ς",iq="∼",oq="⩪",aq="≃",sq="≃",lq="⪞",cq="⪠",uq="⪝",fq="⪟",dq="≆",hq="⨤",pq="⥲",vq="←",mq="∘",yq="∖",gq="⨳",bq="⧤",wq="∣",xq="⌣",kq="⪪",Sq="⪬",Oq="⪬︀",Cq="Ь",Eq="ь",Mq="⌿",Aq="⧄",Tq="/",Pq="𝕊",Rq="𝕤",Dq="♠",_q="♠",jq="∥",Lq="⊓",Iq="⊓︀",Nq="⊔",Bq="⊔︀",zq="√",Hq="⊏",Wq="⊑",Fq="⊏",Uq="⊑",Vq="⊐",qq="⊒",Yq="⊐",$q="⊒",Gq="□",Xq="□",Kq="⊓",Zq="⊏",Jq="⊑",Qq="⊐",eY="⊒",tY="⊔",nY="▪",rY="□",iY="▪",oY="→",aY="𝒮",sY="𝓈",lY="∖",cY="⌣",uY="⋆",fY="⋆",dY="☆",hY="★",pY="ϵ",vY="ϕ",mY="¯",yY="⊂",gY="⋐",bY="⪽",wY="⫅",xY="⊆",kY="⫃",SY="⫁",OY="⫋",CY="⊊",EY="⪿",MY="⥹",AY="⊂",TY="⋐",PY="⊆",RY="⫅",DY="⊆",_Y="⊊",jY="⫋",LY="⫇",IY="⫕",NY="⫓",BY="⪸",zY="≻",HY="≽",WY="≻",FY="⪰",UY="≽",VY="≿",qY="⪰",YY="⪺",$Y="⪶",GY="⋩",XY="≿",KY="∋",ZY="∑",JY="∑",QY="♪",e$="¹",t$="²",n$="³",r$="⊃",i$="⋑",o$="⪾",a$="⫘",s$="⫆",l$="⊇",c$="⫄",u$="⊃",f$="⊇",d$="⟉",h$="⫗",p$="⥻",v$="⫂",m$="⫌",y$="⊋",g$="⫀",b$="⊃",w$="⋑",x$="⊇",k$="⫆",S$="⊋",O$="⫌",C$="⫈",E$="⫔",M$="⫖",A$="⤦",T$="↙",P$="⇙",R$="↙",D$="⤪",_$="ß",j$="\t",L$="⌖",I$="Τ",N$="τ",B$="⎴",z$="Ť",H$="ť",W$="Ţ",F$="ţ",U$="Т",V$="т",q$="⃛",Y$="⌕",$$="𝔗",G$="𝔱",X$="∴",K$="∴",Z$="∴",J$="Θ",Q$="θ",eG="ϑ",tG="ϑ",nG="≈",rG="∼",iG="  ",oG=" ",aG=" ",sG="≈",lG="∼",cG="Þ",uG="þ",fG="˜",dG="∼",hG="≃",pG="≅",vG="≈",mG="⨱",yG="⊠",gG="×",bG="⨰",wG="∭",xG="⤨",kG="⌶",SG="⫱",OG="⊤",CG="𝕋",EG="𝕥",MG="⫚",AG="⤩",TG="‴",PG="™",RG="™",DG="▵",_G="▿",jG="◃",LG="⊴",IG="≜",NG="▹",BG="⊵",zG="◬",HG="≜",WG="⨺",FG="⃛",UG="⨹",VG="⧍",qG="⨻",YG="⏢",$G="𝒯",GG="𝓉",XG="Ц",KG="ц",ZG="Ћ",JG="ћ",QG="Ŧ",eX="ŧ",tX="≬",nX="↞",rX="↠",iX="Ú",oX="ú",aX="↑",sX="↟",lX="⇑",cX="⥉",uX="Ў",fX="ў",dX="Ŭ",hX="ŭ",pX="Û",vX="û",mX="У",yX="у",gX="⇅",bX="Ű",wX="ű",xX="⥮",kX="⥾",SX="𝔘",OX="𝔲",CX="Ù",EX="ù",MX="⥣",AX="↿",TX="↾",PX="▀",RX="⌜",DX="⌜",_X="⌏",jX="◸",LX="Ū",IX="ū",NX="¨",BX="_",zX="⏟",HX="⎵",WX="⏝",FX="⋃",UX="⊎",VX="Ų",qX="ų",YX="𝕌",$X="𝕦",GX="⤒",XX="↑",KX="↑",ZX="⇑",JX="⇅",QX="↕",eK="↕",tK="⇕",nK="⥮",rK="↿",iK="↾",oK="⊎",aK="↖",sK="↗",lK="υ",cK="ϒ",uK="ϒ",fK="Υ",dK="υ",hK="↥",pK="⊥",vK="⇈",mK="⌝",yK="⌝",gK="⌎",bK="Ů",wK="ů",xK="◹",kK="𝒰",SK="𝓊",OK="⋰",CK="Ũ",EK="ũ",MK="▵",AK="▴",TK="⇈",PK="Ü",RK="ü",DK="⦧",_K="⦜",jK="ϵ",LK="ϰ",IK="∅",NK="ϕ",BK="ϖ",zK="∝",HK="↕",WK="⇕",FK="ϱ",UK="ς",VK="⊊︀",qK="⫋︀",YK="⊋︀",$K="⫌︀",GK="ϑ",XK="⊲",KK="⊳",ZK="⫨",JK="⫫",QK="⫩",eZ="В",tZ="в",nZ="⊢",rZ="⊨",iZ="⊩",oZ="⊫",aZ="⫦",sZ="⊻",lZ="∨",cZ="⋁",uZ="≚",fZ="⋮",dZ="|",hZ="‖",pZ="|",vZ="‖",mZ="∣",yZ="|",gZ="❘",bZ="≀",wZ=" ",xZ="𝔙",kZ="𝔳",SZ="⊲",OZ="⊂⃒",CZ="⊃⃒",EZ="𝕍",MZ="𝕧",AZ="∝",TZ="⊳",PZ="𝒱",RZ="𝓋",DZ="⫋︀",_Z="⊊︀",jZ="⫌︀",LZ="⊋︀",IZ="⊪",NZ="⦚",BZ="Ŵ",zZ="ŵ",HZ="⩟",WZ="∧",FZ="⋀",UZ="≙",VZ="℘",qZ="𝔚",YZ="𝔴",$Z="𝕎",GZ="𝕨",XZ="℘",KZ="≀",ZZ="≀",JZ="𝒲",QZ="𝓌",eJ="⋂",tJ="◯",nJ="⋃",rJ="▽",iJ="𝔛",oJ="𝔵",aJ="⟷",sJ="⟺",lJ="Ξ",cJ="ξ",uJ="⟵",fJ="⟸",dJ="⟼",hJ="⋻",pJ="⨀",vJ="𝕏",mJ="𝕩",yJ="⨁",gJ="⨂",bJ="⟶",wJ="⟹",xJ="𝒳",kJ="𝓍",SJ="⨆",OJ="⨄",CJ="△",EJ="⋁",MJ="⋀",AJ="Ý",TJ="ý",PJ="Я",RJ="я",DJ="Ŷ",_J="ŷ",jJ="Ы",LJ="ы",IJ="¥",NJ="𝔜",BJ="𝔶",zJ="Ї",HJ="ї",WJ="𝕐",FJ="𝕪",UJ="𝒴",VJ="𝓎",qJ="Ю",YJ="ю",$J="ÿ",GJ="Ÿ",XJ="Ź",KJ="ź",ZJ="Ž",JJ="ž",QJ="З",eQ="з",tQ="Ż",nQ="ż",rQ="ℨ",iQ="​",oQ="Ζ",aQ="ζ",sQ="𝔷",lQ="ℨ",cQ="Ж",uQ="ж",fQ="⇝",dQ="𝕫",hQ="ℤ",pQ="𝒵",vQ="𝓏",mQ="‍",yQ="‌",gQ={Aacute:tp,aacute:np,Abreve:rp,abreve:ip,ac:op,acd:ap,acE:sp,Acirc:lp,acirc:cp,acute:up,Acy:fp,acy:dp,AElig:hp,aelig:pp,af:vp,Afr:mp,afr:yp,Agrave:gp,agrave:bp,alefsym:wp,aleph:xp,Alpha:kp,alpha:Sp,Amacr:Op,amacr:Cp,amalg:Ep,amp:Mp,AMP:Ap,andand:Tp,And:Pp,and:Rp,andd:Dp,andslope:_p,andv:jp,ang:Lp,ange:Ip,angle:Np,angmsdaa:Bp,angmsdab:zp,angmsdac:Hp,angmsdad:Wp,angmsdae:Fp,angmsdaf:Up,angmsdag:Vp,angmsdah:qp,angmsd:Yp,angrt:$p,angrtvb:Gp,angrtvbd:Xp,angsph:Kp,angst:Zp,angzarr:Jp,Aogon:Qp,aogon:ev,Aopf:tv,aopf:nv,apacir:rv,ap:iv,apE:ov,ape:av,apid:sv,apos:lv,ApplyFunction:cv,approx:uv,approxeq:fv,Aring:dv,aring:hv,Ascr:pv,ascr:vv,Assign:mv,ast:yv,asymp:gv,asympeq:bv,Atilde:wv,atilde:xv,Auml:kv,auml:Sv,awconint:Ov,awint:Cv,backcong:Ev,backepsilon:Mv,backprime:Av,backsim:Tv,backsimeq:Pv,Backslash:Rv,Barv:Dv,barvee:_v,barwed:jv,Barwed:Lv,barwedge:Iv,bbrk:Nv,bbrktbrk:Bv,bcong:zv,Bcy:Hv,bcy:Wv,bdquo:Fv,becaus:Uv,because:Vv,Because:qv,bemptyv:Yv,bepsi:$v,bernou:Gv,Bernoullis:Xv,Beta:Kv,beta:Zv,beth:Jv,between:Qv,Bfr:em,bfr:tm,bigcap:nm,bigcirc:rm,bigcup:im,bigodot:om,bigoplus:am,bigotimes:sm,bigsqcup:lm,bigstar:cm,bigtriangledown:um,bigtriangleup:fm,biguplus:dm,bigvee:hm,bigwedge:pm,bkarow:vm,blacklozenge:mm,blacksquare:ym,blacktriangle:gm,blacktriangledown:bm,blacktriangleleft:wm,blacktriangleright:xm,blank:km,blk12:Sm,blk14:Om,blk34:Cm,block:Em,bne:Mm,bnequiv:Am,bNot:Tm,bnot:Pm,Bopf:Rm,bopf:Dm,bot:_m,bottom:jm,bowtie:Lm,boxbox:Im,boxdl:Nm,boxdL:Bm,boxDl:zm,boxDL:Hm,boxdr:Wm,boxdR:Fm,boxDr:Um,boxDR:Vm,boxh:qm,boxH:Ym,boxhd:$m,boxHd:Gm,boxhD:Xm,boxHD:Km,boxhu:Zm,boxHu:Jm,boxhU:Qm,boxHU:ey,boxminus:ty,boxplus:ny,boxtimes:ry,boxul:iy,boxuL:oy,boxUl:ay,boxUL:sy,boxur:ly,boxuR:cy,boxUr:uy,boxUR:fy,boxv:dy,boxV:hy,boxvh:py,boxvH:vy,boxVh:my,boxVH:yy,boxvl:gy,boxvL:by,boxVl:wy,boxVL:xy,boxvr:ky,boxvR:Sy,boxVr:Oy,boxVR:Cy,bprime:Ey,breve:My,Breve:Ay,brvbar:Ty,bscr:Py,Bscr:Ry,bsemi:Dy,bsim:_y,bsime:jy,bsolb:Ly,bsol:Iy,bsolhsub:Ny,bull:By,bullet:zy,bump:Hy,bumpE:Wy,bumpe:Fy,Bumpeq:Uy,bumpeq:Vy,Cacute:qy,cacute:Yy,capand:$y,capbrcup:Gy,capcap:Xy,cap:Ky,Cap:Zy,capcup:Jy,capdot:Qy,CapitalDifferentialD:eg,caps:tg,caret:ng,caron:rg,Cayleys:ig,ccaps:og,Ccaron:ag,ccaron:sg,Ccedil:lg,ccedil:cg,Ccirc:ug,ccirc:fg,Cconint:dg,ccups:hg,ccupssm:pg,Cdot:vg,cdot:mg,cedil:yg,Cedilla:gg,cemptyv:bg,cent:wg,centerdot:xg,CenterDot:kg,cfr:Sg,Cfr:Og,CHcy:Cg,chcy:Eg,check:Mg,checkmark:Ag,Chi:Tg,chi:Pg,circ:Rg,circeq:Dg,circlearrowleft:_g,circlearrowright:jg,circledast:Lg,circledcirc:Ig,circleddash:Ng,CircleDot:Bg,circledR:zg,circledS:Hg,CircleMinus:Wg,CirclePlus:Fg,CircleTimes:Ug,cir:Vg,cirE:qg,cire:Yg,cirfnint:$g,cirmid:Gg,cirscir:Xg,ClockwiseContourIntegral:Kg,CloseCurlyDoubleQuote:Zg,CloseCurlyQuote:Jg,clubs:Qg,clubsuit:eb,colon:tb,Colon:nb,Colone:rb,colone:ib,coloneq:ob,comma:ab,commat:sb,comp:lb,compfn:cb,complement:ub,complexes:fb,cong:db,congdot:hb,Congruent:pb,conint:vb,Conint:mb,ContourIntegral:yb,copf:gb,Copf:bb,coprod:wb,Coproduct:xb,copy:kb,COPY:Sb,copysr:Ob,CounterClockwiseContourIntegral:Cb,crarr:Eb,cross:Mb,Cross:Ab,Cscr:Tb,cscr:Pb,csub:Rb,csube:Db,csup:_b,csupe:jb,ctdot:Lb,cudarrl:Ib,cudarrr:Nb,cuepr:Bb,cuesc:zb,cularr:Hb,cularrp:Wb,cupbrcap:Fb,cupcap:Ub,CupCap:Vb,cup:qb,Cup:Yb,cupcup:$b,cupdot:Gb,cupor:Xb,cups:Kb,curarr:Zb,curarrm:Jb,curlyeqprec:Qb,curlyeqsucc:ew,curlyvee:tw,curlywedge:nw,curren:rw,curvearrowleft:iw,curvearrowright:ow,cuvee:aw,cuwed:sw,cwconint:lw,cwint:cw,cylcty:uw,dagger:fw,Dagger:dw,daleth:hw,darr:pw,Darr:vw,dArr:mw,dash:yw,Dashv:gw,dashv:bw,dbkarow:ww,dblac:xw,Dcaron:kw,dcaron:Sw,Dcy:Ow,dcy:Cw,ddagger:Ew,ddarr:Mw,DD:Aw,dd:Tw,DDotrahd:Pw,ddotseq:Rw,deg:Dw,Del:_w,Delta:jw,delta:Lw,demptyv:Iw,dfisht:Nw,Dfr:Bw,dfr:zw,dHar:Hw,dharl:Ww,dharr:Fw,DiacriticalAcute:Uw,DiacriticalDot:Vw,DiacriticalDoubleAcute:qw,DiacriticalGrave:Yw,DiacriticalTilde:$w,diam:Gw,diamond:Xw,Diamond:Kw,diamondsuit:Zw,diams:Jw,die:Qw,DifferentialD:ex,digamma:tx,disin:nx,div:rx,divide:ix,divideontimes:ox,divonx:ax,DJcy:sx,djcy:lx,dlcorn:cx,dlcrop:ux,dollar:fx,Dopf:dx,dopf:hx,Dot:px,dot:vx,DotDot:mx,doteq:yx,doteqdot:gx,DotEqual:bx,dotminus:wx,dotplus:xx,dotsquare:kx,doublebarwedge:Sx,DoubleContourIntegral:Ox,DoubleDot:Cx,DoubleDownArrow:Ex,DoubleLeftArrow:Mx,DoubleLeftRightArrow:Ax,DoubleLeftTee:Tx,DoubleLongLeftArrow:Px,DoubleLongLeftRightArrow:Rx,DoubleLongRightArrow:Dx,DoubleRightArrow:_x,DoubleRightTee:jx,DoubleUpArrow:Lx,DoubleUpDownArrow:Ix,DoubleVerticalBar:Nx,DownArrowBar:Bx,downarrow:zx,DownArrow:Hx,Downarrow:Wx,DownArrowUpArrow:Fx,DownBreve:Ux,downdownarrows:Vx,downharpoonleft:qx,downharpoonright:Yx,DownLeftRightVector:$x,DownLeftTeeVector:Gx,DownLeftVectorBar:Xx,DownLeftVector:Kx,DownRightTeeVector:Zx,DownRightVectorBar:Jx,DownRightVector:Qx,DownTeeArrow:ek,DownTee:tk,drbkarow:nk,drcorn:rk,drcrop:ik,Dscr:ok,dscr:ak,DScy:sk,dscy:lk,dsol:ck,Dstrok:uk,dstrok:fk,dtdot:dk,dtri:hk,dtrif:pk,duarr:vk,duhar:mk,dwangle:yk,DZcy:gk,dzcy:bk,dzigrarr:wk,Eacute:xk,eacute:kk,easter:Sk,Ecaron:Ok,ecaron:Ck,Ecirc:Ek,ecirc:Mk,ecir:Ak,ecolon:Tk,Ecy:Pk,ecy:Rk,eDDot:Dk,Edot:_k,edot:jk,eDot:Lk,ee:Ik,efDot:Nk,Efr:Bk,efr:zk,eg:Hk,Egrave:Wk,egrave:Fk,egs:Uk,egsdot:Vk,el:qk,Element:Yk,elinters:$k,ell:Gk,els:Xk,elsdot:Kk,Emacr:Zk,emacr:Jk,empty:Qk,emptyset:eS,EmptySmallSquare:tS,emptyv:nS,EmptyVerySmallSquare:rS,emsp13:iS,emsp14:oS,emsp:aS,ENG:sS,eng:lS,ensp:cS,Eogon:uS,eogon:fS,Eopf:dS,eopf:hS,epar:pS,eparsl:vS,eplus:mS,epsi:yS,Epsilon:gS,epsilon:bS,epsiv:wS,eqcirc:xS,eqcolon:kS,eqsim:SS,eqslantgtr:OS,eqslantless:CS,Equal:ES,equals:MS,EqualTilde:AS,equest:TS,Equilibrium:PS,equiv:RS,equivDD:DS,eqvparsl:_S,erarr:jS,erDot:LS,escr:IS,Escr:NS,esdot:BS,Esim:zS,esim:HS,Eta:WS,eta:FS,ETH:US,eth:VS,Euml:qS,euml:YS,euro:$S,excl:GS,exist:XS,Exists:KS,expectation:ZS,exponentiale:JS,ExponentialE:QS,fallingdotseq:eO,Fcy:tO,fcy:nO,female:rO,ffilig:iO,fflig:oO,ffllig:aO,Ffr:sO,ffr:lO,filig:cO,FilledSmallSquare:uO,FilledVerySmallSquare:fO,fjlig:dO,flat:hO,fllig:pO,fltns:vO,fnof:mO,Fopf:yO,fopf:gO,forall:bO,ForAll:wO,fork:xO,forkv:kO,Fouriertrf:SO,fpartint:OO,frac12:CO,frac13:EO,frac14:MO,frac15:AO,frac16:TO,frac18:PO,frac23:RO,frac25:DO,frac34:_O,frac35:jO,frac38:LO,frac45:IO,frac56:NO,frac58:BO,frac78:zO,frasl:HO,frown:WO,fscr:FO,Fscr:UO,gacute:VO,Gamma:qO,gamma:YO,Gammad:$O,gammad:GO,gap:XO,Gbreve:KO,gbreve:ZO,Gcedil:JO,Gcirc:QO,gcirc:eC,Gcy:tC,gcy:nC,Gdot:rC,gdot:iC,ge:oC,gE:aC,gEl:sC,gel:lC,geq:cC,geqq:uC,geqslant:fC,gescc:dC,ges:hC,gesdot:pC,gesdoto:vC,gesdotol:mC,gesl:yC,gesles:gC,Gfr:bC,gfr:wC,gg:xC,Gg:kC,ggg:SC,gimel:OC,GJcy:CC,gjcy:EC,gla:MC,gl:AC,glE:TC,glj:PC,gnap:RC,gnapprox:DC,gne:_C,gnE:jC,gneq:LC,gneqq:IC,gnsim:NC,Gopf:BC,gopf:zC,grave:HC,GreaterEqual:WC,GreaterEqualLess:FC,GreaterFullEqual:UC,GreaterGreater:VC,GreaterLess:qC,GreaterSlantEqual:YC,GreaterTilde:$C,Gscr:GC,gscr:XC,gsim:KC,gsime:ZC,gsiml:JC,gtcc:QC,gtcir:eE,gt:tE,GT:nE,Gt:rE,gtdot:iE,gtlPar:oE,gtquest:aE,gtrapprox:sE,gtrarr:lE,gtrdot:cE,gtreqless:uE,gtreqqless:fE,gtrless:dE,gtrsim:hE,gvertneqq:pE,gvnE:vE,Hacek:mE,hairsp:yE,half:gE,hamilt:bE,HARDcy:wE,hardcy:xE,harrcir:kE,harr:SE,hArr:OE,harrw:CE,Hat:EE,hbar:ME,Hcirc:AE,hcirc:TE,hearts:PE,heartsuit:RE,hellip:DE,hercon:_E,hfr:jE,Hfr:LE,HilbertSpace:IE,hksearow:NE,hkswarow:BE,hoarr:zE,homtht:HE,hookleftarrow:WE,hookrightarrow:FE,hopf:UE,Hopf:VE,horbar:qE,HorizontalLine:YE,hscr:$E,Hscr:GE,hslash:XE,Hstrok:KE,hstrok:ZE,HumpDownHump:JE,HumpEqual:QE,hybull:eM,hyphen:tM,Iacute:nM,iacute:rM,ic:iM,Icirc:oM,icirc:aM,Icy:sM,icy:lM,Idot:cM,IEcy:uM,iecy:fM,iexcl:dM,iff:hM,ifr:pM,Ifr:vM,Igrave:mM,igrave:yM,ii:gM,iiiint:bM,iiint:wM,iinfin:xM,iiota:kM,IJlig:SM,ijlig:OM,Imacr:CM,imacr:EM,image:MM,ImaginaryI:AM,imagline:TM,imagpart:PM,imath:RM,Im:DM,imof:_M,imped:jM,Implies:LM,incare:IM,in:"∈",infin:NM,infintie:BM,inodot:zM,intcal:HM,int:WM,Int:FM,integers:UM,Integral:VM,intercal:qM,Intersection:YM,intlarhk:$M,intprod:GM,InvisibleComma:XM,InvisibleTimes:KM,IOcy:ZM,iocy:JM,Iogon:QM,iogon:eA,Iopf:tA,iopf:nA,Iota:rA,iota:iA,iprod:oA,iquest:aA,iscr:sA,Iscr:lA,isin:cA,isindot:uA,isinE:fA,isins:dA,isinsv:hA,isinv:pA,it:vA,Itilde:mA,itilde:yA,Iukcy:gA,iukcy:bA,Iuml:wA,iuml:xA,Jcirc:kA,jcirc:SA,Jcy:OA,jcy:CA,Jfr:EA,jfr:MA,jmath:AA,Jopf:TA,jopf:PA,Jscr:RA,jscr:DA,Jsercy:_A,jsercy:jA,Jukcy:LA,jukcy:IA,Kappa:NA,kappa:BA,kappav:zA,Kcedil:HA,kcedil:WA,Kcy:FA,kcy:UA,Kfr:VA,kfr:qA,kgreen:YA,KHcy:$A,khcy:GA,KJcy:XA,kjcy:KA,Kopf:ZA,kopf:JA,Kscr:QA,kscr:eT,lAarr:tT,Lacute:nT,lacute:rT,laemptyv:iT,lagran:oT,Lambda:aT,lambda:sT,lang:lT,Lang:cT,langd:uT,langle:fT,lap:dT,Laplacetrf:hT,laquo:pT,larrb:vT,larrbfs:mT,larr:yT,Larr:gT,lArr:bT,larrfs:wT,larrhk:xT,larrlp:kT,larrpl:ST,larrsim:OT,larrtl:CT,latail:ET,lAtail:MT,lat:AT,late:TT,lates:PT,lbarr:RT,lBarr:DT,lbbrk:_T,lbrace:jT,lbrack:LT,lbrke:IT,lbrksld:NT,lbrkslu:BT,Lcaron:zT,lcaron:HT,Lcedil:WT,lcedil:FT,lceil:UT,lcub:VT,Lcy:qT,lcy:YT,ldca:$T,ldquo:GT,ldquor:XT,ldrdhar:KT,ldrushar:ZT,ldsh:JT,le:QT,lE:eP,LeftAngleBracket:tP,LeftArrowBar:nP,leftarrow:rP,LeftArrow:iP,Leftarrow:oP,LeftArrowRightArrow:aP,leftarrowtail:sP,LeftCeiling:lP,LeftDoubleBracket:cP,LeftDownTeeVector:uP,LeftDownVectorBar:fP,LeftDownVector:dP,LeftFloor:hP,leftharpoondown:pP,leftharpoonup:vP,leftleftarrows:mP,leftrightarrow:yP,LeftRightArrow:gP,Leftrightarrow:bP,leftrightarrows:wP,leftrightharpoons:xP,leftrightsquigarrow:kP,LeftRightVector:SP,LeftTeeArrow:OP,LeftTee:CP,LeftTeeVector:EP,leftthreetimes:MP,LeftTriangleBar:AP,LeftTriangle:TP,LeftTriangleEqual:PP,LeftUpDownVector:RP,LeftUpTeeVector:DP,LeftUpVectorBar:_P,LeftUpVector:jP,LeftVectorBar:LP,LeftVector:IP,lEg:NP,leg:BP,leq:zP,leqq:HP,leqslant:WP,lescc:FP,les:UP,lesdot:VP,lesdoto:qP,lesdotor:YP,lesg:$P,lesges:GP,lessapprox:XP,lessdot:KP,lesseqgtr:ZP,lesseqqgtr:JP,LessEqualGreater:QP,LessFullEqual:eR,LessGreater:tR,lessgtr:nR,LessLess:rR,lesssim:iR,LessSlantEqual:oR,LessTilde:aR,lfisht:sR,lfloor:lR,Lfr:cR,lfr:uR,lg:fR,lgE:dR,lHar:hR,lhard:pR,lharu:vR,lharul:mR,lhblk:yR,LJcy:gR,ljcy:bR,llarr:wR,ll:xR,Ll:kR,llcorner:SR,Lleftarrow:OR,llhard:CR,lltri:ER,Lmidot:MR,lmidot:AR,lmoustache:TR,lmoust:PR,lnap:RR,lnapprox:DR,lne:_R,lnE:jR,lneq:LR,lneqq:IR,lnsim:NR,loang:BR,loarr:zR,lobrk:HR,longleftarrow:WR,LongLeftArrow:FR,Longleftarrow:UR,longleftrightarrow:VR,LongLeftRightArrow:qR,Longleftrightarrow:YR,longmapsto:$R,longrightarrow:GR,LongRightArrow:XR,Longrightarrow:KR,looparrowleft:ZR,looparrowright:JR,lopar:QR,Lopf:eD,lopf:tD,loplus:nD,lotimes:rD,lowast:iD,lowbar:oD,LowerLeftArrow:aD,LowerRightArrow:sD,loz:lD,lozenge:cD,lozf:uD,lpar:fD,lparlt:dD,lrarr:hD,lrcorner:pD,lrhar:vD,lrhard:mD,lrm:yD,lrtri:gD,lsaquo:bD,lscr:wD,Lscr:xD,lsh:kD,Lsh:SD,lsim:OD,lsime:CD,lsimg:ED,lsqb:MD,lsquo:AD,lsquor:TD,Lstrok:PD,lstrok:RD,ltcc:DD,ltcir:_D,lt:jD,LT:LD,Lt:ID,ltdot:ND,lthree:BD,ltimes:zD,ltlarr:HD,ltquest:WD,ltri:FD,ltrie:UD,ltrif:VD,ltrPar:qD,lurdshar:YD,luruhar:$D,lvertneqq:GD,lvnE:XD,macr:KD,male:ZD,malt:JD,maltese:QD,Map:"⤅",map:e_,mapsto:t_,mapstodown:n_,mapstoleft:r_,mapstoup:i_,marker:o_,mcomma:a_,Mcy:s_,mcy:l_,mdash:c_,mDDot:u_,measuredangle:f_,MediumSpace:d_,Mellintrf:h_,Mfr:p_,mfr:v_,mho:m_,micro:y_,midast:g_,midcir:b_,mid:w_,middot:x_,minusb:k_,minus:S_,minusd:O_,minusdu:C_,MinusPlus:E_,mlcp:M_,mldr:A_,mnplus:T_,models:P_,Mopf:R_,mopf:D_,mp:__,mscr:j_,Mscr:L_,mstpos:I_,Mu:N_,mu:B_,multimap:z_,mumap:H_,nabla:W_,Nacute:F_,nacute:U_,nang:V_,nap:q_,napE:Y_,napid:$_,napos:G_,napprox:X_,natural:K_,naturals:Z_,natur:J_,nbsp:Q_,nbump:ej,nbumpe:tj,ncap:nj,Ncaron:rj,ncaron:ij,Ncedil:oj,ncedil:aj,ncong:sj,ncongdot:lj,ncup:cj,Ncy:uj,ncy:fj,ndash:dj,nearhk:hj,nearr:pj,neArr:vj,nearrow:mj,ne:yj,nedot:gj,NegativeMediumSpace:bj,NegativeThickSpace:wj,NegativeThinSpace:xj,NegativeVeryThinSpace:kj,nequiv:Sj,nesear:Oj,nesim:Cj,NestedGreaterGreater:Ej,NestedLessLess:Mj,NewLine:Aj,nexist:Tj,nexists:Pj,Nfr:Rj,nfr:Dj,ngE:_j,nge:jj,ngeq:Lj,ngeqq:Ij,ngeqslant:Nj,nges:Bj,nGg:zj,ngsim:Hj,nGt:Wj,ngt:Fj,ngtr:Uj,nGtv:Vj,nharr:qj,nhArr:Yj,nhpar:$j,ni:Gj,nis:Xj,nisd:Kj,niv:Zj,NJcy:Jj,njcy:Qj,nlarr:eL,nlArr:tL,nldr:nL,nlE:rL,nle:iL,nleftarrow:oL,nLeftarrow:aL,nleftrightarrow:sL,nLeftrightarrow:lL,nleq:cL,nleqq:uL,nleqslant:fL,nles:dL,nless:hL,nLl:pL,nlsim:vL,nLt:mL,nlt:yL,nltri:gL,nltrie:bL,nLtv:wL,nmid:xL,NoBreak:kL,NonBreakingSpace:SL,nopf:OL,Nopf:CL,Not:EL,not:ML,NotCongruent:AL,NotCupCap:TL,NotDoubleVerticalBar:PL,NotElement:RL,NotEqual:DL,NotEqualTilde:_L,NotExists:jL,NotGreater:LL,NotGreaterEqual:IL,NotGreaterFullEqual:NL,NotGreaterGreater:BL,NotGreaterLess:zL,NotGreaterSlantEqual:HL,NotGreaterTilde:WL,NotHumpDownHump:FL,NotHumpEqual:UL,notin:VL,notindot:qL,notinE:YL,notinva:$L,notinvb:GL,notinvc:XL,NotLeftTriangleBar:KL,NotLeftTriangle:ZL,NotLeftTriangleEqual:JL,NotLess:QL,NotLessEqual:eI,NotLessGreater:tI,NotLessLess:nI,NotLessSlantEqual:rI,NotLessTilde:iI,NotNestedGreaterGreater:oI,NotNestedLessLess:aI,notni:sI,notniva:lI,notnivb:cI,notnivc:uI,NotPrecedes:fI,NotPrecedesEqual:dI,NotPrecedesSlantEqual:hI,NotReverseElement:pI,NotRightTriangleBar:vI,NotRightTriangle:mI,NotRightTriangleEqual:yI,NotSquareSubset:gI,NotSquareSubsetEqual:bI,NotSquareSuperset:wI,NotSquareSupersetEqual:xI,NotSubset:kI,NotSubsetEqual:SI,NotSucceeds:OI,NotSucceedsEqual:CI,NotSucceedsSlantEqual:EI,NotSucceedsTilde:MI,NotSuperset:AI,NotSupersetEqual:TI,NotTilde:PI,NotTildeEqual:RI,NotTildeFullEqual:DI,NotTildeTilde:_I,NotVerticalBar:jI,nparallel:LI,npar:II,nparsl:NI,npart:BI,npolint:zI,npr:HI,nprcue:WI,nprec:FI,npreceq:UI,npre:VI,nrarrc:qI,nrarr:YI,nrArr:$I,nrarrw:GI,nrightarrow:XI,nRightarrow:KI,nrtri:ZI,nrtrie:JI,nsc:QI,nsccue:eN,nsce:tN,Nscr:nN,nscr:rN,nshortmid:iN,nshortparallel:oN,nsim:aN,nsime:sN,nsimeq:lN,nsmid:cN,nspar:uN,nsqsube:fN,nsqsupe:dN,nsub:hN,nsubE:pN,nsube:vN,nsubset:mN,nsubseteq:yN,nsubseteqq:gN,nsucc:bN,nsucceq:wN,nsup:xN,nsupE:kN,nsupe:SN,nsupset:ON,nsupseteq:CN,nsupseteqq:EN,ntgl:MN,Ntilde:AN,ntilde:TN,ntlg:PN,ntriangleleft:RN,ntrianglelefteq:DN,ntriangleright:_N,ntrianglerighteq:jN,Nu:LN,nu:IN,num:NN,numero:BN,numsp:zN,nvap:HN,nvdash:WN,nvDash:FN,nVdash:UN,nVDash:VN,nvge:qN,nvgt:YN,nvHarr:$N,nvinfin:GN,nvlArr:XN,nvle:KN,nvlt:ZN,nvltrie:JN,nvrArr:QN,nvrtrie:eB,nvsim:tB,nwarhk:nB,nwarr:rB,nwArr:iB,nwarrow:oB,nwnear:aB,Oacute:sB,oacute:lB,oast:cB,Ocirc:uB,ocirc:fB,ocir:dB,Ocy:hB,ocy:pB,odash:vB,Odblac:mB,odblac:yB,odiv:gB,odot:bB,odsold:wB,OElig:xB,oelig:kB,ofcir:SB,Ofr:OB,ofr:CB,ogon:EB,Ograve:MB,ograve:AB,ogt:TB,ohbar:PB,ohm:RB,oint:DB,olarr:_B,olcir:jB,olcross:LB,oline:IB,olt:NB,Omacr:BB,omacr:zB,Omega:HB,omega:WB,Omicron:FB,omicron:UB,omid:VB,ominus:qB,Oopf:YB,oopf:$B,opar:GB,OpenCurlyDoubleQuote:XB,OpenCurlyQuote:KB,operp:ZB,oplus:JB,orarr:QB,Or:ez,or:tz,ord:nz,order:rz,orderof:iz,ordf:oz,ordm:az,origof:sz,oror:lz,orslope:cz,orv:uz,oS:fz,Oscr:dz,oscr:hz,Oslash:pz,oslash:vz,osol:mz,Otilde:yz,otilde:gz,otimesas:bz,Otimes:wz,otimes:xz,Ouml:kz,ouml:Sz,ovbar:Oz,OverBar:Cz,OverBrace:Ez,OverBracket:Mz,OverParenthesis:Az,para:Tz,parallel:Pz,par:Rz,parsim:Dz,parsl:_z,part:jz,PartialD:Lz,Pcy:Iz,pcy:Nz,percnt:Bz,period:zz,permil:Hz,perp:Wz,pertenk:Fz,Pfr:Uz,pfr:Vz,Phi:qz,phi:Yz,phiv:$z,phmmat:Gz,phone:Xz,Pi:Kz,pi:Zz,pitchfork:Jz,piv:Qz,planck:eH,planckh:tH,plankv:nH,plusacir:rH,plusb:iH,pluscir:oH,plus:aH,plusdo:sH,plusdu:lH,pluse:cH,PlusMinus:uH,plusmn:fH,plussim:dH,plustwo:hH,pm:pH,Poincareplane:vH,pointint:mH,popf:yH,Popf:gH,pound:bH,prap:wH,Pr:xH,pr:kH,prcue:SH,precapprox:OH,prec:CH,preccurlyeq:EH,Precedes:MH,PrecedesEqual:AH,PrecedesSlantEqual:TH,PrecedesTilde:PH,preceq:RH,precnapprox:DH,precneqq:_H,precnsim:jH,pre:LH,prE:IH,precsim:NH,prime:BH,Prime:zH,primes:HH,prnap:WH,prnE:FH,prnsim:UH,prod:VH,Product:qH,profalar:YH,profline:$H,profsurf:GH,prop:XH,Proportional:KH,Proportion:ZH,propto:JH,prsim:QH,prurel:eW,Pscr:tW,pscr:nW,Psi:rW,psi:iW,puncsp:oW,Qfr:aW,qfr:sW,qint:lW,qopf:cW,Qopf:uW,qprime:fW,Qscr:dW,qscr:hW,quaternions:pW,quatint:vW,quest:mW,questeq:yW,quot:gW,QUOT:bW,rAarr:wW,race:xW,Racute:kW,racute:SW,radic:OW,raemptyv:CW,rang:EW,Rang:MW,rangd:AW,range:TW,rangle:PW,raquo:RW,rarrap:DW,rarrb:_W,rarrbfs:jW,rarrc:LW,rarr:IW,Rarr:NW,rArr:BW,rarrfs:zW,rarrhk:HW,rarrlp:WW,rarrpl:FW,rarrsim:UW,Rarrtl:VW,rarrtl:qW,rarrw:YW,ratail:$W,rAtail:GW,ratio:XW,rationals:KW,rbarr:ZW,rBarr:JW,RBarr:QW,rbbrk:eF,rbrace:tF,rbrack:nF,rbrke:rF,rbrksld:iF,rbrkslu:oF,Rcaron:aF,rcaron:sF,Rcedil:lF,rcedil:cF,rceil:uF,rcub:fF,Rcy:dF,rcy:hF,rdca:pF,rdldhar:vF,rdquo:mF,rdquor:yF,rdsh:gF,real:bF,realine:wF,realpart:xF,reals:kF,Re:SF,rect:OF,reg:CF,REG:EF,ReverseElement:MF,ReverseEquilibrium:AF,ReverseUpEquilibrium:TF,rfisht:PF,rfloor:RF,rfr:DF,Rfr:_F,rHar:jF,rhard:LF,rharu:IF,rharul:NF,Rho:BF,rho:zF,rhov:HF,RightAngleBracket:WF,RightArrowBar:FF,rightarrow:UF,RightArrow:VF,Rightarrow:qF,RightArrowLeftArrow:YF,rightarrowtail:$F,RightCeiling:GF,RightDoubleBracket:XF,RightDownTeeVector:KF,RightDownVectorBar:ZF,RightDownVector:JF,RightFloor:QF,rightharpoondown:eU,rightharpoonup:tU,rightleftarrows:nU,rightleftharpoons:rU,rightrightarrows:iU,rightsquigarrow:oU,RightTeeArrow:aU,RightTee:sU,RightTeeVector:lU,rightthreetimes:cU,RightTriangleBar:uU,RightTriangle:fU,RightTriangleEqual:dU,RightUpDownVector:hU,RightUpTeeVector:pU,RightUpVectorBar:vU,RightUpVector:mU,RightVectorBar:yU,RightVector:gU,ring:bU,risingdotseq:wU,rlarr:xU,rlhar:kU,rlm:SU,rmoustache:OU,rmoust:CU,rnmid:EU,roang:MU,roarr:AU,robrk:TU,ropar:PU,ropf:RU,Ropf:DU,roplus:_U,rotimes:jU,RoundImplies:LU,rpar:IU,rpargt:NU,rppolint:BU,rrarr:zU,Rrightarrow:HU,rsaquo:WU,rscr:FU,Rscr:UU,rsh:VU,Rsh:qU,rsqb:YU,rsquo:$U,rsquor:GU,rthree:XU,rtimes:KU,rtri:ZU,rtrie:JU,rtrif:QU,rtriltri:eV,RuleDelayed:tV,ruluhar:nV,rx:rV,Sacute:iV,sacute:oV,sbquo:aV,scap:sV,Scaron:lV,scaron:cV,Sc:uV,sc:fV,sccue:dV,sce:hV,scE:pV,Scedil:vV,scedil:mV,Scirc:yV,scirc:gV,scnap:bV,scnE:wV,scnsim:xV,scpolint:kV,scsim:SV,Scy:OV,scy:CV,sdotb:EV,sdot:MV,sdote:AV,searhk:TV,searr:PV,seArr:RV,searrow:DV,sect:_V,semi:jV,seswar:LV,setminus:IV,setmn:NV,sext:BV,Sfr:zV,sfr:HV,sfrown:WV,sharp:FV,SHCHcy:UV,shchcy:VV,SHcy:qV,shcy:YV,ShortDownArrow:$V,ShortLeftArrow:GV,shortmid:XV,shortparallel:KV,ShortRightArrow:ZV,ShortUpArrow:JV,shy:QV,Sigma:eq,sigma:tq,sigmaf:nq,sigmav:rq,sim:iq,simdot:oq,sime:aq,simeq:sq,simg:lq,simgE:cq,siml:uq,simlE:fq,simne:dq,simplus:hq,simrarr:pq,slarr:vq,SmallCircle:mq,smallsetminus:yq,smashp:gq,smeparsl:bq,smid:wq,smile:xq,smt:kq,smte:Sq,smtes:Oq,SOFTcy:Cq,softcy:Eq,solbar:Mq,solb:Aq,sol:Tq,Sopf:Pq,sopf:Rq,spades:Dq,spadesuit:_q,spar:jq,sqcap:Lq,sqcaps:Iq,sqcup:Nq,sqcups:Bq,Sqrt:zq,sqsub:Hq,sqsube:Wq,sqsubset:Fq,sqsubseteq:Uq,sqsup:Vq,sqsupe:qq,sqsupset:Yq,sqsupseteq:$q,square:Gq,Square:Xq,SquareIntersection:Kq,SquareSubset:Zq,SquareSubsetEqual:Jq,SquareSuperset:Qq,SquareSupersetEqual:eY,SquareUnion:tY,squarf:nY,squ:rY,squf:iY,srarr:oY,Sscr:aY,sscr:sY,ssetmn:lY,ssmile:cY,sstarf:uY,Star:fY,star:dY,starf:hY,straightepsilon:pY,straightphi:vY,strns:mY,sub:yY,Sub:gY,subdot:bY,subE:wY,sube:xY,subedot:kY,submult:SY,subnE:OY,subne:CY,subplus:EY,subrarr:MY,subset:AY,Subset:TY,subseteq:PY,subseteqq:RY,SubsetEqual:DY,subsetneq:_Y,subsetneqq:jY,subsim:LY,subsub:IY,subsup:NY,succapprox:BY,succ:zY,succcurlyeq:HY,Succeeds:WY,SucceedsEqual:FY,SucceedsSlantEqual:UY,SucceedsTilde:VY,succeq:qY,succnapprox:YY,succneqq:$Y,succnsim:GY,succsim:XY,SuchThat:KY,sum:ZY,Sum:JY,sung:QY,sup1:e$,sup2:t$,sup3:n$,sup:r$,Sup:i$,supdot:o$,supdsub:a$,supE:s$,supe:l$,supedot:c$,Superset:u$,SupersetEqual:f$,suphsol:d$,suphsub:h$,suplarr:p$,supmult:v$,supnE:m$,supne:y$,supplus:g$,supset:b$,Supset:w$,supseteq:x$,supseteqq:k$,supsetneq:S$,supsetneqq:O$,supsim:C$,supsub:E$,supsup:M$,swarhk:A$,swarr:T$,swArr:P$,swarrow:R$,swnwar:D$,szlig:_$,Tab:j$,target:L$,Tau:I$,tau:N$,tbrk:B$,Tcaron:z$,tcaron:H$,Tcedil:W$,tcedil:F$,Tcy:U$,tcy:V$,tdot:q$,telrec:Y$,Tfr:$$,tfr:G$,there4:X$,therefore:K$,Therefore:Z$,Theta:J$,theta:Q$,thetasym:eG,thetav:tG,thickapprox:nG,thicksim:rG,ThickSpace:iG,ThinSpace:oG,thinsp:aG,thkap:sG,thksim:lG,THORN:cG,thorn:uG,tilde:fG,Tilde:dG,TildeEqual:hG,TildeFullEqual:pG,TildeTilde:vG,timesbar:mG,timesb:yG,times:gG,timesd:bG,tint:wG,toea:xG,topbot:kG,topcir:SG,top:OG,Topf:CG,topf:EG,topfork:MG,tosa:AG,tprime:TG,trade:PG,TRADE:RG,triangle:DG,triangledown:_G,triangleleft:jG,trianglelefteq:LG,triangleq:IG,triangleright:NG,trianglerighteq:BG,tridot:zG,trie:HG,triminus:WG,TripleDot:FG,triplus:UG,trisb:VG,tritime:qG,trpezium:YG,Tscr:$G,tscr:GG,TScy:XG,tscy:KG,TSHcy:ZG,tshcy:JG,Tstrok:QG,tstrok:eX,twixt:tX,twoheadleftarrow:nX,twoheadrightarrow:rX,Uacute:iX,uacute:oX,uarr:aX,Uarr:sX,uArr:lX,Uarrocir:cX,Ubrcy:uX,ubrcy:fX,Ubreve:dX,ubreve:hX,Ucirc:pX,ucirc:vX,Ucy:mX,ucy:yX,udarr:gX,Udblac:bX,udblac:wX,udhar:xX,ufisht:kX,Ufr:SX,ufr:OX,Ugrave:CX,ugrave:EX,uHar:MX,uharl:AX,uharr:TX,uhblk:PX,ulcorn:RX,ulcorner:DX,ulcrop:_X,ultri:jX,Umacr:LX,umacr:IX,uml:NX,UnderBar:BX,UnderBrace:zX,UnderBracket:HX,UnderParenthesis:WX,Union:FX,UnionPlus:UX,Uogon:VX,uogon:qX,Uopf:YX,uopf:$X,UpArrowBar:GX,uparrow:XX,UpArrow:KX,Uparrow:ZX,UpArrowDownArrow:JX,updownarrow:QX,UpDownArrow:eK,Updownarrow:tK,UpEquilibrium:nK,upharpoonleft:rK,upharpoonright:iK,uplus:oK,UpperLeftArrow:aK,UpperRightArrow:sK,upsi:lK,Upsi:cK,upsih:uK,Upsilon:fK,upsilon:dK,UpTeeArrow:hK,UpTee:pK,upuparrows:vK,urcorn:mK,urcorner:yK,urcrop:gK,Uring:bK,uring:wK,urtri:xK,Uscr:kK,uscr:SK,utdot:OK,Utilde:CK,utilde:EK,utri:MK,utrif:AK,uuarr:TK,Uuml:PK,uuml:RK,uwangle:DK,vangrt:_K,varepsilon:jK,varkappa:LK,varnothing:IK,varphi:NK,varpi:BK,varpropto:zK,varr:HK,vArr:WK,varrho:FK,varsigma:UK,varsubsetneq:VK,varsubsetneqq:qK,varsupsetneq:YK,varsupsetneqq:$K,vartheta:GK,vartriangleleft:XK,vartriangleright:KK,vBar:ZK,Vbar:JK,vBarv:QK,Vcy:eZ,vcy:tZ,vdash:nZ,vDash:rZ,Vdash:iZ,VDash:oZ,Vdashl:aZ,veebar:sZ,vee:lZ,Vee:cZ,veeeq:uZ,vellip:fZ,verbar:dZ,Verbar:hZ,vert:pZ,Vert:vZ,VerticalBar:mZ,VerticalLine:yZ,VerticalSeparator:gZ,VerticalTilde:bZ,VeryThinSpace:wZ,Vfr:xZ,vfr:kZ,vltri:SZ,vnsub:OZ,vnsup:CZ,Vopf:EZ,vopf:MZ,vprop:AZ,vrtri:TZ,Vscr:PZ,vscr:RZ,vsubnE:DZ,vsubne:_Z,vsupnE:jZ,vsupne:LZ,Vvdash:IZ,vzigzag:NZ,Wcirc:BZ,wcirc:zZ,wedbar:HZ,wedge:WZ,Wedge:FZ,wedgeq:UZ,weierp:VZ,Wfr:qZ,wfr:YZ,Wopf:$Z,wopf:GZ,wp:XZ,wr:KZ,wreath:ZZ,Wscr:JZ,wscr:QZ,xcap:eJ,xcirc:tJ,xcup:nJ,xdtri:rJ,Xfr:iJ,xfr:oJ,xharr:aJ,xhArr:sJ,Xi:lJ,xi:cJ,xlarr:uJ,xlArr:fJ,xmap:dJ,xnis:hJ,xodot:pJ,Xopf:vJ,xopf:mJ,xoplus:yJ,xotime:gJ,xrarr:bJ,xrArr:wJ,Xscr:xJ,xscr:kJ,xsqcup:SJ,xuplus:OJ,xutri:CJ,xvee:EJ,xwedge:MJ,Yacute:AJ,yacute:TJ,YAcy:PJ,yacy:RJ,Ycirc:DJ,ycirc:_J,Ycy:jJ,ycy:LJ,yen:IJ,Yfr:NJ,yfr:BJ,YIcy:zJ,yicy:HJ,Yopf:WJ,yopf:FJ,Yscr:UJ,yscr:VJ,YUcy:qJ,yucy:YJ,yuml:$J,Yuml:GJ,Zacute:XJ,zacute:KJ,Zcaron:ZJ,zcaron:JJ,Zcy:QJ,zcy:eQ,Zdot:tQ,zdot:nQ,zeetrf:rQ,ZeroWidthSpace:iQ,Zeta:oQ,zeta:aQ,zfr:sQ,Zfr:lQ,ZHcy:cQ,zhcy:uQ,zigrarr:fQ,zopf:dQ,Zopf:hQ,Zscr:pQ,zscr:vQ,zwj:mQ,zwnj:yQ},bQ="Á",wQ="á",xQ="Â",kQ="â",SQ="´",OQ="Æ",CQ="æ",EQ="À",MQ="à",AQ="&",TQ="&",PQ="Å",RQ="å",DQ="Ã",_Q="ã",jQ="Ä",LQ="ä",IQ="¦",NQ="Ç",BQ="ç",zQ="¸",HQ="¢",WQ="©",FQ="©",UQ="¤",VQ="°",qQ="÷",YQ="É",$Q="é",GQ="Ê",XQ="ê",KQ="È",ZQ="è",JQ="Ð",QQ="ð",e0="Ë",t0="ë",n0="½",r0="¼",i0="¾",o0=">",a0=">",s0="Í",l0="í",c0="Î",u0="î",f0="¡",d0="Ì",h0="ì",p0="¿",v0="Ï",m0="ï",y0="«",g0="<",b0="<",w0="¯",x0="µ",k0="·",S0=" ",O0="¬",C0="Ñ",E0="ñ",M0="Ó",A0="ó",T0="Ô",P0="ô",R0="Ò",D0="ò",_0="ª",j0="º",L0="Ø",I0="ø",N0="Õ",B0="õ",z0="Ö",H0="ö",W0="¶",F0="±",U0="£",V0='"',q0='"',Y0="»",$0="®",G0="®",X0="§",K0="­",Z0="¹",J0="²",Q0="³",e1="ß",t1="Þ",n1="þ",r1="×",i1="Ú",o1="ú",a1="Û",s1="û",l1="Ù",c1="ù",u1="¨",f1="Ü",d1="ü",h1="Ý",p1="ý",v1="¥",m1="ÿ",y1={Aacute:bQ,aacute:wQ,Acirc:xQ,acirc:kQ,acute:SQ,AElig:OQ,aelig:CQ,Agrave:EQ,agrave:MQ,amp:AQ,AMP:TQ,Aring:PQ,aring:RQ,Atilde:DQ,atilde:_Q,Auml:jQ,auml:LQ,brvbar:IQ,Ccedil:NQ,ccedil:BQ,cedil:zQ,cent:HQ,copy:WQ,COPY:FQ,curren:UQ,deg:VQ,divide:qQ,Eacute:YQ,eacute:$Q,Ecirc:GQ,ecirc:XQ,Egrave:KQ,egrave:ZQ,ETH:JQ,eth:QQ,Euml:e0,euml:t0,frac12:n0,frac14:r0,frac34:i0,gt:o0,GT:a0,Iacute:s0,iacute:l0,Icirc:c0,icirc:u0,iexcl:f0,Igrave:d0,igrave:h0,iquest:p0,Iuml:v0,iuml:m0,laquo:y0,lt:g0,LT:b0,macr:w0,micro:x0,middot:k0,nbsp:S0,not:O0,Ntilde:C0,ntilde:E0,Oacute:M0,oacute:A0,Ocirc:T0,ocirc:P0,Ograve:R0,ograve:D0,ordf:_0,ordm:j0,Oslash:L0,oslash:I0,Otilde:N0,otilde:B0,Ouml:z0,ouml:H0,para:W0,plusmn:F0,pound:U0,quot:V0,QUOT:q0,raquo:Y0,reg:$0,REG:G0,sect:X0,shy:K0,sup1:Z0,sup2:J0,sup3:Q0,szlig:e1,THORN:t1,thorn:n1,times:r1,Uacute:i1,uacute:o1,Ucirc:a1,ucirc:s1,Ugrave:l1,ugrave:c1,uml:u1,Uuml:f1,uuml:d1,Yacute:h1,yacute:p1,yen:v1,yuml:m1},g1="&",b1="'",w1=">",x1="<",k1='"',S1={amp:g1,apos:b1,gt:w1,lt:x1,quot:k1},O1={},C1={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},E1=Gh&&Gh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(O1,"__esModule",{value:!0});var M1=E1(C1),A1=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function T1(e){return e>=55296&&e<=57343||e>1114111?"�":(e in M1.default&&(e=M1.default[e]),A1(e))}O1.default=T1;var P1=Gh&&Gh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ep,"__esModule",{value:!0}),ep.decodeHTML=ep.decodeHTMLStrict=ep.decodeXML=void 0;var R1=P1(gQ),D1=P1(y1),_1=P1(S1),j1=P1(O1),L1=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function I1(e){var t=B1(e);return function(e){return String(e).replace(L1,t)}}ep.decodeXML=I1(_1.default),ep.decodeHTMLStrict=I1(R1.default);var N1=function(e,t){return e<t?1:-1};function B1(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?j1.default(parseInt(t.substr(3),16)):j1.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}ep.decodeHTML=function(){for(var e=Object.keys(D1.default).sort(N1),t=Object.keys(R1.default).sort(N1),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var i=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=B1(R1.default);function a(e){return";"!==e.substr(-1)&&(e+=";"),o(e)}return function(e){return String(e).replace(i,a)}}();var z1={},H1=Gh&&Gh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z1,"__esModule",{value:!0}),z1.escapeUTF8=z1.escape=z1.encodeNonAsciiHTML=z1.encodeHTML=z1.encodeXML=void 0;var W1=H1(S1),F1=$1(W1.default),U1=G1(F1);z1.encodeXML=n2(F1);var V1=H1(gQ),q1=$1(V1.default),Y1=G1(q1);function $1(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function G1(e){for(var t=[],n=[],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];1===o.length?t.push("\\"+o):n.push(o)}t.sort();for(var a=0;a<t.length-1;a++){var s=a;while(s<t.length-1&&t[s].charCodeAt(1)+1===t[s+1].charCodeAt(1))s+=1;var l=1+s-a;l<3||t.splice(a,l,t[a]+"-"+t[s])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}z1.encodeHTML=J1(q1,Y1),z1.encodeNonAsciiHTML=n2(q1);var X1=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,K1=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function Z1(e){return"&#x"+(e.length>1?K1(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}function J1(e,t){return function(n){return n.replace(t,(function(t){return e[t]})).replace(X1,Z1)}}var Q1=new RegExp(U1.source+"|"+X1.source,"g");function e2(e){return e.replace(Q1,Z1)}function t2(e){return e.replace(U1,Z1)}function n2(e){return function(t){return t.replace(Q1,(function(t){return e[t]||Z1(t)}))}}z1.escape=e2,z1.escapeUTF8=t2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=ep,n=z1;function r(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTML)(e)}function i(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTMLStrict)(e)}function o(e,t){return(!t||t<=0?n.encodeXML:n.encodeHTML)(e)}e.decode=r,e.decodeStrict=i,e.encode=o;var a=z1;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var s=ep;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})}(Qh);var r2="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",i2=92,o2=/[\\&]/,a2="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",s2=new RegExp("\\\\"+a2+"|"+r2,"gi"),l2='[&<>"]',c2=new RegExp(l2,"g"),u2=function(e){return e.charCodeAt(0)===i2?e.charAt(1):Qh.decodeHTML(e)};function f2(e){return o2.test(e)?e.replace(s2,u2):e}function d2(e){try{return Jh(e)}catch(t){return e}}function h2(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}function p2(e){return c2.test(e)?e.replace(c2,h2):e}function v2(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n.join("")}function m2(e){return!e||!/[^ \t]+/.test(e)}var y2=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.next=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=g2(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e.next?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},e.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t},e}();function g2(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var b2=1,w2={};function x2(e){return w2[e]}function k2(e){delete w2[e]}function S2(){w2={}}var O2=function(){function e(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:b2++,this.type=e,this.sourcepos=t,w2[this.id]=this}return e.prototype.isContainer=function(){return g2(this)},e.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},e.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},e.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},e.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},e.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.walker=function(){return new y2(this)},e}(),C2=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=t,r}return qh(t,e),t}(O2),E2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listData=null,t}return qh(t,e),t}(C2),M2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return qh(t,e),t}(C2),A2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return qh(t,e),t}(C2),T2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columns=[],t}return qh(t,e),t}(C2),P2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return qh(t,e),t}(C2),R2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return qh(t,e),t}(C2),D2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return qh(t,e),t}(C2),_2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return qh(t,e),t}(C2),j2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return qh(t,e),t}(O2),L2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tickCount=0,t}return qh(t,e),t}(O2),I2=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.info="",t}return qh(t,e),t}(O2);function N2(e,t){switch(e){case"heading":return new M2(e,t);case"list":case"item":return new E2(e,t);case"link":case"image":return new j2(e,t);case"codeBlock":return new A2(e,t);case"htmlBlock":return new _2(e,t);case"table":return new T2(e,t);case"tableCell":return new P2(e,t);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new C2(e,t);case"code":return new L2(e,t);case"refDef":return new R2(e,t);case"customBlock":return new D2(e,t);case"customInline":return new I2(e,t);default:return new O2(e,t)}}function B2(e){return"codeBlock"===e.type}function z2(e){return"htmlBlock"===e.type}function H2(e){return"heading"===e.type}function W2(e){return"list"===e.type}function F2(e){return"table"===e.type}function U2(e){return"refDef"===e.type}function V2(e){return"customBlock"===e.type}function q2(e){return"customInline"===e.type}function Y2(e,t){var n=N2("text",t);return n.literal=e,n}var $2,G2="[A-Za-z][A-Za-z0-9-]*",X2="[a-zA-Z_:][a-zA-Z0-9:._-]*",K2="[^\"'=<>`\\x00-\\x20]+",Z2="'[^']*'",J2='"[^"]*"',Q2="(?:"+K2+"|"+Z2+"|"+J2+")",e5="(?:\\s*=\\s*"+Q2+")",t5="(?:\\s+"+X2+e5+"?)",n5="<"+G2+t5+"*\\s*/?>",r5="</"+G2+"\\s*[>]",i5="\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e",o5="[<][?].*?[?][>]",a5="<![A-Z]+\\s+[^>]*>",s5="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",l5="(?:"+n5+"|"+r5+"|"+i5+"|"+o5+"|"+a5+"|"+s5+")",c5=new RegExp("^"+l5,"i");if(String.fromCodePoint)$2=function(e){try{return String.fromCodePoint(e)}catch(t){if(t instanceof RangeError)return String.fromCharCode(65533);throw t}};else{var u5=String.fromCharCode,f5=Math.floor;$2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,i=16384,o=[],a=-1,s=e.length;if(!s)return"";var l="";while(++a<s){var c=Number(e[a]);if(!isFinite(c)||c<0||c>1114111||f5(c)!==c)return String.fromCharCode(65533);c<=65535?o.push(c):(c-=65536,n=55296+(c>>10),r=c%1024+56320,o.push(n,r)),(a+1===s||o.length>i)&&(l+=u5.apply(void 0,o),o.length=0)}return l}}var d5=$2,h5="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",p5="[^<\\s]*[^<?!.,:*_?~\\s]",v5="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function m5(e){var t=/\)+$/.exec(e);if(t){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var a=Math.min(-n,t[0].length);return e.substring(0,e.length-a)}}return e}function y5(e){return e.replace(/&[A-Za-z0-9]+;$/,"")}function g5(e){var t,n=new RegExp(v5,"g"),r=[];while(t=n.exec(e)){var i=t[0];/[_-]+$/.test(i)||r.push({text:i,range:[t.index,t.index+i.length-1],url:"mailto:"+i})}return r}function b5(e){var t,n=new RegExp("(www|https?://)."+h5+p5,"g"),r=[];while(t=n.exec(e)){var i=y5(m5(t[0])),o="www"===t[1]?"http://":"";r.push({text:i,range:[t.index,t.index+i.length-1],url:""+o+i})}return r}function w5(e){return $h($h([],b5(e)),g5(e)).sort((function(e,t){return e.range[0]-t.range[0]}))}function x5(e,t){var n;"boolean"===typeof t&&(t=w5);var r=function(){var e=n.entering,r=n.node;if(e&&"text"===r.type&&"link"!==r.parent.type){var i=r.literal,o=t(i);if(!o||!o.length)return"continue";for(var a=0,s=r.sourcepos[0],l=s[0],c=s[1],u=function(e,t){return[[l,c+e],[l,c+t]]},f=[],d=0,h=o;d<h.length;d++){var p=h[d],v=p.range,m=p.url,y=p.text;v[0]>a&&f.push(Y2(i.substring(a,v[0]),u(a,v[0]-1)));var g=N2("link",u.apply(void 0,v));g.appendChild(Y2(y,u.apply(void 0,v))),g.destination=m,g.extendedAutolink=!0,f.push(g),a=v[1]+1}a<i.length&&f.push(Y2(i.substring(a),u(a,i.length-1)));for(var b=0,w=f;b<w.length;b++){var x=w[b];r.insertBefore(x)}r.unlink()}};while(n=e.next())r()}function k5(e){return e[e.length-1]}function S5(e){return e.slice(1,e.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function O5(e,t){Object.keys(e).forEach((function(n){t(n,e[n])}))}function C5(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Yh({},e);return t.forEach((function(e){delete r[e]})),r}function E5(e){return!Object.keys(e).length}function M5(e){Object.keys(e).forEach((function(t){delete e[t]}))}var A5=10,T5=42,P5=95,R5=96,D5=91,_5=93,j5=126,L5=60,I5=33,N5=92,B5=38,z5=40,H5=41,W5=58,F5=39,U5=34,V5=36,q5="\\\\"+a2,Y5=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),$5=new RegExp('^(?:"('+q5+'|[^"\\x00])*"|\'('+q5+"|[^'\\x00])*'|\\(("+q5+"|[^()\\x00])*\\))"),G5=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,X5=new RegExp("^"+a2),K5=new RegExp("^"+r2,"i"),Z5=/`+/,J5=/^`+/,Q5=/\.\.\./g,e3=/--+/g,t3=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,n3=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,r3=/^ *(?:\n *)?/,i3=/^[ \t\n\x0b\x0c\x0d]/,o3=/^\s/,a3=/ *$/,s3=/^ */,l3=/^ *(?:\n|$)/,c3=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,u3=/^[^\n`\[\]\\!<&*_'"~$]+/m,f3=function(){function e(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return e.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,e+n];return"number"===typeof t?[i,[r,t+n]]:i},e.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},e.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},e.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},e.prototype.spnl=function(){return this.match(r3),!0},e.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(J5);if(null===n)return!1;var r,i=this.pos;while(null!==(r=this.match(Z5)))if(r===n){var o=this.subject.slice(i,this.pos-n.length),a=this.sourcepos(t,this.pos),s=o.split("\n");if(s.length>1){var l=k5(s);this.lineIdx+=s.length-1,this.linePosOffset=-(this.pos-l.length-n.length),a[1]=this.sourcepos(this.pos),o=s.join(" ")}var c=N2("code",a);return o.length>0&&null!==o.match(/[^ ]/)&&" "==o[0]&&" "==o[o.length-1]?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(Y2(n,this.sourcepos(t,this.pos-1))),!0},e.prototype.parseBackslash=function(e){var t,n=this.subject;this.pos+=1;var r=this.pos;return this.peek()===A5?(this.pos+=1,t=N2("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(t),this.nextLine()):X5.test(n.charAt(this.pos))?(e.appendChild(Y2(n.charAt(this.pos),this.sourcepos(r,this.pos))),this.pos+=1):e.appendChild(Y2("\\",this.sourcepos(r,r))),!0},e.prototype.parseAutolink=function(e){var t,n,r,i=this.pos+1;return(t=this.match(t3))?(n=t.slice(1,t.length-1),r=N2("link",this.sourcepos(i,this.pos)),r.destination=d2("mailto:"+n),r.title="",r.appendChild(Y2(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(r),!0):!!(t=this.match(n3))&&(n=t.slice(1,t.length-1),r=N2("link",this.sourcepos(i,this.pos)),r.destination=d2(n),r.title="",r.appendChild(Y2(n,this.sourcepos(i+1,this.pos-1))),e.appendChild(r),!0)},e.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(c5);if(null===n)return!1;var r=N2("htmlInline",this.sourcepos(t,this.pos));return r.literal=n,e.appendChild(r),!0},e.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===F5||e===U5)t++,this.pos++;else while(this.peek()===e)t++,this.pos++;if(0===t||t<2&&(e===j5||e===V5))return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":d5(o);var a,s,l=o3.test(r),c=Y5.test(r),u=o3.test(i),f=Y5.test(i),d=!l&&(!c||u||f),h=!u&&(!f||l||c);return e===P5?(a=d&&(!h||f),s=h&&(!d||c)):e===F5||e===U5?(a=d&&!h,s=h):e===V5?(a=!l,s=!u):(a=d,s=h),this.pos=n,{numdelims:t,canOpen:a,canClose:s}},e.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var r,i=n.numdelims,o=this.pos+1;this.pos+=i,r=e===F5?"’":e===U5?"“":this.subject.slice(o-1,this.pos);var a=Y2(r,this.sourcepos(o,this.pos));return t.appendChild(a),(n.canOpen||n.canClose)&&(this.options.smart||e!==F5&&e!==U5)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:a,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},e.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},e.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},e.prototype.processEmphasis=function(e){var t,n,r,i,o,a,s,l=!1,c=(t={},t[P5]=[e,e,e],t[T5]=[e,e,e],t[F5]=[e],t[U5]=[e],t[j5]=[e],t[V5]=[e],t);r=this.delimiters;while(null!==r&&r.previous!==e)r=r.previous;while(null!==r){var u=r.cc,f=u===P5||u===T5;if(r.canClose){n=r.previous,s=!1;while(null!==n&&n!==e&&n!==c[u][f?r.origdelims%3:0]){if(l=f&&(r.canOpen||n.canClose)&&r.origdelims%3!==0&&(n.origdelims+r.origdelims)%3===0,n.cc===r.cc&&n.canOpen&&!l){s=!0;break}n=n.previous}if(i=r,f||u===j5||u===V5)if(s){if(n){var d=r.numdelims>=2&&n.numdelims>=2?2:1,h=f?0:1;o=n.node,a=r.node;var p=f?1===d?"emph":"strong":"strike";u===V5&&(p="customInline");var v=N2(p),m=o.sourcepos[1],y=a.sourcepos[0];v.sourcepos=[[m[0],m[1]-d+1],[y[0],y[1]+d-1]],o.sourcepos[1][1]-=d,a.sourcepos[0][1]+=d,o.literal=o.literal.slice(d),a.literal=a.literal.slice(d),n.numdelims-=d,r.numdelims-=d;var g=o.next,b=void 0;while(g&&g!==a)b=g.next,g.unlink(),v.appendChild(g),g=b;if(u===V5){var w=v.firstChild,x=w.literal||"",k=x.split(/\s/)[0];v.info=k,x.length===k.length+1?w.unlink():(w.sourcepos[0][1]+=k.length,w.literal=x.replace(k+" ",""))}if(o.insertAfter(v),this.removeDelimitersBetween(n,r),n.numdelims<=h&&(0===n.numdelims&&o.unlink(),this.removeDelimiter(n)),r.numdelims<=h){0===r.numdelims&&a.unlink();var S=r.next;this.removeDelimiter(r),r=S}}}else r=r.next;else u===F5?(r.node.literal="’",s&&(n.node.literal="‘"),r=r.next):u===U5&&(r.node.literal="”",s&&(n.node.literal="“"),r=r.next);s||(c[u][f?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}else r=r.next}while(null!==this.delimiters&&this.delimiters!==e)this.removeDelimiter(this.delimiters)},e.prototype.parseLinkTitle=function(){var e=this.match($5);return null===e?null:f2(e.substr(1,e.length-2))},e.prototype.parseLinkDestination=function(){var e=this.match(G5);if(null===e){if(this.peek()===L5)return null;var t=this.pos,n=0,r=void 0;while(-1!==(r=this.peek()))if(r===N5&&X5.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(r===z5)this.pos+=1,n+=1;else if(r===H5){if(n<1)break;this.pos+=1,n-=1}else{if(null!==i3.exec(d5(r)))break;this.pos+=1}return this.pos===t&&r!==H5||0!==n?null:(e=this.subject.substr(t,this.pos-t),d2(f2(e)))}return d2(f2(e.substr(1,e.length-2)))},e.prototype.parseLinkLabel=function(){var e=this.match(c3);return null===e||e.length>1001?0:e.length},e.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=Y2("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},e.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===D5){this.pos+=1;var n=Y2("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{n=Y2("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},e.prototype.parseCloseBracket=function(e){var t=null,n=null,r=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(null===o)return e.appendChild(Y2("]",this.sourcepos(i,i))),!0;if(!o.active)return e.appendChild(Y2("]",this.sourcepos(i,i))),this.removeBracket(),!0;var a=o.image,s=this.pos;this.peek()===z5&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(i3.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&this.peek()===H5?(this.pos+=1,r=!0):this.pos=s);var l="";if(!r){var c=this.pos,u=this.parseLinkLabel();if(u>2?l=this.subject.slice(c,c+u):o.bracketAfter||(l=this.subject.slice(o.index,i)),0===u&&(this.pos=s),l){l=S5(l);var f=this.refMap[l];f&&(t=f.destination,n=f.title,r=!0)}}if(r){var d=N2(a?"image":"link");d.destination=t,d.title=n||"",d.sourcepos=[o.startpos,this.sourcepos(this.pos)];var h=o.node.next,p=void 0;while(h)p=h.next,h.unlink(),d.appendChild(h),h=p;if(e.appendChild(d),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!a){o=this.brackets;while(null!==o)o.image||(o.active=!1),o=o.previous}return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:l}),!0}return this.removeBracket(),this.pos=i,e.appendChild(Y2("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:l}),!0},e.prototype.addBracket=function(e,t,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},e.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},e.prototype.parseEntity=function(e){var t,n=this.pos+1;return!!(t=this.match(K5))&&(e.appendChild(Y2(Qh.decodeHTML(t),this.sourcepos(n,this.pos))),!0)},e.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(u3)){if(this.options.smart){var r=t.replace(Q5,"…").replace(e3,(function(e){var t=0,n=0;return e.length%3===0?n=e.length/3:e.length%2===0?t=e.length/2:e.length%3===2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),v2("—",n)+v2("–",t)}));e.appendChild(Y2(r,this.sourcepos(n,this.pos)))}else{var i=Y2(t,this.sourcepos(n,this.pos));e.appendChild(i)}return!0}return!1},e.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var n=" "===t.literal[t.literal.length-2],r=t.literal.length;t.literal=t.literal.replace(a3,"");var i=r-t.literal.length;t.sourcepos[1][1]-=i,e.appendChild(N2(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else e.appendChild(N2("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(s3),!0},e.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,r=this.pos,i=this.parseLinkLabel();if(0===i)return 0;var o=this.subject.substr(0,i);if(this.peek()!==W5)return this.pos=r,0;this.pos++,this.spnl();var a=this.parseLinkDestination();if(null===a)return this.pos=r,0;var s=this.pos;this.spnl(),this.pos!==s&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=s);var l=!0;if(null===this.match(l3)&&(""===n?l=!1:(n="",this.pos=s,l=null!==this.match(l3))),!l)return this.pos=r,0;var c=S5(o);if(""===c)return this.pos=r,0;var u=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=u[1][0]+1;var f=N2("refDef",u);return f.title=n,f.dest=a,f.label=c,e.insertBefore(f),t[c]?this.refDefCandidateMap[f.id]=f:t[c]=X8(f),this.pos-r},e.prototype.mergeTextNodes=function(e){var t,n=[];while(t=e.next()){var r=t.entering,i=t.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],a=n[n.length-1];o.sourcepos&&a.sourcepos&&(o.sourcepos[1]=a.sourcepos[1]),o.next=a.next,o.next&&(o.next.prev=o);for(var s=1;s<n.length;s+=1)o.literal+=n[s].literal,n[s].unlink();n=[]}}},e.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<t.length;o+=1){var a=t[o];if(i3.test(a))break;if(/\:/.test(a)&&0===r){if(n)break;var s=a.indexOf(":")===a.length-1?o+1:o;i={line:s,ch:t[s].length},n=!0}var l=a.match(/'|"/g);if(l&&(r+=l.length),2===r){i={line:o,ch:a.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},e.prototype.parseInline=function(e){var t,n=!1,r=this.peek();if(-1===r)return!1;switch(r){case A5:n=this.parseNewline(e);break;case N5:n=this.parseBackslash(e);break;case R5:n=this.parseBackticks(e);break;case T5:case P5:case j5:case V5:n=this.handleDelim(r,e);break;case F5:case U5:n=!!(null===(t=this.options)||void 0===t?void 0:t.smart)&&this.handleDelim(r,e);break;case D5:n=this.parseOpenBracket(e);break;case I5:n=this.parseBang(e);break;case _5:n=this.parseCloseBracket(e);break;case L5:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case B5:n=this.parseEntity(e);break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(Y2(d5(r),this.sourcepos(this.pos,this.pos+1)))),!0},e.prototype.parse=function(e){this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],H2(e)&&(this.lineOffsets[0]+=e.level+1);while(this.parseInline(e));e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,r=t.customParser;if(n&&x5(e.walker(),n),r&&e.firstChild){var i,o=e.firstChild.walker();while(i=o.next()){var a=i.node,s=i.entering;r[a.type]&&r[a.type](a,{entering:s,options:this.options})}}},e}(),d3=/^\[([ \txX])\][ \t]+/;function h3(e,t){if(t.firstChild&&"paragraph"===t.firstChild.type){var n=t.firstChild,r=n.stringContent.match(d3);if(r){var i=r[0].length;n.stringContent=n.stringContent.substring(i-1),n.sourcepos[0][1]+=i,n.lineOffsets[0]+=i,t.listData.task=!0,t.listData.checked=/[xX]/.test(r[1])}}}var p3={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableHead"===e||"tableBody"===e},acceptsLines:!1},v3={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableRow"===e},acceptsLines:!1},m3={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableRow"===e||"tableDelimRow"===e},acceptsLines:!1},y3={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableDelimCell"===e},acceptsLines:!1},g3={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},b3={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableCell"===e},acceptsLines:!1},w3={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},x3=4,k3=9,S3=62,O3=60,C3=32,E3=91,M3=/[^ \t\f\v\r\n]/,A3=/^(?:`{3,}|~{3,})(?= *$)/;function T3(e){var t=e;while(t){if(t.lastLineBlank)return!0;var n=t.type;if(t.lastLineChecked||"list"!==n&&"item"!==n){t.lastLineChecked=!0;break}t.lastLineChecked=!0,t=t.lastChild}return!1}function P3(e,t){return t<e.length?e.charCodeAt(t):-1}function R3(e){return!M3.test(e)}function D3(e){return e===C3||e===k3}var _3=/^\$\$$/,j3={continue:function(e,t){var n=e.currentLine,r=n.match(_3);if(r)return e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2;var i=t.offset;while(i>0&&D3(P3(n,e.offset)))e.advanceOffset(1,!0),i--;return 0},finalize:function(e,t){if(null!==t.stringContent){var n=t.stringContent,r=n.indexOf("\n"),i=n.slice(0,r),o=n.slice(r+1),a=i.match(/^(\s*)(.*)/);t.info=f2(a[2].trim()),t.literal=o,t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},L3={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},I3={continue:function(){return 0},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},N3={continue:function(){return 0},finalize:function(e,t){var n=t.firstChild;while(n){if(T3(n)&&n.next){t.listData.tight=!1;break}var r=n.firstChild;while(r){if(T3(r)&&(n.next||r.next)){t.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(e){return"item"===e},acceptsLines:!1},B3={continue:function(e){var t=e.currentLine;return e.indented||P3(t,e.nextNonspace)!==S3?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),D3(P3(t,e.offset))&&e.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},z3={continue:function(e,t){if(e.blank){if(null===t.firstChild)return 1;e.advanceNextNonspace()}else{if(!(e.indent>=t.listData.markerOffset+t.listData.padding))return 1;e.advanceOffset(t.listData.markerOffset+t.listData.padding,!0)}return 0},finalize:h3,canContain:function(e){return"item"!==e},acceptsLines:!1},H3={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},W3={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},F3={continue:function(e,t){var n=e.currentLine,r=e.indent;if(t.isFenced){var i=r<=3&&n.charAt(e.nextNonspace)===t.fenceChar&&n.slice(e.nextNonspace).match(A3);if(i&&i[0].length>=t.fenceLength)return e.lastLineLength=e.offset+r+i[0].length,e.finalize(t,e.lineNumber),2;var o=t.fenceOffset;while(o>0&&D3(P3(n,e.offset)))e.advanceOffset(1,!0),o--}else if(r>=x3)e.advanceOffset(x3,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){var n;if(null!==t.stringContent){if(t.isFenced){var r=t.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),a=r.slice(i+1),s=o.match(/^(\s*)(.*)/);t.infoPadding=s[1].length,t.info=f2(s[2].trim()),t.literal=a}else t.literal=null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},U3={continue:function(e,t){return!e.blank||6!==t.htmlBlockType&&7!==t.htmlBlockType?0:1},finalize:function(e,t){var n;t.literal=(null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,t.stringContent=null},canContain:function(){return!1},acceptsLines:!0},V3={continue:function(e){return e.blank?1:0},finalize:function(e,t){if(null!==t.stringContent){var n,r=!1;while(P3(t.stringContent,0)===E3&&(n=e.inlineParser.parseReference(t,e.refMap)))t.stringContent=t.stringContent.slice(n),r=!0;r&&R3(t.stringContent)&&t.unlink()}},canContain:function(){return!1},acceptsLines:!0},q3=L3,Y3=L3,$3={document:I3,list:N3,blockQuote:B3,item:z3,heading:H3,thematicBreak:W3,codeBlock:F3,htmlBlock:U3,paragraph:V3,table:p3,tableBody:v3,tableHead:m3,tableRow:b3,tableCell:w3,tableDelimRow:y3,tableDelimCell:g3,refDef:q3,customBlock:j3,frontMatter:Y3};function G3(e){for(var t=0,n=0,r=[],i=0;i<e.length;i+=1)if("|"===e[i]&&"\\"!==e[i-1]){var o=e.substring(t,i);0===t&&m2(o)?n=i+1:r.push(o),t=i+1}if(t<e.length){o=e.substring(t,e.length);m2(o)||r.push(o)}return[n,r]}function X3(e,t,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],l=s.match(/^[ \t]+/),c=l?l[0].length:0,u=void 0,f=void 0;if(c===s.length)c=0,u=0,f="";else{var d=s.match(/[ \t]+$/);u=d?d[0].length:0,f=s.slice(c,s.length-u)}var h=r+c,p=N2(e,[[n,r],[n,r+s.length-1]]);p.stringContent=f.replace(/\\\|/g,"|"),p.startIdx=i.length,p.endIdx=i.length,p.lineOffsets=[h-1],p.paddingLeft=c,p.paddingRight=u,i.push(p),r+=s.length+1}return i}function K3(e){var t=null,n=e.stringContent,r=n[0],i=n[n.length-1];return":"===i?t=":"===r?"center":"right":":"===r&&(t="left"),{align:t}}var Z3=function(e,t){var n=t.stringContent;if("paragraph"===t.type&&!e.indented&&!e.blank){var r=n.length-1,i=n.lastIndexOf("\n",r-1)+1,o=n.slice(i,r),a=e.currentLine.slice(e.nextNonspace),s=G3(o),l=s[0],c=s[1],u=G3(a),f=u[0],d=u[1],h=/^[ \t]*:?-+:?[ \t]*$/;if(!c.length||!d.length||d.some((function(e){return!h.test(e)}))||1===d.length&&0!==a.indexOf("|"))return 0;var p=t.lineOffsets,v=e.lineNumber-1,m=k5(p)+1,y=N2("table",[[v,m],[e.lineNumber,e.offset]]);if(y.columns=d.map((function(){return{align:null}})),t.insertAfter(y),1===p.length)t.unlink();else{t.stringContent=n.slice(0,i);var g=n.lastIndexOf("\n",i-2)+1,b=i-g-1;e.lastLineLength=p[p.length-2]+b,e.finalize(t,v-1)}e.advanceOffset(e.currentLine.length-e.offset,!1);var w=N2("tableHead",[[v,m],[e.lineNumber,e.offset]]);y.appendChild(w);var x=N2("tableRow",[[v,m],[v,m+o.length-1]]),k=N2("tableDelimRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.offset]]);w.appendChild(x),w.appendChild(k),X3("tableCell",c,v,m+l).forEach((function(e){x.appendChild(e)}));var S=X3("tableDelimCell",d,e.lineNumber,e.nextNonspace+1+f);return S.forEach((function(e){k.appendChild(e)})),y.columns=S.map(K3),e.tip=y,2}return 0},J3=function(e,t){if("table"!==t.type&&"tableBody"!==t.type||!e.blank&&-1===e.currentLine.indexOf("|"))return 0;if(e.advanceOffset(e.currentLine.length-e.offset,!1),e.blank){var n=t;return"tableBody"===t.type&&(n=t.parent,e.finalize(t,e.lineNumber-1)),e.finalize(n,e.lineNumber-1),0}var r=t;"table"===t.type&&(r=e.addChild("tableBody",e.nextNonspace),r.stringContent=null);var i=N2("tableRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.currentLine.length]]);r.appendChild(i);var o=r.parent,a=e.currentLine.slice(e.nextNonspace),s=G3(a),l=s[0],c=s[1];return X3("tableCell",c,e.lineNumber,e.nextNonspace+1+l).forEach((function(e,t){t>=o.columns.length&&(e.ignored=!0),i.appendChild(e)})),2},Q3=/^(\$\$)(\s*[a-zA-Z])+/,e8=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,t8=function(e){var t;if(!e.indented&&!e8.test(e.currentLine)&&(t=e.currentLine.match(Q3))){var n=t[1].length;e.closeUnmatchedBlocks();var r=e.addChild("customBlock",e.nextNonspace);return r.syntaxLength=n,r.offset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},n8=/^`{3,}(?!.*`)|^~{3,}/,r8=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+n5+"|"+r5+")\\s*$","i")],i8=/^(?:=+|-+)[ \t]*$/,o8=/^#{1,6}(?:[ \t]+|$)/,a8=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,s8=/^[*+-]/,l8=/^(\d{1,9})([.)])/;function c8(e,t){var n,r,i=e.currentLine.slice(e.nextNonspace),o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:e.indent,task:!1,checked:!1};if(e.indent>=4)return null;if(n=i.match(s8))o.type="bullet",o.bulletChar=n[0][0];else{if(!(n=i.match(l8))||"paragraph"===t.type&&"1"!==n[1])return null;o.type="ordered",o.start=parseInt(n[1],10),o.delimiter=n[2]}if(r=P3(e.currentLine,e.nextNonspace+n[0].length),-1!==r&&r!==k3&&r!==C3)return null;if("paragraph"===t.type&&!e.currentLine.slice(e.nextNonspace+n[0].length).match(M3))return null;e.advanceNextNonspace(),e.advanceOffset(n[0].length,!0);var a=e.column,s=e.offset;do{e.advanceOffset(1,!0),r=P3(e.currentLine,e.offset)}while(e.column-a<5&&D3(r));var l=-1===P3(e.currentLine,e.offset),c=e.column-a;return c>=5||c<1||l?(o.padding=n[0].length+1,e.column=a,e.offset=s,D3(P3(e.currentLine,e.offset))&&e.advanceOffset(1,!0)):o.padding=n[0].length+c,o}function u8(e,t){return e.type===t.type&&e.delimiter===t.delimiter&&e.bulletChar===t.bulletChar}function f8(e,t){return e.options.disallowDeepHeading&&("blockQuote"===t.type||"item"===t.type)}var d8=function(e){return e.indented||P3(e.currentLine,e.nextNonspace)!==S3?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),D3(P3(e.currentLine,e.offset))&&e.advanceOffset(1,!0),e.closeUnmatchedBlocks(),e.addChild("blockQuote",e.nextNonspace),1)},h8=function(e,t){var n;if(!e.indented&&!f8(e,t)&&(n=e.currentLine.slice(e.nextNonspace).match(o8))){e.advanceNextNonspace(),e.advanceOffset(n[0].length,!1),e.closeUnmatchedBlocks();var r=e.addChild("heading",e.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=e.currentLine.slice(e.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},p8=function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(n8))){var n=t[0].length;e.closeUnmatchedBlocks();var r=e.addChild("codeBlock",e.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=t[0][0],r.fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},v8=function(e,t){if(!e.indented&&P3(e.currentLine,e.nextNonspace)===O3){var n=e.currentLine.slice(e.nextNonspace),r=e.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=n.match(r8[i]);if(o){if(7===i){if("paragraph"===t.type)return 0;if(r.length>0){var a=new RegExp("</?(?:"+r.join("|")+")","i");if(a.test(o[0]))return 0}}e.closeUnmatchedBlocks();var s=e.addChild("htmlBlock",e.offset);return s.htmlBlockType=i,2}}}return 0},m8=function(e,t){var n;if(null!==t.stringContent&&!e.indented&&"paragraph"===t.type&&!f8(e,t.parent)&&(n=e.currentLine.slice(e.nextNonspace).match(i8))){e.closeUnmatchedBlocks();var r=void 0;while(P3(t.stringContent,0)===E3&&(r=e.inlineParser.parseReference(t,e.refMap)))t.stringContent=t.stringContent.slice(r);if(t.stringContent.length>0){var i=N2("heading",t.sourcepos);return i.level="="===n[0][0]?1:2,i.headingType="setext",i.stringContent=t.stringContent,t.insertAfter(i),t.unlink(),e.tip=i,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0}return 0},y8=function(e){return!e.indented&&a8.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("thematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},g8=function(e,t){var n,r=t;return e.indented&&"list"!==t.type||!(n=c8(e,r))?0:(e.closeUnmatchedBlocks(),"list"===e.tip.type&&u8(r.listData,n)||(r=e.addChild("list",e.nextNonspace),r.listData=n),r=e.addChild("item",e.nextNonspace),r.listData=n,1)},b8=function(e){return e.indented&&"paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(x3,!0),e.closeUnmatchedBlocks(),e.addChild("codeBlock",e.offset),2):0},w8=[d8,h8,p8,v8,m8,y8,g8,b8,Z3,J3,t8],x8=/^(-{3}|\+{3}|;{3})$/,k8=function(e,t){var n=e.currentLine,r=e.lineNumber,i=e.indented;if(1===r&&!i&&"document"===t.type&&x8.test(n)){e.closeUnmatchedBlocks();var o=e.addChild("frontMatter",e.nextNonspace);return o.stringContent=n,e.advanceNextNonspace(),e.advanceOffset(n.length,!1),2}return 0},S8={continue:function(e,t){var n=e.currentLine,r=n.match(x8);return"frontMatter"===t.type&&r?(t.stringContent+=n,e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2):0},finalize:function(e,t){null!==t.stringContent&&(t.literal=t.stringContent,t.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},O8=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],C8=/^[#`~*+_=<>0-9-;$]/,E8=/\r\n|\n|\r/;function M8(){return N2("document",[[1,1],[0,0]])}var A8={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},T8=function(){function e(e){this.options=Yh(Yh({},A8),e),this.doc=M8(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&($3.frontMatter=S8,w8.unshift(k8)),this.inlineParser=new f3(this.options)}return e.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);var n,r,i,o=this.currentLine;while(e>0&&(i=o[this.offset]))"\t"===i?(n=4-this.column%4,t?(this.partiallyConsumedTab=n>e,r=n>e?e:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,e-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},e.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},e.prototype.findNextNonspace=function(){var e,t=this.currentLine,n=this.offset,r=this.column;while(""!==(e=t.charAt(n)))if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=x3},e.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=v2(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},e.prototype.addChild=function(e,t){while(!$3[this.tip.type].canContain(e))this.finalize(this.tip,this.lineNumber-1);var n=t+1,r=N2(e,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},e.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){while(this.oldtip!==this.lastMatchedContainer){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},e.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],$3[e.type].finalize(this,e),this.tip=n},e.prototype.processInlines=function(e){var t,n=this.options.customParser,r=e.walker();this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;while(t=r.next()){var i=t.node,o=t.entering,a=i.type;n&&n[a]&&n[a](i,{entering:o,options:this.options}),o||"paragraph"!==a&&"heading"!==a&&("tableCell"!==a||i.ignored)||this.inlineParser.parse(i)}},e.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"�")),this.currentLine=e;var n,r=!0;while((n=t.lastChild)&&n.open){switch(t=n,this.findNextNonspace(),$3[t.type]["continue"](this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;var i="paragraph"!==t.type&&$3[t.type].acceptsLines,o=w8.length;while(!i){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!C8.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}var a=0;while(a<o){var s=w8[a](this,t);if(1===s){t=this.tip;break}if(2===s){t=this.tip,i=!0;break}a++}if(a===o){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);var l=t.type,c=this.blank&&!("blockQuote"===l||B2(t)&&t.isFenced||"item"===l&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),u=t;while(u)u.lastLineBlank=c,u=u.parent;$3[l].acceptsLines?(this.addLine(),z2(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&O8[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},e.prototype.parse=function(e,t){this.doc=M8(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(E8),r=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===A5&&(r-=1);for(var i=0;i<r;i++)this.incorporateLine(n[i]);while(this.tip)this.finalize(this.tip,r);return this.processInlines(this.doc),this.doc},e.prototype.partialParseStart=function(e,t){this.doc=M8(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,r=0;r<n;r++)this.incorporateLine(t[r]);return this.doc},e.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},e.prototype.partialParseFinish=function(){while(this.tip)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},e.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},e.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){M5(e)}))},e}();function P8(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:e[1]<t[1]?1:e[1]>t[1]?-1:0}function R8(e,t){var n=e[0],r=e[1];return 1===P8(r,t)?1:-1===P8(n,t)?-1:0}function D8(e,t){if(e.parent===t.parent&&e!==t){var n=e.next;while(n&&n!==t){for(var r=n.next,i=0,o=["parent","prev","next"];i<o.length;i++){var a=o[i];n[a]&&(k2(n[a].id),n[a]=null)}n=r}e.next=t.next,t.next?t.next.prev=e:e.parent.lastChild=e}}function _8(e){var t=[],n=e.firstChild;while(n)t.push(n),n=n.next;return t}function j8(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];e.insertBefore(i)}}function L8(e,t){for(var n=t.length-1;n>=0;n-=1)e.prependChild(t[n])}function I8(e,t){if(e&&e.parent&&0!==t){var n,r=e.parent.walker();r.resumeAt(e,!0);while(n=r.next()){var i=n.node,o=n.entering;o&&(i.sourcepos[0][0]+=t,i.sourcepos[1][0]+=t)}}}function N8(e,t){var n=e[0],r=e[1];return r[0]<t?1:n[0]>t?-1:0}function B8(e,t){var n=e.firstChild;while(n){var r=N8(n.sourcepos,t);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return e.lastChild}function z8(e){while(e.lastChild)e=e.lastChild;return e}function H8(e){while(e.parent&&"document"!==e.parent.type&&e.parent.sourcepos[0][0]===e.sourcepos[0][0])e=e.parent;return e}function W8(e,t){var n=e.firstChild,r=null;while(n){var i=N8(n.sourcepos,t);if(0===i){if(n.sourcepos[0][0]===t||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?H8(z8(r)):null}function F8(e,t){var n=e,r=null;while(n){var i=R8(n.sourcepos,t);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n}function U8(e){return x2(e)||null}function V8(e,t,n){if(void 0===n&&(n=null),t){var r=t.walker();while(t&&t!==n){e(t);var i=r.next();if(!i)break;t=i.node}}}function q8(e){var t=U8(e);if(!t)return!0;while(t&&"document"!==t.type){if(!t.parent&&!t.prev&&!t.next)return!0;t=t.parent}return!1}var Y8=/\r\n|\n|\r/;function $8(e){var t=e.match(/^[ \t]+/);if(t&&(t[0].length>=2||/\t/.test(t[0])))return!0;var n=t?e.slice(t.length):e;return s8.test(n)||l8.test(n)}function G8(e){return!R3(e)&&-1!==e.indexOf("|")}function X8(e){var t=e.id,n=e.title,r=e.sourcepos,i=e.dest;return{id:t,title:n,sourcepos:r,unlinked:!1,destination:i}}var K8=function(){function e(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null===t||void 0===t?void 0:t.referenceDefinition),this.parser=new T8(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(Y8),this.root=this.parser.parse(e,this.lineTexts)}return e.prototype.updateLineTexts=function(e,t,n){var r,i=e[0],o=e[1],a=t[0],s=t[1],l=n.split(Y8),c=l.length,u=this.lineTexts[i-1],f=this.lineTexts[a-1];l[0]=u.slice(0,o-1)+l[0],l[c-1]=l[c-1]+f.slice(s-1);var d=a-i+1;return(r=this.lineTexts).splice.apply(r,$h([i-1,d],l)),c-d},e.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);var e=this.lineTexts,t=e.length-1;while(""===e[t])t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},e.prototype.replaceRangeNodes=function(e,t,n){e?(j8(e,n),D8(e,t),[e.id,t.id].forEach((function(e){return k2(e)})),e.unlink()):t?(j8(t,n),k2(t.id),t.unlink()):L8(this.root,n)},e.prototype.getNodeRange=function(e,t){var n=B8(this.root,e[0]),r=B8(this.root,t[0]);return r&&r.next&&t[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},e.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach((function(e){e(t)}))},e.prototype.extendEndLine=function(e){while(""===this.lineTexts[e])e+=1;return e},e.prototype.parseRange=function(e,t,n,r){e&&e.prev&&(W2(e.prev)&&$8(this.lineTexts[n-1])||F2(e.prev)&&G8(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);var i=this.lineTexts.slice(n-1,r),o=this.parser.partialParseStart(n,i),a=t?t.next:this.root.firstChild,s=o.lastChild,l=s&&B2(s)&&s.open,c=s&&V2(s)&&s.open,u=s&&W2(s);while((l||c)&&a||u&&a&&("list"===a.type||a.sourcepos[0][1]>=2)){var f=this.extendEndLine(a.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,f)),e||(e=t),t=a,r=f,a=a.next}this.parser.partialParseFinish();var d=_8(o);return{newNodes:d,extStartNode:e,extEndNode:t}},e.prototype.getRemovedNodeRange=function(e,t){return!e||e&&U2(e)||t&&U2(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},e.prototype.markDeletedRefMap=function(e,t){var n=this;if(!E5(this.refMap)){var r=function(e){if(U2(e)){var t=n.refMap[e.label];t&&e.id===t.id&&(t.unlinked=!0)}};e&&V8(r,e.parent,t),t&&V8(r,t)}},e.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!E5(this.refMap)){var n=function(e){if(U2(e)){var n=e.label,r=t.refMap[n];r&&!r.unlinked||(t.refMap[n]=X8(e))}};e.forEach((function(e){V8(n,e)}))}},e.prototype.replaceWithRefDefCandidate=function(){var e=this;E5(this.refDefCandidateMap)||O5(this.refDefCandidateMap,(function(t,n){var r=n.label,i=n.sourcepos,o=e.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[r]=X8(n))}))},e.prototype.getRangeWithRefDef=function(e,t,n,r,i){if(this.referenceDefinition&&!E5(this.refMap)){var o=B8(this.root,e-1),a=B8(this.root,t+1);o&&U2(o)&&o!==n&&o!==r&&(n=o,e=n.sourcepos[0][0]),a&&U2(a)&&a!==n&&a!==r&&(r=a,t=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,e,t]},e.prototype.parse=function(e,t,n){void 0===n&&(n=0);var r=this.getNodeRange(e,t),i=r[0],o=r[1],a=i?Math.min(i.sourcepos[0][0],e[0]):e[0],s=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),l=this.parseRange.apply(this,this.getRangeWithRefDef(a,s,i,o,n)),c=l.newNodes,u=l.extStartNode,f=l.extEndNode,d=this.getRemovedNodeRange(u,f),h=f?f.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(u,f),this.replaceRangeNodes(u,f,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(u,f,c),{nodes:c,removedNodeRange:d,nextNode:h}},e.prototype.parseRefLink=function(){var e=this,t=[];return E5(this.refMap)||O5(this.refMap,(function(n,r){r.unlinked&&delete e.refMap[n],O5(e.refLinkCandidateMap,(function(r,i){var o=i.node,a=i.refLabel;a===n&&t.push(e.parse(o.sourcepos[0],o.sourcepos[1]))}))})),t},e.prototype.removeUnlinkedCandidate=function(){E5(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){O5(e,(function(t){q8(t)&&delete e[t]}))}))},e.prototype.editMarkdown=function(e,t,n){var r=this.updateLineTexts(e,t,n),i=this.parse(e,t,r),o=C5(i,"nextNode");I8(i.nextNode,r),this.updateRootNodeState();var a=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),a=a.concat(this.parseRefLink())),this.trigger("change",a),a},e.prototype.getLineTexts=function(){return this.lineTexts},e.prototype.getRootNode=function(){return this.root},e.prototype.findNodeAtPosition=function(e){var t=F8(this.root,e);return t&&t!==this.root?t:null},e.prototype.findFirstNodeAtLine=function(e){return W8(this.root,e)},e.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},e.prototype.off=function(e,t){var n=this.eventHandlerMap[e],r=n.indexOf(t);n.splice(r,1)},e.prototype.findNodeById=function(e){return U8(e)},e.prototype.removeAllNode=function(){S2()},e}(),Z8=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],J8=new RegExp("<(/?(?:"+Z8.join("|")+")[^>]*>)","ig");function Q8(e){return J8.test(e)?e.replace(J8,(function(e,t){return"&lt;"+t})):e}var e6={heading:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"h"+e.level,outerNewLine:!0}},text:function(e){return{type:"text",content:e.literal}},softbreak:function(e,t){var n=t.options;return{type:"html",content:n.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"em"}},strong:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"strong"}},paragraph:function(e,t){var n,r=t.entering,i=null===(n=e.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(e,t){var n=t.entering,r=e.listData,i=r.type,o=r.start,a="bullet"===i?"ul":"ol",s={};return"ol"===a&&null!==o&&1!==o&&(s.start=o.toString()),{type:n?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(e,t){var n=t.options,r=n.tagFilter?Q8(e.literal):e.literal;return{type:"html",content:r}},htmlBlock:function(e,t){var n=t.options,r=n.tagFilter?Q8(e.literal):e.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code"},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info,n=t?t.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+p2(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(e,t){var n=t.entering;if(n){var r=e,i=r.title,o=r.destination;return{type:"openTag",tagName:"a",attributes:Yh({href:p2(o)},i&&{title:p2(i)})}}return{type:"closeTag",tagName:"a"}},image:function(e,t){var n=t.getChildrenText,r=t.skipChildren,i=e,o=i.title,a=i.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Yh({src:p2(a),alt:n(e)},o&&{title:p2(o)})}},customBlock:function(e,t,n){var r=e.info.trim().toLowerCase(),i=n[r];if(i)try{return i(e,t)}catch(o){console.warn(o)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(e){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(e,t,n){var r=e.info.trim().toLowerCase(),i=n[r];return i?i(e,t):{type:t.entering?"openTag":"closeTag",tagName:"span"}}},t6={strike:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"del"}},item:function(e,t){var n=t.entering,r=e.listData,i=r.checked,o=r.task;if(n){var a={type:"openTag",tagName:"li",outerNewLine:!0};return o?[a,{type:"openTag",tagName:"input",selfClose:!0,attributes:Yh(Yh({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:a}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(e,t){var n=t.entering;return{type:n?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(e,t){var n=t.entering;if(n)return{type:"openTag",tagName:"tr",outerNewLine:!0};var r=[];if(e.lastChild)for(var i=e.parent.parent.columns.length,o=e.lastChild.endIdx,a=o+1;a<i;a+=1)r.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return r.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),r},tableCell:function(e,t){var n=t.entering;if(e.ignored)return{type:"text",content:""};var r=e.parent.parent,i="tableHead"===r.type?"th":"td",o=r.parent,a=o.columns[e.startIdx],s=(null===a||void 0===a?void 0:a.align)?{align:a.align}:null;return n?Yh({type:"openTag",tagName:i,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:i,outerNewLine:!0}}},n6={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function r6(e){var t=[],n=e.walker(),r=null;while(r=n.next()){var i=r.node;"text"===i.type&&t.push(i.literal)}return t.join("")}var i6=function(){function e(e){this.buffer=[],this.options=Yh(Yh({},n6),e),this.convertors=this.createConvertors(),delete this.options.convertors}return e.prototype.createConvertors=function(){var e=Yh({},e6);if(this.options.gfm&&(e=Yh(Yh({},e),t6)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),r=Yh(Yh({},e6),t6);n.forEach((function(n){var i=e[n],o=t[n],a=-1===Object.keys(r).indexOf(n)?n.toLowerCase():n;e[a]=i?function(e,t){return t.origin=function(){return i(e,t)},o(e,t)}:o}))}return e},e.prototype.getConvertors=function(){return this.convertors},e.prototype.getOptions=function(){return this.options},e.prototype.render=function(e){var t=this;this.buffer=[];var n=e.walker(),r=null,i=function(){var e=r.node,i=r.entering,a=o.convertors[e.type];if(!a)return"continue";var s=!1,l={entering:i,leaf:!g2(e),options:o.options,getChildrenText:r6,skipChildren:function(){s=!0}},c=V2(e)||q2(e)?a(e,l,o.convertors):a(e,l);if(c){var u=Array.isArray(c)?c:[c];u.forEach((function(n,r){"openTag"===n.type&&t.options.nodeId&&0===r&&(n.attributes||(n.attributes={}),n.attributes["data-nodeid"]=String(e.id)),t.renderHTMLNode(n)})),s&&(n.resumeAt(e,!1),n.next())}},o=this;while(r=n.next())i();return this.addNewLine(),this.buffer.join("")},e.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},e.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,r=e.classNames,i=e.attributes;this.buffer.push("<"+n),r&&r.length>0&&this.buffer.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(e){var n=i[e];t.buffer.push(" "+e+'="'+n+'"')})),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},e.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},e.prototype.addNewLine=function(){this.buffer.length&&"\n"!==k5(k5(this.buffer))&&this.buffer.push("\n")},e.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},e.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},e.prototype.renderTextNode=function(e){this.buffer.push(p2(e.content))},e.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},e.prototype.renderElementNode=function(e){"openTag"===e.type?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},e}(),o6=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)","g"),a6=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g"),s6=/href|src|background/i,l6=/((java|vb|live)script|x):/i,c6=/^on\S+/i,u6=new RegExp("(<"+Au+"[^>]*)(onload\\s*=)","ig"),f6=/<!--[\s\S]*?-->/g,d6=/[ \t\r\n]/g,h6=["script","iframe","textarea","form","button","select","input","meta","style","link","title","embed","object","details","summary","base"],p6=["iframe","embed","details","summary"],v6=Ws([],h6);function m6(e){if(Zl(p6,e)){var t=v6.indexOf(e);t>-1&&v6.splice(t,1)}}function y6(e){var t=document.createElement("div");return Gs(e)&&(e=e.replace(f6,"").replace(u6,"$1"),t.innerHTML=e),g6(t),x6(t),nf(t,!0)}function g6(e){var t=Yu(e,v6.join(","));t.forEach((function(e){Xu(e)}))}function b6(e,t){return e.match(s6)&&t.replace(d6,"").match(l6)}function w6(e,t){t.forEach((function(t){var n=t.name;c6.test(n)&&(e[n]=null),e.removeAttribute(n)}))}function x6(e){Yu(e,"*").forEach((function(e){var t=e.attributes,n=iu(t).filter((function(e){var t=e.name,n=e.value,r=t.match(o6),i=t.match(a6),o=r&&b6(t,n);return!r&&!i||o}));w6(e,n)}))}function k6(e){return e=e.replace(f6,""),l6.test(e)?"":e}function S6(e,t){return e.literal.replace(new RegExp("(<\\s*"+t+"[^>]+?>)|(</"+t+"\\s*[>])","ig"),"").trim()}function O6(e){e=e.match(zu)[0];var t=e.match(new RegExp(Lu,"g"));return t?t.reduce((function(e,t){var n=t.trim().split("="),r=n[0],i=n.slice(1);return i.length&&(e[r]=i.join("=").replace(/'|"/g,"").trim()),e}),{}):{}}function C6(e){return iu(e.attributes).reduce((function(e,t){return e[t.nodeName]=t.nodeValue,e}),{})}function E6(e,t,n,r){var i=r.getToDOMNode(t)(e),o=n(i.outerHTML),a=document.createElement("div");a.innerHTML=o,i=a.firstChild;var s=C6(i);return{dom:i,htmlAttrs:s}}var M6={htmlBlock:function(e,t,n){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:e,getAttrs:function(e){return{htmlAttrs:C6(e),childrenHTML:e.innerHTML}}}],toDOM:function(r){var i=E6(r,e,t,n),o=i.dom,a=i.htmlAttrs;return a.class=a.class?a.class+" html-block":"html-block",Ws([e,a],iu(o.childNodes))}}},htmlInline:function(e,t,n){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:e,getAttrs:function(e){return{htmlAttrs:C6(e)}}}],toDOM:function(r){var i=E6(r,e,t,n).htmlAttrs;return[e,i,0]}}}};function A6(e,t,n){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach((function(i){e[i]&&Object.keys(e[i]).forEach((function(e){var o="htmlBlock"===i?"nodes":"marks";m6(e),r[o][e]=M6[i](e,t,n)}))})),r}var T6=/^\s*<\s*\//,P6={paragraph:function(e,t){var n=t.entering,r=t.origin,i=t.options;return i.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(e){var t=e.prev&&"htmlInline"===e.prev.type,n=t&&/<br ?\/?>/.test(e.prev.literal),r=n?"\n":"<br>\n";return{type:"html",content:r}},item:function(e,t){var n=t.entering;if(n){var r={},i=[];return e.listData.task&&(r["data-task"]="",i.push("task-list-item"),e.listData.checked&&(i.push("checked"),r["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:r,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(e){var t={"data-backticks":String(e.tickCount)};return[{type:"openTag",tagName:"code",attributes:t},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e,n=t.fenceLength,r=t.info,i=r?r.split(/\s+/):[],o=[],a={};if(n>3&&(a["data-backticks"]=n),i.length>0&&i[0].length>0){var s=i[0];o.push("lang-"+s),a["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:a},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(e,t){var n=t.origin,r=t.entering,i=t.skipChildren,o=e.info;if(-1!==o.indexOf("widget")&&r){i();var a=Kc(e),s=qc(o,a).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return n()}};function R6(e,t){var n=Hs({},P6);return e&&(n.link=function(t,n){var r=n.entering,i=n.origin,o=i();return r&&(o.attributes=Hs(Hs({},o.attributes),e)),o}),t&&Object.keys(t).forEach((function(e){var r=n[e],i=t[e];r&&vu(i)?n[e]=function(e,t){var n=Hs({},t);return n.origin=function(){return r(e,t)},i(e,n)}:Zl(["htmlBlock","htmlInline"],e)&&!vu(i)?n[e]=function(e,t){var n=e.literal.match(zu);if(n){var r=n[0],o=n[1],a=n[3],s=(o||a).toLowerCase(),l=i[s],c=S6(e,s);if(l){var u=Hs({},e);return u.attrs=O6(r),u.childrenHTML=c,u.type=s,t.entering=!T6.test(e.literal),l(u,t)}}return t.origin()}:n[e]=i})),n}var D6=["list","item","blockQuote"],_6=["UL","OL","BLOCKQUOTE"];function j6(e,t){var n,r=e.child(t);return!r.childCount||1===r.childCount&&!(null===(n=r.firstChild.text)||void 0===n?void 0:n.trim())}function L6(e,t,n){var r=xc(t)-1,i=kc(t)-1,o=n[r].getBoundingClientRect(),a=n[i].offsetTop-n[r].offsetTop+n[i].clientHeight;return{height:a<=0?n[r].clientHeight:a+I6(e,n,Math.min(i+1,e.childCount-1)),rect:o}}function I6(e,t,n){var r=e.childCount-1,i=0;while(n<=r&&j6(e,n))i+=t[n].clientHeight,n+=1;return i}function N6(e,t){while(!e.getAttribute("data-nodeid")&&e.parentElement!==t)e=e.parentElement;return e}function B6(e,t){var n=0;while(e&&e!==t){if(Zl(_6,e.tagName)||(n+=e.offsetTop),e.offsetParent===t.offsetParent)break;e=e.parentElement}return n}function z6(e,t){var n=t,r=null;while(n){var i=n.firstElementChild;if(!i)break;var o=H6(i,e,B6(n,t));r=n,n=o}var a=n||r;return a===t?null:a}function H6(e,t,n){return e&&t>n+e.offsetTop?H6(e.nextElementSibling,t,n)||e:null}function W6(e,t,n,r){var i=Math.min((e-t)/n,1);return i*r}function F6(e){var t=document.querySelector('[data-nodeid="'+e.id+'"]');while(!t||Ec(e))e=e.parent,t=document.querySelector('[data-nodeid="'+e.id+'"]');return U6({mdNode:e,el:t})}function U6(e){var t=e.mdNode,n=e.el;while((Zl(D6,t.type)||"table"===t.type)&&t.firstChild)t=t.firstChild,n=n.firstElementChild;return{mdNode:t,el:n}}var V6={};function q6(e,t){V6[e]=V6[e]||{},V6[e].height=t}function Y6(e,t){V6[e]=V6[e]||{},V6[e].offsetTop=t}function $6(e){return V6[e]&&V6[e].height}function G6(e){return V6[e]&&V6[e].offsetTop}function X6(e){e&&(delete V6[Number(e.getAttribute("data-nodeid"))],iu(e.children).forEach((function(e){X6(e)})))}function K6(e,t,n){var r=$6(n),i=G6(n),o=r||e.clientHeight,a=i||B6(e,t)||e.offsetTop;return r||q6(n,o),i||Y6(n,a),{nodeHeight:o,offsetTop:a}}var Z6=Fu("md-preview-highlight");function J6(e,t){var n=e.firstChild;while(n&&n.next){if(Sc(n.next)>t+1)break;n=n.next}return n}var Q6=function(){function e(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=Fu("md-preview");var r=t.linkAttributes,i=t.customHTMLRenderer,o=t.sanitizer,a=t.highlight,s=void 0!==a&&a;this.renderer=new i6({gfm:!0,nodeId:!0,convertors:R6(r,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(s),this.initContentSection()}return e.prototype.initContentSection=function(){this.previewContent=Ju('<div class="'+Fu("contents")+'"></div>'),this.el.appendChild(this.previewContent)},e.prototype.toggleActive=function(e){Zu(this.el,"active",e)},e.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),e&&(this.eventEmitter.listen("changeToolbarState",(function(e){var n=e.mdNode,r=e.cursorPos;t.updateCursorNode(n,r)})),this.eventEmitter.listen("blur",(function(){t.removeHighlight()}))),Uh(this.el,"scroll",(function(e){t.eventEmitter.emit("scroll","preview",z6(e.target.scrollTop,t.previewContent))})),this.eventEmitter.listen("changePreviewTabPreview",(function(){return t.toggleActive(!0)})),this.eventEmitter.listen("changePreviewTabWrite",(function(){return t.toggleActive(!1)}))},e.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Rl(e,Z6)}},e.prototype.updateCursorNode=function(e,t){e&&(e=_c(e,(function(e){return!Dc(e)})),"tableRow"===e.type?e=J6(e,t[1]):"tableBody"===e.type&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var r=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);r&&Rl(r,Z6),i&&Cl(i,Z6),this.cursorNodeId=n}},e.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},e.prototype.update=function(e){var t=this;e.forEach((function(e){return t.replaceRangeNodes(e)})),this.eventEmitter.emit("afterPreviewRender",this)},e.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,r=e.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map((function(e){return t.renderer.render(e)})).join("")));if(r){var a=r.id,s=a[0],l=a[1],c=this.getElementByNodeId(s),u=this.getElementByNodeId(l);if(c){c.insertAdjacentHTML("beforebegin",o);var f=c;while(f&&f!==u){var d=f.nextElementSibling;Xu(f),X6(f),f=d}(null===f||void 0===f?void 0:f.parentNode)&&(Xu(f),X6(f))}}else i.insertAdjacentHTML("afterbegin",o)},e.prototype.getRenderer=function(){return this.renderer},e.prototype.destroy=function(){Ih(this.el,"scroll"),this.el=null},e.prototype.getElement=function(){return this.el},e.prototype.getHTML=function(){return this.previewContent.innerHTML},e.prototype.setHTML=function(e){this.previewContent.innerHTML=e},e.prototype.setHeight=function(e){sl(this.el,{height:e+"px"})},e.prototype.setMinHeight=function(e){sl(this.el,{minHeight:e+"px"})},e}();function e9(e,t){var n=e.depth;while(n){var r=e.node(n);if(t(r,n))return{node:r,depth:n,offset:n>0?e.before(n):0};n-=1}return null}function t9(e){return!!e9(e,(function(e){var t=e.type;return"listItem"===t.name||"bulletList"===t.name||"orderedList"===t.name}))}function n9(e){return!!e9(e,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}))}function r9(e){return e9(e,(function(e){var t=e.type;return"listItem"===t.name}))}function i9(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Hs({},t&&{rawHTML:t})}}}function o9(e){return Object.keys(e).reduce((function(t,n){return"rawHTML"!==n&&e[n]&&(n="className"===n?"class":n,t[n]=e[n]),t}),{})}function a9(e){return{tag:e,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce((function(t,n){var r="rawHTML"===n?"data-raw-html":n,i=e.getAttribute(r);return i&&(t[n]=Zl(["rawHTML","extended"],n)?i:Number(i)),t}),{})}}}function s9(){return{htmlAttrs:{default:null},classNames:{default:null}}}function l9(e){var t=e.htmlAttrs,n=e.classNames;return Hs(Hs({},t),{class:n?n.join(" "):null})}function c9(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.contentMatchAt(r).findWrapping(t);if(o){var a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}return null}function u9(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(a){for(var s=a.length?a[a.length-1]:t,l=s.contentMatch,c=r;l&&c<i;c+=1)l=l.matchType(n.child(c).type);if(l&&l.validEnd)return a}return null}function f9(e,t,n,r){var i=c9(e,n),o=u9(t,n);if(i&&o){var a=i.map((function(e){return{type:e}})),s=o.map((function(e){return{type:e,attrs:r}}));return a.concat({type:n}).concat(s)}return null}function d9(e,t,n,r,i){for(var o=t.start,a=t.end,s=t.startIndex,l=t.endIndex,c=t.parent,u=b.empty,f=n.length-1;f>=0;f-=1)u=b.from(n[f].type.create(n[f].attrs,u));e.step(new Qe(o-(r?2:0),a,o,a,new C(u,0,0),n.length,!0));var d=0;for(f=0;f<n.length;f+=1)if(n[f].type===i){d=f+1;break}for(var h=n.length-d,p=o+n.length-(r?2:0),v=(f=s,l);f<v;f+=1){var m=f===s;!m&&vt(e.doc,p,h)&&(e.split(p,h),p+=2*h),p+=c.child(f).nodeSize}return e}function h9(e,t,n,r){var i=t.$from,o=t.$to,a=t.depth,s=t,l=!1;if(a>=2&&i.node(a-1).type.compatibleContent(n)&&0===t.startIndex&&i.index(a-1)){var c=e.doc.resolve(t.start-2);s=new F(c,c,a),t.endIndex<t.parent.childCount&&(t=new F(i,e.doc.resolve(o.end(a)),a)),l=!0}var u=f9(s,t,n,r);return u?d9(e,t,u,l,n):e}function p9(e,t){var n=e.resolve(t);while("paragraph"!==n.node().type.name)t-=2,n=e.resolve(t);return r9(n)}function v9(e,t){var n=t.$from,r=t.$to,i=r9(n),o=r9(r);if(i&&o)while(o){var a=o.offset,s=o.node,l={task:!s.attrs.task,checked:!1};if(e.setNodeMarkup(a,null,l),a===i.offset)break;o=p9(e.doc,a)}return e}function m9(e,t,n){var r=t.$from,i=t.$to,o=r9(r),a=r9(i);if(o&&a)while(a){var s=a.offset,l=a.node,c=a.depth;l.attrs.task&&e.setNodeMarkup(s,null,{task:!1,checked:!1});var u=e.doc.resolve(s);if(u.parent.type!==n){var f=u.before(c-1);e.setNodeMarkup(f,n)}if(s===o.offset)break;a=p9(e.doc,s)}return e}function y9(e){return function(t,n){var r=t.selection,i=t.tr,o=r.$from,a=r.$to,s=o.blockRange(a);if(s){var l=t9(o)?m9(i,s,e):h9(i,s,e);return n(l),!0}return!1}}function g9(){return function(e,t){var n=e.selection,r=e.tr,i=e.schema,o=n.$from,a=n.$to,s=o.blockRange(a);if(s){var l=t9(o)?v9(r,s):h9(r,s,i.nodes.bulletList,{task:!0});return t(l),!0}return!1}}function b9(e){return function(t,n){var r=t.tr,i=t.selection,o=i.$from,a=i.$to,s=o.blockRange(a,(function(t){var n=t.childCount,r=t.firstChild;return!!n&&r.type===e}));if(s&&s.startIndex>0){var l=s.parent,c=l.child(s.startIndex-1);if(c.type!==e)return!1;var u=c.lastChild&&c.lastChild.type===l.type,f=u?b.from(e.create()):null,d=new C(b.from(e.create(null,b.from(l.type.create(null,f)))),u?3:1,0),h=s.start,p=s.end;return r.step(new Qe(h-(u?3:1),p,h,p,d,1,!0)),n(r),!0}return!1}}function w9(e,t,n){var r=t.$from,i=t.$to,o=t.end,a=t.depth,s=t.parent,l=i.end(a);return o<l&&(e.step(new Qe(o-1,l,o,l,new C(b.from(n.create(null,s.copy())),1,0),1,!0)),t=new F(e.doc.resolve(r.pos),e.doc.resolve(l),a)),e.lift(t,ot(t)),e}function x9(e,t){for(var n=t.parent,r=t.end,i=t.endIndex-1,o=t.startIndex;i>o;i-=1)r-=n.child(i).nodeSize,e.delete(r-1,r+1);var a=e.doc.resolve(t.start),s=a.nodeAfter,l=0===t.startIndex,c=t.endIndex===n.childCount,u=a.node(-1),f=a.index(-1),d=u.canReplace(f+(l?0:1),f+1,null===s||void 0===s?void 0:s.content.append(c?b.empty:b.from(n)));if(s&&d){var h=a.pos,p=h+s.nodeSize;e.step(new Qe(h-(l?1:0),p+(c?1:0),h+1,p-1,new C((l?b.empty:b.from(n.copy(b.empty))).append(c?b.empty:b.from(n.copy(b.empty))),l?0:1,c?0:1),l?0:1))}return e}function k9(e){return function(t,n){var r=t.tr,i=t.selection,o=i.$from,a=i.$to,s=o.blockRange(a,(function(t){var n=t.childCount,r=t.firstChild;return!!n&&r.type===e}));if(s){var l=o.node(s.depth-1).type===e,c=l?w9(r,s,e):x9(r,s);return n(c),!0}return!1}}function S9(e){return function(t,n){var r=t.tr,i=t.selection,o=i.$from,a=i.$to;if(o.depth<2||!o.sameParent(a))return!1;var s=o.node(-1);if(s.type!==e)return!1;if(0===o.parent.content.size&&o.node(-1).childCount===o.indexAfter(-1)){if(2===o.depth||o.node(-3).type!==e||o.index(-2)!==o.node(-2).childCount-1)return!1;for(var l=o.index(-1)>0,c=b.empty,u=o.depth-(l?1:2);u>=o.depth-3;u-=1)c=b.from(o.node(u).copy(c));return c=c.append(b.from(e.createAndFill())),r.replace(l?o.before():o.before(-1),o.after(-3),new C(c,l?3:2,2)),r.setSelection(Ht.near(r.doc.resolve(o.pos+(l?3:2)))),n(r),!0}var f=a.pos===o.end()?s.contentMatchAt(0).defaultType:null,d=f&&[null,{type:f}];return r.delete(o.pos,a.pos),!!vt(r.doc,o.pos,2,d)&&(r.split(o.pos,2,d),n(r),!0)}}function O9(){return function(){return function(e,t){var n=e.selection,r=e.schema,i=n.$from,o=n.$to,a=i.blockRange(o);return!(!a||!t9(i))&&b9(r.nodes.listItem)(e,t)}}}function C9(){return function(){return function(e,t){var n=e.selection,r=e.schema,i=n.$from,o=n.$to,a=i.blockRange(o);return!(!a||!t9(i))&&k9(r.nodes.listItem)(e,t)}}}function E9(){return{indent:O9(),outdent:C9()}}var M9=new Map,A9=function(){function e(e,t,n,r){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=r}return e.create=function(t){var n=e9(t,(function(e){var t=e.type;return"table"===t.name}));if(n){var r=n.node,i=n.depth,o=n.offset,a=M9.get(r);if((null===a||void 0===a?void 0:a.tableStartPos)===o+1)return a;var s=[],l=t.start(i),c=r.child(0),u=r.child(1),f=T9(c,l),d=T9(u,l+c.nodeSize);c.forEach((function(e){return s.push(e)})),u.forEach((function(e){return s.push(e)}));var h=new e(r,s,l,f.concat(d));return M9.set(r,h),h}return null},Object.defineProperty(e.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),e.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},e.prototype.posAt=function(e,t){for(var n=0,r=this.tableStartPos;;n+=1){var i=r+this.tableRows[n].nodeSize;if(n===e){var o=t;while(o<this.totalColumnCount&&this.rowInfo[n][o].offset<r)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}r=i}},e.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-1),pos:n.offset}},e.prototype.extendedRowspan=function(e,t){return!1},e.prototype.extendedColspan=function(e,t){return!1},e.prototype.getRowspanCount=function(e,t){return 0},e.prototype.getColspanCount=function(e,t){return 0},e.prototype.decreaseColspanCount=function(e,t){return 0},e.prototype.decreaseRowspanCount=function(e,t){return 0},e.prototype.getColspanStartInfo=function(e,t){return null},e.prototype.getRowspanStartInfo=function(e,t){return null},e.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},e.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],r=n.offset,i=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):r+i},e.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],r=0;r<this.totalColumnCount;r+=1)if(n[r].offset+1>e.pos)return[t,r];return[0,0]},e.prototype.getRectOffsets=function(e,t){var n,r,i;void 0===t&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var o=this.getCellIndex(e),a=o[0],s=o[1],l=this.getCellIndex(t),c=l[0],u=l[1];return r=pc(a,c),a=r[0],c=r[1],i=pc(s,u),s=i[0],u=i[1],this.getSpannedOffsets({startRowIdx:a,startColIdx:s,endRowIdx:c,endColIdx:u})},e.prototype.getSpannedOffsets=function(e){return e},e}(),T9=function(e,t){var n=[];return e.forEach((function(e,r){var i={rowspanMap:{},colspanMap:{},length:0};e.forEach((function(e,n){var o=e.nodeSize,a=0;while(i[a])a+=1;i[a]={offset:t+r+n+2,nodeSize:o},i.length+=1})),n.push(i)})),n};function P9(e,t){return hc(A9.prototype,e),T9=t,A9}function R9(e,t,n){for(var r=n.startRowIdx,i=n.startColIdx,o=n.endRowIdx,a=n.endColIdx,s=[],l=r;l<=o;l+=1)for(var c=i;c<=a;c+=1){var u=t.getCellInfo(l,c),f=u.offset,d=u.nodeSize;s.push(new Wt(e.resolve(f+1),e.resolve(f+d-1)))}return s}function D9(e,t){var n=[];return e.childCount&&n.push(e),t.childCount&&n.push(t),b.from(n)}var _9=function(e){function t(t,n){void 0===n&&(n=t);var r=this,i=t.node(0),o=A9.create(t),a=o.getRectOffsets(t,n),s=R9(i,o,a);return r=e.call(this,s[0].$from,s[0].$to,s)||this,r.startCell=t,r.endCell=n,r.offsetMap=o,r.isCellSelection=!0,r.visible=!1,r}return zs(t,e),t.prototype.map=function(e,n){var r=this.startCell.pos,i=this.endCell.pos,o=e.resolve(n.map(r)),a=e.resolve(n.map(i)),s=A9.create(o);if(this.offsetMap.totalColumnCount>s.totalColumnCount||this.offsetMap.totalRowCount>s.totalRowCount){var l={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=l[a.parent.type.name],u=a.end(a.depth-c),f=Math.min(u-4,a.pos);return Vt.create(e,f)}return new t(o,a)},t.prototype.eq=function(e){return e instanceof t&&e.startCell.pos===this.startCell.pos&&e.endCell.pos===this.endCell.pos},t.prototype.content=function(){for(var e=this.startCell.node(-2),t=this.startCell.start(-2),n=e.child(1).firstChild,r=e.child(0).type.create(),i=e.child(1).type.create(),o=A9.create(this.startCell),a=o.getRectOffsets(this.startCell,this.endCell),s=a.startRowIdx,l=a.startColIdx,c=a.endRowIdx,u=a.endColIdx,f=!1,d=s;d<=c;d+=1){for(var h=[],p=l;p<=u;p+=1){var v=o.getCellInfo(d,p).offset,m=e.nodeAt(v-t);m&&(f="tableHeadCell"===m.type.name,o.extendedRowspan(d,p)||o.extendedColspan(d,p)?h.push(m.type.create({extended:!0})):h.push(m.copy(m.content)))}var y=n.copy(b.from(h)),g=f?r:i;g.content=g.content.append(b.from(y))}return new C(D9(r,i),1,1)},t}(Ht);function j9(e,t,n){for(var r=t.nodes,i=r.tableRow,o=r.tableHeadCell,a=r.paragraph,s=[],l=0;l<e;l+=1){var c=n&&n[l],u=a.create(null,c?t.text(c):[]);s.push(o.create(null,u))}return[i.create(null,s)]}function L9(e,t,n,r){for(var i=n.nodes,o=i.tableRow,a=i.tableBodyCell,s=i.paragraph,l=[],c=0;c<e;c+=1){for(var u=[],f=0;f<t;f+=1){var d=r&&r[c*t+f],h=s.create(null,d?n.text(d):[]);u.push(a.create(null,h))}l.push(o.create(null,u))}return l}function I9(e,t,n,r){void 0===r&&(r=null);for(var i=n.nodes,o=i.tableHeadCell,a=i.tableBodyCell,s=i.paragraph,l=0===t?o:a,c=[],u=0;u<e;u+=1)c.push(l.create(r,s.create()));return c}function N9(e,t){while(e&&e!==t){if("TD"===e.nodeName||"TH"===e.nodeName)return e;e=e.parentNode}return null}function B9(e){return e9(e,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}))}function z9(e){if(e instanceof Vt){var t=e.$anchor,n=B9(t);if(n){var r=t.node(0).resolve(t.before(n.depth));return{anchor:r,head:r}}}var i=e,o=i.startCell,a=i.endCell;return{anchor:o,head:a}}function H9(e){var t;if(e.size){var n=e.content,r=e.openStart,i=e.openEnd;if(1!==n.childCount)return null;while(1===n.childCount&&(r>0&&i>0||"table"===(null===(t=n.firstChild)||void 0===t?void 0:t.type.name)))r-=1,i-=1,n=n.firstChild.content;if("tableHead"===n.firstChild.type.name||"tableBody"===n.firstChild.type.name)return n}return null}function W9(e){var t=e.startRowIdx,n=e.startColIdx,r=e.endRowIdx,i=e.endColIdx,o=r-t+1,a=i-n+1;return{rowCount:o,columnCount:a}}function F9(e,t){return Hs(Hs({},e.attrs),t)}var U9=new dn("cellSelection"),V9=2,q9=function(){function e(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return e.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},e.prototype.handleMousedown=function(e){var t=N9(e.target,this.view.dom);if(e.button!==V9){if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}}else e.preventDefault()},e.prototype.handleMousemove=function(e){var t,n=U9.getState(this.view.state),r=this.getCellPos(e),i=this.startCellPos;n?t=this.view.state.doc.resolve(n):i!==r&&(t=i),t&&i&&r&&this.setCellSelection(i,r)},e.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),null!==U9.getState(this.view.state)&&this.view.dispatch(this.view.state.tr.setMeta(U9,-1))},e.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},e.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},e.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,r=this.view.posAtCoords({left:t,top:n});if(r){var i=this.view.state.doc,o=i.resolve(r.pos),a=B9(o);if(a){var s=o.before(a.depth);return i.resolve(s)}}return null},e.prototype.setCellSelection=function(e,t){var n=this.view.state,r=n.selection,i=n.tr,o=null===U9.getState(this.view.state),a=new _9(e,t);if(o||!r.eq(a)){var s=i.setSelection(a);o&&s.setMeta(U9,t.pos),this.view.dispatch(s)}},e.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},e}(),Y9=Fu("cell-selected");function $9(e){var t=e.selection,n=e.doc;if(t instanceof _9){var r=[],i=t.ranges;return i.forEach((function(e){var t=e.$from,n=e.$to;r.push(Ao.node(t.pos-1,n.pos+1,{class:Y9}))})),Ro.create(n,r)}return null}function G9(){return new cn({key:U9,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(U9);if(n)return-1===n?null:n;if(Ll(t)||!e.docChanged)return t;var r=e.mapping.mapResult(t),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:$9,createSelectionBetween:function(e){var t=e.state;return Ll(U9.getState(t))?null:t.selection}},view:function(e){return new q9(e)}})}var X9=function(){function e(){this.keys=[],this.values=[]}return e.prototype.getKeyIndex=function(e){return ul(e,this.keys)},e.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},e.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},e.prototype.has=function(e){return this.getKeyIndex(e)>-1},e.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1&&(this.keys.splice(t,1),this.values.splice(t,1),!0)},e.prototype.forEach=function(e,t){var n=this;void 0===t&&(t=this),this.values.forEach((function(r,i){r&&n.keys[i]&&e.call(t,r,n.keys[i],n)}))},e.prototype.clear=function(){this.keys=[],this.values=[]},e}(),K9="en-US",Z9=function(){function e(){this.code=K9,this.langs=new X9}return e.prototype.setCode=function(e){this.code=e||K9},e.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach((function(e){if(n.langs.has(e)){var r=n.langs.get(e);n.langs.set(e,Ys(r,t))}else n.langs.set(e,t)}))},e.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(K9));var r=n[e];if(!r)throw new Error('There is no text key "'+e+'" in '+t);return r},e}(),J9=new Z9,Q9=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function e4(e,t){return Q9.map((function(n){return n.map((function(n){var r=n.action,i=n.command,o=n.payload,a=n.disableInThead,s=n.className;return{label:J9.get(r),onClick:function(){e.emit("command",i,o)},disabled:t&&!!a,className:s}}))})).concat()}function t4(e){return new cn({props:{handleDOMEvents:{contextmenu:function(t,n){var r=N9(n.target,t.dom);if(r){n.preventDefault();var i=n,o=i.clientX,a=i.clientY,s=t.dom.parentNode.getBoundingClientRect(),l=s.left,c=s.top,u="TH"===r.nodeName;return e.emit("contextmenu",{pos:{left:o-l+10+"px",top:a-c+30+"px"},menuGroups:e4(e,u),tableCell:r}),!0}return!1}}}})}function n4(){return new cn({props:{handleDOMEvents:{mousedown:function(e,t){var n=t,r=n.clientX,i=n.clientY,o=e.posAtCoords({left:r,top:i});if(o){var a=e.state,s=a.doc,l=a.tr,c=s.resolve(o.pos),u=r9(c),f=t.target,d=getComputedStyle(f,":before"),h=t,p=h.offsetX,v=h.offsetY;if(!u||!Hu(d,p,v))return!1;t.preventDefault();var m=c.before(u.depth),y=u.node.attrs;return l.setNodeMarkup(m,null,Hs(Hs({},y),{checked:!y.checked})),e.dispatch(l),!0}return!1}}}})}var r4=["image","link","customBlock","frontMatter"],i4=["strong","strike","emph","code"],o4=["bulletList","orderedList","taskList"];function a4(e,t){var n=e.type.name;return"listItem"===n?e.attrs.task?"taskList":t.type.name:-1!==n.indexOf("table")?"table":n}function s4(e,t){t[e]=!0,o4.filter((function(t){return t!==e})).forEach((function(e){t[e]&&delete t[e]}))}function l4(e,t,n){var r={};return i4.forEach((function(i){var o=n.marks[i],a=e.marksAcross(t)||[],s=!!o.isInSet(a);s&&(r[i]=!0)})),r}function c4(e,t,n){var r=e.$from,i=e.$to,o=e.from,a=e.to,s={},l={};return t.nodesBetween(o,a,(function(e,t,o){var a=a4(e,o);Zl(r4,a)||(Zl(o4,a)?s4(a,s):"paragraph"===a||"text"===a?l=l4(r,i,n):s[a]=!0)})),Hs(Hs({},s),l)}function u4(e){return new cn({view:function(){return{update:function(t){var n=t.state,r=n.selection,i=n.doc,o=n.schema;e.emit("changeToolbarState",{toolbarState:c4(r,i,o)})}}}})}var f4=function(){function e(e,t,n,r){var i=this;this.openEditor=function(){if(i.innerEditorView)throw new Error("The editor is already opened.");i.wrapper.style.display="none",i.innerViewContainer.style.display="block",i.innerEditorView=new ia(i.innerViewContainer,{state:sn.create({doc:i.node,plugins:[Ma({"Mod-z":function(){return Ls(i.innerEditorView.state,i.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Is(i.innerEditorView.state,i.innerEditorView.dispatch)},Tab:function(e,t){return t(e.tr.insertText("\t")),!0},Enter:Na,Escape:function(){return i.cancelEditing(),!0},"Ctrl-Enter":function(){return i.saveAndFinishEditing(),!0}}),js()]}),dispatchTransaction:function(e){return i.dispatchInner(e)},handleDOMEvents:{mousedown:function(){return i.editorView.hasFocus()&&i.innerEditorView.focus(),!0},blur:function(){return i.saveAndFinishEditing(),!0}}}),i.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=r,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Fu("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Fu("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return e.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),r=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",r.type="button",r.addEventListener("click",(function(){return e.openEditor()})),t.appendChild(n),t.appendChild(r),this.wrapper.appendChild(t)},e.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){var t=e(this.node);while(this.wrapper.hasChildNodes())this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},e.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Fu("custom-block-editor"),this.innerViewContainer.style.display="none"},e.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},e.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(yc(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},e.prototype.cancelEditing=function(){var e=Ns(this.innerEditorView.state);this.canceled=!0;while(e--)Ls(this.innerEditorView.state,this.innerEditorView.dispatch),Ls(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Vt.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},e.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,r=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&vu(this.getPos)){for(var i=this.editorView.state.tr,o=Ve.offset(this.getPos()+1),a=0;a<r.length;a+=1)for(var s=r[a].steps,l=0;l<s.length;l+=1)i.step(s[l].map(o));i.docChanged&&this.editorView.dispatch(i)}},e.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0)},e.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},e.prototype.ignoreMutation=function(){return!0},e.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},e}(),d4="image-link",h4=function(){function e(e,t,n,r){var i,o=this;this.handleMousedown=function(e){e.preventDefault();var t=e.target,n=e.offsetX,r=e.offsetY;if(o.imageLink&&vu(o.getPos)&&xu(t,d4)){var i=getComputedStyle(t,":before");if(e.stopPropagation(),Hu(i,n,r)){var a=o.view.state.tr,s=o.getPos();a.setSelection(yc(a,s,s+1)),o.view.dispatch(a),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=r,this.imageLink=null!==(i=e.marks.filter((function(e){var t=e.type;return"link"===t.name}))[0])&&void 0!==i?i:null,this.dom=this.createElement(),this.bindEvent()}return e.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=d4,t.appendChild(e),t}return e},e.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,r=n.imageUrl,i=n.altText,o=l9(e.attrs);return t.src=r,i&&(t.alt=i),rf(o,t),t},e.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},e.prototype.stopEvent=function(){return!0},e.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},e}(),p4="toastui-editor-ww-code-block",v4="toastui-editor-ww-code-block-language",m4=function(){function e(e,t,n,r){var i=this;this.dom=null,this.contentDOM=null,this.input=null,this.handleMousedown=function(e){var t=e.target,n=getComputedStyle(t,":after");if("none"!==n.backgroundImage&&vu(i.getPos)){var r=i.view.coordsAtPos(i.getPos()),o=r.top,a=r.right;i.createLanguageEditor({top:o,right:a})}},this.handleKeydown=function(e){"Enter"===e.key&&i.input&&(e.preventDefault(),i.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=r,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return e.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=p4;var n=this.createCodeBlockElement(),r=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=r},e.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,r=l9(this.node.attrs);return n&&t.setAttribute("data-language",n),rf(r,e),e.appendChild(t),e},e.prototype.createLanguageEditor=function(e){var t=this,n=e.top,r=e.right,i=document.createElement("span");i.className=v4;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),document.querySelector(".toastui-editor.ww-mode").appendChild(i);var a=i.clientWidth;sl(i,{top:n+10+"px",left:r-a-10+"px",width:a+"px"}),this.input=o,this.input.addEventListener("blur",(function(){return t.changeLanguage()})),this.input.addEventListener("keydown",this.handleKeydown),setTimeout((function(){return t.input.focus()}))},e.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},e.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",(function(){e.input&&e.reset()}))},e.prototype.changeLanguage=function(){if(this.input&&vu(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},e.prototype.reset=function(){var e;if(null===(e=this.input)||void 0===e?void 0:e.parentElement){var t=this.input.parentElement;this.input=null,Xu(t)}},e.prototype.stopEvent=function(){return!0},e.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,!0)},e.prototype.destroy=function(){this.reset(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},e}(),y4=/MsoListParagraph/,g4=/style=(.|\n)*mso-/,b4=/mso-list:(.*)/,w4=/O:P/,x4=/^(n|u|l)/,k4="p.MsoListParagraph";function S4(e){return g4.test(e)}function O4(e){var t=[],n=document.createTreeWalker(e,1,null,!1);while(n.nextNode()){var r=n.currentNode;if(qu(r)){var i=r,o=i.outerHTML,a=i.textContent,s=g4.test(o),l=b4.test(o);s&&!l&&a?t.push([r,!0]):(w4.test(r.nodeName)||s&&!a||l)&&t.push([r,!1])}}return t.forEach((function(e){var t=e[0],n=e[1];n?Ku(t):Xu(t)})),e.innerHTML.trim()}function C4(e,t){var n=e.getAttribute("style");if(n){var r=n.match(b4),i=r[1],o=i.trim().split(" "),a=o[1],s=parseInt(a.replace("level",""),10),l=x4.test(e.textContent||"");return{id:t,level:s,prev:null,parent:null,children:[],unordered:l,contents:O4(e)}}return null}function E4(e,t){if(t.level<e.level)t.children.push(e),e.parent=t;else{while(t){if(t.level===e.level)break;t=t.parent}t&&(e.prev=t,e.parent=t.parent,e.parent&&e.parent.children.push(e))}}function M4(e){var t=[];return e.forEach((function(e,n){var r=t[n-1],i=C4(e,n);i&&(r&&E4(i,r),t.push(i))})),t}function A4(e){var t=e[0].unordered?"ul":"ol",n=document.createElement(t);return e.forEach((function(e){var t=e.children,r=e.contents,i=document.createElement("li");i.innerHTML=r,n.appendChild(i),t.length&&n.appendChild(A4(t))})),n}function T4(e){var t=M4(e),n=t.filter((function(e){var t=e.parent;return!t}));return A4(n)}function P4(e){while(e){if(qu(e))break;e=e.nextSibling}return!e||!y4.test(e.className)}function R4(e){var t=document.createElement("div");t.innerHTML=e;var n=[],r=Yu(t,k4);r.forEach((function(e){var r=P4(e.nextSibling);if(n.push(e),r){var i=T4(n),o=e.nextSibling;o?Gu(i,o):$u(t,i),n=[]}Xu(e)}));var i=r.length?"<p></p>":"";return""+i+t.innerHTML}var D4="\x3c!--StartFragment--\x3e",_4="\x3c!--EndFragment--\x3e";function j4(e){var t=e.indexOf(D4),n=e.lastIndexOf(_4);return t>-1&&n>-1&&(e=e.slice(t+D4.length,n)),e}function L4(e){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(e)&&(e="<tr>"+e+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(e)&&(e="<table>"+e+"</table>"),e}function I4(e){return e=j4(e),e=L4(e),S4(e)&&(e=R4(e)),e}function N4(e){var t=e.reduce((function(e,t){return e.childCount>t.childCount?e:t}));return t.childCount}function B4(e,t,n){for(var r=[],i=e.childCount,o=0;o<i;o+=1)if(!e.child(o).attrs.extended){var a=o<i?n.create(e.child(o).attrs,e.child(o).content):n.createAndFill();r.push(a)}return r}function z4(e,t,n){var r=n.nodes,i=r.tableRow,o=r.tableHeadCell,a=B4(e,t,o);return i.create(null,a)}function H4(e,t,n){var r=n.nodes,i=r.tableRow,o=r.tableBodyCell,a=B4(e,t,o);return i.create(null,a)}function W4(e,t){for(var n=t.nodes,r=n.tableRow,i=n.tableBodyCell,o=[],a=0;a<e;a+=1){var s=i.createAndFill();o.push(s)}return r.create({dummyRowForPasting:!0},o)}function F4(e){var t=[],n=[];if("tableHead"===e.firstChild.type.name){var r=e.firstChild;r.forEach((function(e){return t.push(e)}))}if("tableBody"===e.lastChild.type.name){var i=e.lastChild;i.forEach((function(e){return n.push(e)}))}return Ws(Ws([],t),n)}function U4(e,t,n){var r=z4(e,t,n);return n.nodes.tableHead.create(null,r)}function V4(e,t,n){var r=e.map((function(e){return H4(e,t,n)}));if(!e.length){var i=W4(t,n);r.push(i)}return n.nodes.tableBody.create(null,r)}function q4(e,t,n){var r=N4(e);if(n)return t.nodes.table.create(null,[V4(e,r,t)]);var i=e[0],o=e.slice(1),a=[U4(i,r,t)];return o.length&&a.push(V4(o,r,t)),t.nodes.table.create(null,a)}function Y4(e,t){var n=[];return e.content.forEach((function(e){if("table"===e.type.name){var r=H9(new C(b.from(e),0,0));if(r){var i=F4(r),o="tableBody"===r.firstChild.type.name,a=q4(i,t,o);n.push(a)}}else n.push(e)})),new C(b.from(n),0,0)}var $4=4,G4=2;function X4(e){return e*$4}function K4(e,t,n){var r=[],i=F4(e),o=i[0].childCount,a=i.length,s=0===t.startRowIdx,l=i.slice(0,a);if(s){var c=l.shift();if(c){var u=z4(c,o,n).content;r.push(u)}}return l.forEach((function(e){if(!e.attrs.dummyRowForPasting){var t=H4(e,o,n).content;r.push(t)}})),r}function Z4(e,t,n){for(var r=t.startRowIdx,i=t.startColIdx,o=n.length,a=0,s=function(e){var t=n[e].childCount;n[e].forEach((function(e){var n=e.attrs,r=n.colspan;r>1&&(t+=r-1)})),a=Math.max(a,t)},l=0;l<o;l+=1)s(l);var c=r+o-1,u=i+a-1,f=Math.max(c+1-e.totalRowCount,0),d=Math.max(u+1-e.totalColumnCount,0);return{startRowIdx:r,startColIdx:i,endRowIdx:c,endColIdx:u,addedRowCount:f,addedColumnCount:d}}function J4(e,t){for(var n=e.startRowIdx,r=e.startColIdx,i=e.endRowIdx,o=e.endColIdx,a=e.addedRowCount,s=e.addedColumnCount,l=n;l<=i-a;l+=1)t.push({rowIdx:l,startColIdx:r,endColIdx:o-s})}function Q4(e,t,n,r,i){for(var o=r.startRowIdx,a=r.startColIdx,s=r.endRowIdx,l=r.endColIdx,c=r.addedRowCount,u=r.addedColumnCount,f=n.totalRowCount,d=0,h=0;h<f;h+=1){var p=n.getCellInfo(h,l-u),v=p.offset,m=p.nodeSize,y=e.mapping.map(v+m),g=I9(u,h,t);if(e.insert(y,g),h>=o&&h<=s-c){var b=n.getCellInfo(h,l-u),w=e.mapping.map(b.offset),x=y+X4(u);i[d]={rowIdx:h,startColIdx:a,endColIdx:l,dummyOffsets:[w,x]},d+=1}}}function e7(e,t,n,r,i){var o=r.addedRowCount,a=r.addedColumnCount,s=r.startColIdx,l=r.endColIdx,c=e.mapping.maps.length,u=n.tableEndOffset-2,f=L9(o,n.totalColumnCount+a,t),d=u;e.insert(e.mapping.slice(c).map(d),f);for(var h=0;h<o;h+=1){var p=d+X4(s)+1,v=d+X4(l+1)+1,m=d+X4(n.totalColumnCount+a)+G4;i.push({rowIdx:h+n.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[p,v]}),d=m}}function t7(e,t,n,r){var i=e.mapping.maps.length;n.forEach((function(n,o){var a=n.rowIdx,s=n.startColIdx,l=n.endColIdx,c=n.dummyOffsets,u=e.mapping.slice(i),f=new C(t[o],0,0),d=c?c[0]:r.getCellStartOffset(a,s),h=c?c[1]:r.getCellEndOffset(a,l);e.replace(u.map(d),u.map(h),f)}))}function n7(e,t){var n=e.state,r=n.selection,i=n.schema,o=n.tr,a=z9(r),s=a.anchor,l=a.head;if(s&&l){var c=H9(t);if(!c)return!1;var u=A9.create(s),f=u.getRectOffsets(s,l),d=K4(c,f,i),h=Z4(u,f,d),p=[];return i7(u,h)&&(J4(h,p),h.addedColumnCount&&Q4(o,i,u,h,p),h.addedRowCount&&e7(o,i,u,h,p),t7(o,d,p,u),e.dispatch(o),r7(e,p,u.getCellInfo(0,0).offset)),!0}return!1}function r7(e,t,n){var r=e.state,i=r.tr,o=r.doc,a=A9.create(o.resolve(n)),s=t[0],l=s.rowIdx,c=s.startColIdx,u=sc(t),f=u.rowIdx,d=u.endColIdx,h=a.getCellInfo(l,c).offset,p=a.getCellInfo(f,d).offset;e.dispatch(i.setSelection(new _9(o.resolve(h),o.resolve(p))))}function i7(e,t){var n=e.getSpannedOffsets(t),r=W9(n),i=r.rowCount,o=r.columnCount,a=W9(t),s=a.rowCount,l=a.columnCount;return i===s&&o===l}var o7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),t}(cu),a7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"inline*",group:"block listGroup",attrs:Hs({},s9()),parseDOM:[{tag:"p"}],toDOM:function(e){var t=e.attrs;return["p",l9(t),0]}}},enumerable:!1,configurable:!0}),t}(cu),s7=/\s{1,4}$/,l7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),t.prototype.addSpaces=function(){return function(e,t){var n=e.selection,r=e.tr,i=n.$from,o=n.$to,a=i.blockRange(o);return!(!a||t9(i)||n9(i))&&(t(r.insertText("    ",i.pos,o.pos)),!0)}},t.prototype.removeSpaces=function(){return function(e,t){var n=e.selection,r=e.tr,i=n.$from,o=n.$to,a=n.from,s=i.blockRange(o);if(s&&!t9(i)&&!n9(i)){var l=i.nodeBefore;if(l&&l.isText){var c=l.text,u=c.replace(s7,""),f=c.length-u.length;return t(r.delete(a-f,a)),!0}}return!1}},t.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},t}(cu),c7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=this.levels.map((function(e){return{tag:"h"+e,getAttrs:function(t){var n=t.getAttribute("data-raw-html");return Hs({level:e},n&&{rawHTML:n})}}}));return{attrs:Hs({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},s9()),content:"inline*",group:"block",defining:!0,parseDOM:e,toDOM:function(e){var t=e.attrs;return["h"+t.level,l9(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(e){return function(t,n){return Ka(t.schema.nodes.heading,e)(t,n)}}},t}(cu),u7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:Hs({language:{default:null},rawHTML:{default:null}},s9()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){var t=e.getAttribute("data-raw-html"),n=e.firstElementChild;return Hs({language:(null===n||void 0===n?void 0:n.getAttribute("data-language"))||null},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"pre",["code",Hs({"data-language":t.language},l9(t)),0]]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Ka(e.schema.nodes.codeBlock)(e,t)}}},t.prototype.moveCursor=function(e){var t=this;return function(n,r){var i=n.tr,o=n.doc,a=n.schema,s=n.selection.$from,l=t.context.view;if(l.endOfTextblock(e)&&"codeBlock"===s.node().type.name){var c=s.parent.textContent.split("\n"),u="up"===e?s.start():s.end(),f="up"===e?[u,c[0].length+u]:[u-sc(c).length,u],d=o.resolve("up"===e?s.before():s.after()),h="up"===e?d.nodeBefore:d.nodeAfter;if(lc(s.pos,f[0],f[1])&&!h){var p=gc(i,d,a);if(p)return r(p),!0}}return!1}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-p":e,"Shift-Mod-P":e,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},t}(cu),f7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"listItem+",group:"block listGroup",attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:[i9("ul")],toDOM:function(e){var t=e.attrs;return["ul",l9(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.changeList=function(){return function(e,t){return y9(e.schema.nodes.bulletList)(e,t)}},t.prototype.commands=function(){return{bulletList:this.changeList,taskList:g9}},t.prototype.keymaps=function(){var e=this.changeList(),t=E9(),n=t.indent,r=t.outdent;return{"Mod-u":e,"Mod-U":e,Tab:n(),"Shift-Tab":r()}},t}(cu),d7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"listItem+",group:"block listGroup",attrs:Hs({order:{default:1},rawHTML:{default:null}},s9()),parseDOM:[{tag:"ol",getAttrs:function(e){var t=e.getAttribute("start"),n=e.getAttribute("data-raw-html");return Hs({order:e.hasAttribute("start")?Number(t):1},n&&{rawHTML:n})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"ol",Hs({start:1===t.order?null:t.order},l9(t)),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return y9(e.schema.nodes.orderedList)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()(),t=E9(),n=t.indent,r=t.outdent;return{"Mod-o":e,"Mod-O":e,Tab:n(),"Shift-Tab":r()}},t}(cu),h7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"paragraph listGroup*",attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Hs({task:e.hasAttribute("data-task"),checked:e.hasAttribute("data-task-checked")},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs,n=t.task,r=t.checked;if(!n)return[t.rawHTML||"li",0];var i=["task-list-item"];return r&&i.push("checked"),[t.rawHTML||"li",Hs({class:i.join(" "),"data-task":n},r&&{"data-task-checked":r}),0]}}},enumerable:!1,configurable:!0}),t.prototype.liftToPrevListItem=function(){return function(e,t){var n=e.selection,r=e.tr,i=e.schema,o=n.$from,a=n.empty,s=i.nodes.listItem,l=o.parent,c=o.node(-1);if(a&&!l.childCount&&c.type===s){if(o.index(-2)>=1)return r.delete(o.start(-1)-1,o.end(-1)),t(r),!0;var u=o.node(-3);if(u.type===s)return r.delete(o.start(-2)-1,o.end(-1)),t(r),!0}return!1}},t.prototype.keymaps=function(){var e=function(e,t){return S9(e.schema.nodes.listItem)(e,t)};return{Backspace:this.liftToPrevListItem(),Enter:e}},t}(cu),p7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:Hs({rawHTML:{default:null}},s9()),content:"block+",group:"block",parseDOM:[i9("blockquote")],toDOM:function(e){var t=e.attrs;return["blockquote",l9(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Xa(e.schema.nodes.blockQuote)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Alt-q":e,"Alt-Q":e}},t}(cu),v7={left:C7,right:O7,up:E7,down:M7};function m7(e,t,n){var r=n[0],i=n[1],o=t.resolve(e.before(r-1));return i===r&&!o.nodeBefore}function y7(e){var t,n,r=e.depth;while(r){if(n=e.node(r),"tableBodyCell"===n.type.name)break;if("listItem"===n.type.name){var i=e.node(r-1),o=i.lastChild===n,a="paragraph"!==(null===(t=n.lastChild)||void 0===t?void 0:t.type.name);return!!o&&!a}r-=1}return!1}function g7(e,t,n,r,i){var o=t[0],a=t[1],s=t[2];if("left"===e||"up"===e){if(i&&!m7(n,r,[o,a]))return!1;var l=n.before(s),c=r.resolve(l).nodeBefore;if(c)return!1}return!0}function b7(e,t,n,r,i){if("right"===e||"down"===e){if(i&&!y7(n))return!1;var o=n.after(t),a=r.resolve(o).nodeAfter;if(a)return!1}return!0}function w7(e,t,n,r){var i=t[0],o=t[1],a=i+3,s=o>=a,l=s?i+1:o,c=g7(e,[o,a,l],n,r,s),u=b7(e,l,n,r,s);return c&&u}function x7(e,t,n){var r=n[0],i=n[1],o=t.getRowspanStartInfo(r,i),a="up"===e&&0===r,s="down"===e&&((null===o||void 0===o?void 0:o.count)>1?r+o.count-1:r)===t.totalRowCount-1;return a||s}function k7(e,t,n){var r=e.doc.resolve(t.tableStartOffset-1);return r.nodeBefore?e.setSelection(Ht.near(r,-1)):gc(e,r,n)}function S7(e,t,n){var r=e.doc.resolve(t.tableEndOffset);return r.nodeAfter?e.setSelection(Ht.near(r,1)):gc(e,r,n)}function O7(e,t){var n=e[0],r=e[1],i=t.totalRowCount,o=t.totalColumnCount,a=r===o-1,s=n===i-1&&a;if(!s){var l=r+1,c=t.getColspanStartInfo(n,r);(null===c||void 0===c?void 0:c.count)>1&&(l+=c.count-1),(a||l===o)&&(n+=1,l=0);var u=t.getCellInfo(n,l).offset;return u+2}return null}function C7(e,t){var n=e[0],r=e[1],i=t.totalColumnCount,o=0===r,a=0===n&&o;if(!a){r-=1,o&&(n-=1,r=i-1);var s=t.getCellInfo(n,r),l=s.offset,c=s.nodeSize;return l+c-2}return null}function E7(e,t){var n=e[0],r=e[1];if(n>0){var i=t.getCellInfo(n-1,r),o=i.offset,a=i.nodeSize;return o+a-2}return null}function M7(e,t){var n=e[0],r=e[1],i=t.totalRowCount;if(n<i-1){var o=n+1,a=t.getRowspanStartInfo(n,r);(null===a||void 0===a?void 0:a.count)>1&&(o+=a.count-1);var s=t.getCellInfo(o,r).offset;return s+2}return null}function A7(e,t,n,r){var i=v7[e],o=i(n,r);if(o){var a="right"===e||"down"===e?1:-1;return t.setSelection(Ht.near(t.doc.resolve(o),a))}return null}function T7(e,t,n){var r=n[0],i=n[1];if("up"===e||"down"===e)return!1;var o=t.tableStartOffset,a=t.tableEndOffset,s=t.getCellInfo(r,i),l=s.offset,c=s.nodeSize,u="left"===e?o:a,f="left"===e?l-2:l+c+3;return u===f}function P7(e,t,n){var r=e.doc.resolve(t.before(n-3));return e.setSelection(new Yt(r))}function R7(e,t,n){var r,i,o;return"up"===e?(r=n.startRowIdx,i=0,o=-1):(r=n.endRowIdx,i=t.totalColumnCount-1,o=t.getCellInfo(r,i).nodeSize+1),{targetRowIdx:r,insertColIdx:i,nodeSize:o}}function D7(e,t,n){var r=e.getCellInfo(t,0).offset,i=e.getCellInfo(t,n-1),o=i.offset,a=i.nodeSize;return{from:r,to:o+a}}var _7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:[i9("table")],toDOM:function(e){var t=e.attrs;return["table",l9(t),0]}}},enumerable:!1,configurable:!0}),t.prototype.addTable=function(){return function(e){return void 0===e&&(e={rowCount:2,columnCount:1,data:[]}),function(t,n){var r=e.rowCount,i=e.columnCount,o=e.data,a=t.schema,s=t.selection,l=t.tr,c=s.from,u=s.to,f=s.$from,d=c===u;if(d&&!n9(f)){var h=a.nodes,p=h.tableHead,v=h.tableBody,m=null===o||void 0===o?void 0:o.slice(0,i),y=null===o||void 0===o?void 0:o.slice(i,o.length),g=j9(i,a,m),b=L9(r-1,i,a,y),w=a.nodes.table.create(null,[p.create(null,g),v.create(null,b)]);return n(l.replaceSelectionWith(w)),!0}return!1}}},t.prototype.removeTable=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,i=A9.create(n.$anchor);if(i){var o=i.tableStartOffset,a=i.tableEndOffset,s=o-1,l=yc(r.delete(s,a),s);return t(r.setSelection(l)),!0}return!1}}},t.prototype.addColumn=function(e){return function(){return function(t,n){var r=t.selection,i=t.tr,o=t.schema,a=z9(r),s=a.anchor,l=a.head;if(s&&l){for(var c=A9.create(s),u=c.getRectOffsets(s,l),f="left"===e?u.startColIdx:u.endColIdx+1,d=W9(u).columnCount,h=c.totalRowCount,p=0;p<h;p+=1){var v=I9(d,p,o);i.insert(i.mapping.map(c.posAt(p,f)),v)}return n(i),!0}return!1}}},t.prototype.removeColumn=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,i=z9(n),o=i.anchor,a=i.head;if(o&&a){var s=A9.create(o),l=s.getRectOffsets(o,a),c=s.totalColumnCount,u=s.totalRowCount,f=W9(l).columnCount,d=f===c;if(d)return!1;for(var h=l.startColIdx,p=l.endColIdx,v=r.mapping.maps.length,m=0;m<u;m+=1)for(var y=p;y>=h;y-=1){var g=s.getCellInfo(m,y),b=g.offset,w=g.nodeSize,x=r.mapping.slice(v).map(b),k=x+w;r.delete(x,k)}return t(r),!0}return!1}}},t.prototype.addRow=function(e){return function(){return function(t,n){var r=t.selection,i=t.schema,o=t.tr,a=z9(r),s=a.anchor,l=a.head;if(s&&l){var c=A9.create(s),u=c.totalColumnCount,f=c.getRectOffsets(s,l),d=W9(f).rowCount,h=R7(e,c,f),p=h.targetRowIdx,v=h.insertColIdx,m=h.nodeSize,y=0===p;if(!y){for(var g=[],b=o.mapping.map(c.posAt(p,v))+m,w=[],x=0;x<u;x+=1)w=w.concat(I9(1,p,i));for(var k=0;k<d;k+=1)g.push(i.nodes.tableRow.create(null,w));return n(o.insert(b,g)),!0}}return!1}}},t.prototype.removeRow=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,i=z9(n),o=i.anchor,a=i.head;if(o&&a){var s=A9.create(o),l=s.totalRowCount,c=s.totalColumnCount,u=s.getRectOffsets(o,a),f=W9(u).rowCount,d=u.startRowIdx,h=u.endRowIdx,p=0===d,v=f===l-1;if(v||p)return!1;for(var m=h;m>=d;m-=1){var y=D7(s,m,c),g=y.from,b=y.to;r.delete(g-1,b+1)}return t(r),!0}return!1}}},t.prototype.alignColumn=function(){return function(e){return void 0===e&&(e={align:"center"}),function(t,n){var r=e.align,i=t.selection,o=t.tr,a=z9(i),s=a.anchor,l=a.head;if(s&&l){for(var c=A9.create(s),u=c.totalRowCount,f=c.getRectOffsets(s,l),d=f.startColIdx,h=f.endColIdx,p=0;p<u;p+=1)for(var v=d;v<=h;v+=1)if(!c.extendedRowspan(p,v)&&!c.extendedColspan(p,v)){var m=c.getNodeAndPos(p,v),y=m.node,g=m.pos,b=F9(y,{align:r});o.setNodeMarkup(g,null,b)}return n(o),!0}return!1}}},t.prototype.moveToCell=function(e){return function(t,n){var r=t.selection,i=t.tr,o=t.schema,a=z9(r),s=a.anchor,l=a.head;if(s&&l){var c=A9.create(s),u=c.getCellIndex(s),f=void 0;if(f=x7(e,c,u)?S7(i,c,o):A7(e,i,u,c),f)return n(f),!0}return!1}},t.prototype.moveInCell=function(e){var t=this;return function(n,r){var i=n.selection,o=n.tr,a=n.doc,s=n.schema,l=i.$from,c=t.context.view;if(!c.endOfTextblock(e))return!1;var u=e9(l,(function(e){var t=e.type;return"tableHeadCell"===t.name||"tableBodyCell"===t.name}));if(u){var f=e9(l,(function(e){var t=e.type;return"paragraph"===t.name})),d=u.depth;if(f&&w7(e,[d,f.depth],l,a)){var h=z9(i).anchor,p=A9.create(h),v=p.getCellIndex(h),m=void 0;if(T7(e,p,v)?m=P7(o,l,d):x7(e,p,v)?"up"===e?m=k7(o,p,s):"down"===e&&(m=S7(o,p,s)):m=A7(e,o,v,p),m)return r(m),!0}}return!1}},t.prototype.deleteCells=function(){return function(e,t){var n=e.schema,r=e.selection,i=e.tr,o=z9(r),a=o.anchor,s=o.head,l=r instanceof Vt;if(a&&s&&!l){for(var c=A9.create(a),u=c.getRectOffsets(a,s),f=u.startRowIdx,d=u.startColIdx,h=u.endRowIdx,p=u.endColIdx,v=f;v<=h;v+=1)for(var m=d;m<=p;m+=1)if(!c.extendedRowspan(v,m)&&!c.extendedColspan(v,m)){var y=c.getNodeAndPos(v,m),g=y.node,b=y.pos,w=I9(1,v,n,g.attrs);i.replaceWith(i.mapping.map(b),i.mapping.map(b+g.nodeSize),w)}return t(i),!0}return!1}},t.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},t.prototype.keymaps=function(){var e=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e}},t}(cu),j7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:[i9("thead")],toDOM:function(e){var t=e.attrs;return["thead",l9(t),0]}}},enumerable:!1,configurable:!0}),t}(cu),L7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:[{tag:"tbody",getAttrs:function(e){var t=e.querySelectorAll("tr"),n=t[0].children.length,r=e.getAttribute("data-raw-html");return!!n&&Hs({},r&&{rawHTML:r})}}],toDOM:function(e){var t=e.attrs;return["tbody",l9(t),0]}}},enumerable:!1,configurable:!0}),t}(cu),I7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:[{tag:"tr",getAttrs:function(e){var t=e.children.length,n=e.getAttribute("data-raw-html");return!!t&&Hs({},n&&{rawHTML:n})}}],toDOM:function(e){var t=e.attrs;return["tr",l9(t),0]}}},enumerable:!1,configurable:!0}),t}(cu),N7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:Hs({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},s9()),isolating:!0,parseDOM:[a9("th")],toDOM:function(e){var t=e.attrs,n=o9(t);return["th",Hs(Hs({},n),l9(t)),0]}}},enumerable:!1,configurable:!0}),t}(cu),B7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[a9("td")],toDOM:function(e){var t=e.attrs,n=o9(t);return["td",n,0]}}},enumerable:!1,configurable:!0}),t}(cu),z7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{inline:!0,attrs:Hs({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},s9()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(e){var t=e.getAttribute("src")||"",n=e.getAttribute("data-raw-html");return Hs({imageUrl:k6(t),altText:e.getAttribute("alt")},n&&{rawHTML:n})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"img",Hs(Hs({src:t.imageUrl},t.altText&&{alt:t.altText}),l9(t))]}}},enumerable:!1,configurable:!0}),t.prototype.addImage=function(){return function(e){return function(t,n){var r=t.schema,i=t.tr,o=e,a=o.imageUrl,s=o.altText;if(!a)return!1;var l=r.nodes.image.createAndFill(Hs({imageUrl:dh(a)},s&&{altText:s}));return n(i.replaceSelectionWith(l).scrollIntoView()),!0}}},t.prototype.commands=function(){return{addImage:this.addImage()}},t}(cu),H7=1,W7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:Hs({rawHTML:{default:null}},s9()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(e){var t=e.attrs;return["div",l9(t),[t.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),t.prototype.hr=function(){var e=this;return function(){return function(t,n){var r,i=t.selection,o=i.$from,a=i.$to;if(o===a){var s=t.doc,l=t.schema.nodes,c=l.thematicBreak,u=l.paragraph,f=[c.create()],d=o.node(H7),h=s.child(s.childCount-1)===d,p=s.resolve(o.after(H7)),v=(null===(r=o.nodeAfter)||void 0===r?void 0:r.type.name)===e.name;return(h||v)&&f.push(u.create()),n(t.tr.insert(p.pos,f).scrollIntoView()),!0}return!1}}},t.prototype.commands=function(){return{hr:this.hr()}},t.prototype.keymaps=function(){var e=this.hr()();return{"Mod-l":e,"Mod-L":e}},t}(cu),F7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["b","strong"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Hs({},t&&{rawHTML:t})}}}));return{attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"strong",l9(t)]}}},enumerable:!1,configurable:!0}),t.prototype.bold=function(){return function(){return function(e,t){return Ja(e.schema.marks.strong)(e,t)}}},t.prototype.commands=function(){return{bold:this.bold()}},t.prototype.keymaps=function(){var e=this.bold()();return{"Mod-b":e,"Mod-B":e}},t}(sd),U7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["i","em"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Hs({},t&&{rawHTML:t})}}}));return{attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"em",l9(t)]}}},enumerable:!1,configurable:!0}),t.prototype.italic=function(){return function(){return function(e,t){return Ja(e.schema.marks.emph)(e,t)}}},t.prototype.commands=function(){return{italic:this.italic()}},t.prototype.keymaps=function(){var e=this.italic()();return{"Mod-i":e,"Mod-I":e}},t}(sd),V7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=["s","del"].map((function(e){return{tag:e,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Hs({},t&&{rawHTML:t})}}}));return{attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:e,toDOM:function(e){var t=e.attrs;return[t.rawHTML||"del",l9(t)]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Ja(e.schema.marks.strike)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Mod-s":e,"Mod-S":e}},t}(sd),q7=function(e){function t(t){var n=e.call(this)||this;return n.linkAttributes=t,n}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){var e=this;return{attrs:Hs({linkUrl:{default:""},linkText:{default:null},rawHTML:{default:null}},s9()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href")||"",n=e.getAttribute("data-raw-html");return Hs({linkUrl:k6(t),linkText:e.textContent},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"a",Hs(Hs({href:n.linkUrl},e.linkAttributes),l9(n))]}}},enumerable:!1,configurable:!0}),t.prototype.addLink=function(){return function(e){return function(t,n){var r=e,i=r.linkUrl,o=r.linkText,a=void 0===o?"":o,s=t.schema,l=t.tr,c=t.selection,u=c.empty,f=c.from,d=c.to;if(f&&d&&i){var h={linkUrl:dh(i),linkText:fh(a)},p=s.mark("link",h);if(u&&a){var v=mc(s,a,p);l.replaceRangeWith(f,d,v)}else l.addMark(f,d,p);return n(l.scrollIntoView()),!0}return!1}}},t.prototype.toggleLink=function(){return function(e){return function(t,n){return Ja(t.schema.marks.link,e)(t,n)}}},t.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},t}(sd),Y7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{attrs:Hs({rawHTML:{default:null}},s9()),parseDOM:[{tag:"code",getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Hs({},t&&{rawHTML:t})}}],toDOM:function(e){var t=e.attrs;return[t.rawHTML||"code",l9(t)]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t){return Ja(e.schema.marks.code)(e,t)}}},t.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-c":e,"Shift-Mod-C":e}},t}(sd),$7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(e){var t=e.getAttribute("data-custom-info");return{info:t}}}],toDOM:function(e){var t=e.attrs;return["div",{"data-custom-info":t.info||null},0]}}},enumerable:!1,configurable:!0}),t}(cu),G7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,parseDOM:[{tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),t.prototype.commands=function(){return function(){return function(e,t,n){var r=e.selection.$from;return!(!n.endOfTextblock("down")||"frontMatter"!==r.node().type.name)&&za(e,t)}}},t.prototype.keymaps=function(){return{Enter:this.commands()()}},t}(cu);function X7(e){return new yu([new o7,new a7,new l7,new c7,new u7,new f7,new d7,new h7,new p7,new _7,new j7,new L7,new I7,new N7,new B7,new z7,new W7,new F7,new U7,new V7,new q7(e),new Y7,new $7,new G7,new du])}var K7=Fu("contents"),Z7=function(e){function t(t,n){var r=e.call(this,t)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,a=void 0===o?{}:o,s=n.linkAttributes,l=void 0===s?{}:s,c=n.useCommandShortcut,u=void 0===c||c,f=n.wwPlugins,d=void 0===f?[]:f,h=n.wwNodeViews,p=void 0===h?{}:h;return r.editorType="wysiwyg",r.el.classList.add("ww-mode"),r.toDOMAdaptor=i,r.linkAttributes=l,r.extraPlugins=d,r.pluginNodeViews=p,r.specs=r.createSpecs(),r.schema=r.createSchema(a),r.context=r.createContext(),r.keymaps=r.createKeymaps(u),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(Hs(Hs({},r.context),{view:r.view})),r.initEvent(),r}return zs(t,e),t.prototype.createSpecs=function(){return X7(this.linkAttributes)},t.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},t.prototype.createSchema=function(e){return new he({nodes:Hs(Hs({},this.specs.nodes),e.nodes),marks:Hs(Hs({},this.specs.marks),e.marks)})},t.prototype.createPlugins=function(){return this.defaultPlugins.concat(Ws([G9(),t4(this.eventEmitter),n4(),u4(this.eventEmitter)],this.createPluginProps()))},t.prototype.createPluginNodeViews=function(){var e=this,t=e.eventEmitter,n=e.pluginNodeViews,r={};return n&&Object.keys(n).forEach((function(e){r[e]=function(r,i,o){return n[e](r,i,o,t)}})),r},t.prototype.createView=function(){var e=this,t=this,n=t.toDOMAdaptor,r=t.eventEmitter;return new ia(this.el,{state:this.createState(),attributes:{class:K7},nodeViews:Hs({customBlock:function(e,t,r){return new f4(e,t,r,n)},image:function(e,t,n){return new h4(e,t,n,r)},codeBlock:function(e,t,n){return new m4(e,t,n,r)},widget:uu},this.createPluginNodeViews()),dispatchTransaction:function(t){var n=e.view.state.applyTransaction(t).state;e.view.updateState(n),e.emitChangeEvent(t.scrollIntoView()),e.eventEmitter.emit("setFocusedNode",n.selection.$from.node(1))},transformPastedHTML:I4,transformPasted:function(t){return Y4(t,e.schema)},handlePaste:function(e,t,n){return n7(e,n)},handleKeyDown:function(t,n){return e.eventEmitter.emit("keydown",e.editorType,n),!1},handleDOMEvents:{paste:function(t,n){var r=n.clipboardData||window.clipboardData,i=r&&r.items;if(i){var o=su(i);o&&(n.preventDefault(),au(e.eventEmitter,o,n.type))}return!1},keyup:function(t,n){return e.eventEmitter.emit("keyup",e.editorType,n),!1},scroll:function(){return e.eventEmitter.emit("scroll","editor"),!0}}})},t.prototype.createCommands=function(){return this.specs.commands(this.view,E9())},t.prototype.getHTML=function(){return this.view.dom.innerHTML},t.prototype.getModel=function(){return this.view.state.doc},t.prototype.getSelection=function(){var e=this.view.state.selection,t=e.from,n=e.to;return[t,n]},t.prototype.getSchema=function(){return this.view.state.schema},t.prototype.replaceSelection=function(e,t,n){var r=this.view.state,i=r.schema,o=r.tr,a=e.split("\n"),s=a.map((function(e){return vc(i,Xc(e,i))})),l=new C(b.from(s),1,1),c=_l(t)&&_l(n)?o.replaceRange(t,n,l):o.replaceSelection(l);this.view.dispatch(c),this.focus()},t.prototype.deleteSelection=function(e,t){var n=this.view.state.tr,r=_l(e)&&_l(t)?n.deleteRange(e,t):n.deleteSelection();this.view.dispatch(r.scrollIntoView())},t.prototype.getSelectedText=function(e,t){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,a=i.to;return _l(e)&&_l(t)&&(o=e,a=t),r.textBetween(o,a,"\n")},t.prototype.setModel=function(e,t){void 0===t&&(t=!1);var n=this.view.state,r=n.tr,i=n.doc;this.view.dispatch(r.replaceWith(0,i.content.size,e)),t&&this.moveCursorToEnd()},t.prototype.setSelection=function(e,t){void 0===t&&(t=e);var n=this.view.state.tr,r=yc(n,e,t);this.view.dispatch(n.setSelection(r).scrollIntoView())},t.prototype.addWidget=function(e,t,n){var r=this.view,i=r.dispatch,o=r.state;i(o.tr.setMeta("widget",{pos:null!==n&&void 0!==n?n:o.selection.to,node:e,style:t}))},t.prototype.replaceWithWidget=function(e,t,n){var r=this.view.state,i=r.tr,o=r.schema,a=Xc(n,o);this.view.dispatch(i.replaceWith(e,t,a))},t.prototype.getRangeInfoOfNode=function(e){var t=this.view.state,n=t.doc,r=t.selection,i=e?n.resolve(e):r.$from,o=i.marks(),a=i.node(),s=i.start(),l=i.end(),c=a.type.name;if(o.length||"paragraph"===c){var u=o[o.length-1],f=function(e){return!e.length||Zl(e,u)};c=u?u.type.name:"text",a.forEach((function(e,t){var n=e.isText,r=e.nodeSize,o=e.marks,a=i.pos-s;n&&t<=a&&t+r>=a&&f(o)&&(s+=t,l=s+r)}))}return{range:[s,l],type:c}},t}(hu),J7=dl,Q7=Ll;function eee(e){return!J7(e)&&!Q7(e)}var tee=eee,nee=tee;function ree(e){return nee(e)&&!1!==e}var iee=ree,oee=iee;function aee(e){return!oee(e)}var see=aee,lee=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","change","caretChange","destroy","focus","blur","keydown","keyup"],cee=function(){function e(){var e=this;this.events=new X9,this.eventTypes=lee.reduce((function(e,t){return Hs(Hs({},e),{type:t})}),{}),this.hold=!1,lee.forEach((function(t){e.addEventType(t)}))}return e.prototype.listen=function(e,t){var n=this.getTypeInfo(e),r=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),r.push(t),this.events.set(n.type,r)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getTypeInfo(e),i=this.events.get(r.type),o=[];return!this.hold&&i&&i.forEach((function(e){var n=e.apply(void 0,t);dl(n)||o.push(n)})),o},e.prototype.emitReduce=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this.events.get(e);return!this.hold&&i&&i.forEach((function(e){var r=e.apply(void 0,Ws([t],n));see(r)||(t=r)})),t},e.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},e.prototype.hasEventType=function(e){return!dl(this.eventTypes[this.getTypeInfo(e).type])},e.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},e.prototype.removeEventHandler=function(e,t){var n=this,r=this.getTypeInfo(e),i=r.type,o=r.namespace;i&&t?this.removeEventHandlerWithHandler(i,t):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(e,t){n.removeEventHandlerWithTypeInfo(t,o)})):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},e.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var r=n.indexOf(t);n.indexOf(t)>=0&&n.splice(r,1)}},e.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],r=this.events.get(e);r&&(r.map((function(e){return e.namespace!==t&&n.push(e),null})),this.events.set(e,n))},e.prototype.getEvents=function(){return this.events},e.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},e}(),uee=function(){function e(e,t,n,r){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=r,this.initEvent()}return e.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",(function(t,n){e.exec(t,n)}))},e.prototype.addCommand=function(e,t,n){"markdown"===e?this.mdCommands[t]=n:this.wwCommands[t]=n},e.prototype.deleteCommand=function(e,t){"markdown"===e?delete this.mdCommands[t]:delete this.wwCommands[t]},e.prototype.exec=function(e,t){var n=this.getEditorType();"markdown"===n?this.mdCommands[e](t):this.wwCommands[e](t)},e}();function fee(e){return"\n"===e[e.length-1]?e.slice(0,e.length-1):e}function dee(e,t){var n=e.schema,r=t.literal,i=r.match(zu);if(i){var o=i[1],a=i[3],s=(o||a).toLowerCase();return"htmlInline"===t.type&&!(!n.marks[s]&&!n.nodes[s])}return!1}function hee(e){var t=e.type;return Zl(["text","strong","emph","strike","image","link","code"],t)}function pee(e){var t=e.type,n=e.literal,r="htmlInline"===t&&n.match(zu);if(r){var i=r[1],o=r[3],a=i||o;if(a)return Zl(["ul","ol","li"],a.toLowerCase())}return!1}function vee(e){var t=e.literal,n=/data-task/.test(t),r=/data-task-checked/.test(t);return{task:n,checked:r}}function mee(e,t){var n=document.createElement("div");n.innerHTML=e;var r=n.firstChild;return r.getAttribute(t)||""}function yee(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split(", ");r.forEach((function(r){var i=r.toLowerCase();t[i]=e[n]}))})),t}var gee={"b, strong":function(e,t,n){var r=e.schema.marks.strong;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},"i, em":function(e,t,n){var r=e.schema.marks.emph;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},"s, del":function(e,t,n){var r=e.schema.marks.strike;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},code:function(e,t,n){var r=e.schema.marks.code;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},a:function(e,t,n){var r=t.literal,i=e.schema.marks.link;if(n){var o=mee(r,"href");e.openMark(i.create({linkUrl:k6(o),rawHTML:n}))}else e.closeMark(i)},img:function(e,t,n){var r=t.literal,i=mee(r,"src");if(i){var o=mee(r,"alt"),a=e.schema.nodes.image;e.addNode(a,Hs({rawHTML:n,imageUrl:k6(i)},o&&{altText:o}))}},hr:function(e,t,n){e.addNode(e.schema.nodes.thematicBreak,{rawHTML:n})},br:function(e,t){var n=e.schema.nodes.paragraph,r=t.parent,i=t.prev,o=t.next;"paragraph"===(null===r||void 0===r?void 0:r.type)?(!i||"htmlInline"===i.type&&i.literal.match(Nu)||e.openNode(n),o&&e.closeNode()):"tableCell"===(null===r||void 0===r?void 0:r.type)&&(i&&(hee(i)||dee(e,i))&&e.closeNode(),o&&(hee(o)||dee(e,o))&&e.openNode(n))},pre:function(e,t,n){var r,i,o=document.createElement("div");o.innerHTML=t.literal;var a=null===(i=null===(r=o.firstChild)||void 0===r?void 0:r.firstChild)||void 0===i?void 0:i.textContent;e.openNode(e.schema.nodes.codeBlock,{rawHTML:n}),e.addText(fee(a)),e.closeNode()},"ul, ol":function(e,t,n){if("tableCell"===t.parent.type){var r=e.schema.nodes,i=r.bulletList,o=r.orderedList,a=r.paragraph,s="ul"===n?i:o;n?(t.prev&&!pee(t.prev)&&e.closeNode(),e.openNode(s,{rawHTML:n})):(e.closeNode(),t.next&&!pee(t.next)&&e.openNode(a))}},li:function(e,t,n){var r;if("tableCell"===(null===(r=t.parent)||void 0===r?void 0:r.type)){var i=e.schema.nodes,o=i.listItem,a=i.paragraph;if(n){var s=vee(t);t.prev&&!pee(t.prev)&&e.closeNode(),e.openNode(o,Hs({rawHTML:n},s)),t.next&&!pee(t.next)&&e.openNode(a)}else t.prev&&!pee(t.prev)&&e.closeNode(),e.closeNode()}}},bee=yee(gee);function wee(e){return"htmlInline"===e.type&&/<br ?\/?>/.test(e.literal)}function xee(e){iu(e.childNodes).forEach((function(e){if(qu(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&xee(e)}}))}var kee={text:function(e,t){e.addText(t.literal||"")},paragraph:function(e,t,n,r){var i,o=n.entering;if(o){var a=e.schema.nodes.paragraph;"paragraph"===(null===(i=t.prev)||void 0===i?void 0:i.type)&&(e.openNode(a,r),e.closeNode()),e.openNode(a,r)}else e.closeNode()},heading:function(e,t,n,r){var i=n.entering;if(i){var o=t,a=o.level,s=o.headingType;e.openNode(e.schema.nodes.heading,Hs({level:a,headingType:s},r))}else e.closeNode()},codeBlock:function(e,t,n){var r=e.schema.nodes.codeBlock,i=t,o=i.info,a=i.literal;e.openNode(r,Hs({language:o},n)),e.addText(fee(a||"")),e.closeNode()},list:function(e,t,n,r){var i=n.entering;if(i){var o=e.schema.nodes,a=o.bulletList,s=o.orderedList,l=t.listData,c=l.type,u=l.start;"bullet"===c?e.openNode(a,r):e.openNode(s,Hs({order:u},r))}else e.closeNode()},item:function(e,t,n,r){var i=n.entering,o=e.schema.nodes.listItem,a=t.listData,s=a.task,l=a.checked;if(i){var c=Hs(Hs(Hs({},s&&{task:s}),l&&{checked:l}),r);e.openNode(o,c)}else e.closeNode()},blockQuote:function(e,t,n,r){var i=n.entering;i?e.openNode(e.schema.nodes.blockQuote,r):e.closeNode()},image:function(e,t,n,r){var i=n.entering,o=n.skipChildren,a=e.schema.nodes.image,s=t,l=s.destination,c=s.firstChild;i&&o&&o(),e.addNode(a,Hs(Hs({imageUrl:l},c&&{altText:c.literal}),r))},thematicBreak:function(e,t,n,r){e.addNode(e.schema.nodes.thematicBreak,r)},strong:function(e,t,n,r){var i=n.entering,o=e.schema.marks.strong;i?e.openMark(o.create(r)):e.closeMark(o)},emph:function(e,t,n,r){var i=n.entering,o=e.schema.marks.emph;i?e.openMark(o.create(r)):e.closeMark(o)},link:function(e,t,n,r){var i=n.entering,o=e.schema.marks.link,a=t,s=a.destination,l=a.title;if(i){var c=Hs(Hs({linkUrl:s},l&&{linkText:l}),r);e.openMark(o.create(c))}else e.closeMark(o)},softbreak:function(e,t){if("paragraph"===t.parent.type){var n=t.prev,r=t.next;n&&!wee(n)&&e.closeNode(),r&&!wee(r)&&e.openNode(e.schema.nodes.paragraph)}},table:function(e,t,n,r){var i=n.entering;i?e.openNode(e.schema.nodes.table,r):e.closeNode()},tableHead:function(e,t,n,r){var i=n.entering;i?e.openNode(e.schema.nodes.tableHead,r):e.closeNode()},tableBody:function(e,t,n,r){var i=n.entering;i?e.openNode(e.schema.nodes.tableBody,r):e.closeNode()},tableRow:function(e,t,n,r){var i=n.entering;i?e.openNode(e.schema.nodes.tableRow,r):e.closeNode()},tableCell:function(e,t,n){var r=n.entering;if(!t.ignored){var i=function(t){return t&&(hee(t)||dee(e,t))};if(r){var o=e.schema.nodes,a=o.tableHeadCell,s=o.tableBodyCell,l=o.paragraph,c=t.parent.parent,u="tableHead"===c.type?a:s,f=c.parent,d=f.columns[t.startIdx].align,h=Hs({},t.attrs);d&&(h.align=d),e.openNode(u,h),i(t.firstChild)&&e.openNode(l)}else i(t.lastChild)&&e.closeNode(),e.closeNode()}},strike:function(e,t,n,r){var i=n.entering,o=e.schema.marks.strike;i?e.openMark(o.create(r)):e.closeMark(o)},code:function(e,t,n,r){var i=e.schema.marks.code;e.openMark(i.create(r)),e.addText(fee(t.literal||"")),e.closeMark(i)},customBlock:function(e,t){var n=e.schema.nodes,r=n.customBlock,i=n.paragraph,o=t,a=o.info,s=o.literal;e.openNode(r,{info:a}),e.addText(fee(s||"")),e.closeNode(),t.next||(e.openNode(i),e.closeNode())},frontMatter:function(e,t){e.openNode(e.schema.nodes.frontMatter),e.addText(t.literal),e.closeNode()},htmlInline:function(e,t){var n=t.literal,r=n.match(zu),i=r[1],o=r[3],a=(i||o).toLowerCase(),s=e.schema.marks[a];if(null===s||void 0===s?void 0:s.spec.attrs.htmlInline)if(i){var l=O6(n);e.openMark(s.create({htmlAttrs:l}))}else e.closeMark(s);else{var c=bee[a];c&&c(e,t,i)}},htmlBlock:function(e,t){var n=t.literal,r=document.createElement("div"),i=n.match(zu),o=i[1],a=i[3],s=(o||a).toLowerCase(),l=e.schema.nodes[s];if(null===l||void 0===l?void 0:l.spec.attrs.htmlBlock){var c=O6(n),u=S6(t,s);e.addNode(l,{htmlAttrs:c,childrenHTML:u})}else r.innerHTML=n,xee(r),e.convertByDOMParser(r)},customInline:function(e,t,n){var r=n.entering,i=n.skipChildren,o=t.info,a=e.schema;if(-1!==o.indexOf("widget")&&r){var s=Kc(t);i(),e.addNode(a.nodes.widget,{info:o},[a.text(Vc(o,s))])}}};function See(e){var t=Object.keys(e),n=Hs({},kee),r=new i6({gfm:!0,nodeId:!0,convertors:e}),i=r.getConvertors();return t.forEach((function(t){var r=kee[t];r&&!Zl(["htmlBlock","htmlInline"],t)&&(n[t]=function(n,o,a){a.origin=function(){return i[t](o,a)};var s,l=e[t](o,a);if(l){var c=Array.isArray(l)?l[0]:l,u=c.attributes,f=c.classNames;s={htmlAttrs:u,classNames:f}}r(n,o,a,s)})})),n}function Oee(e,t){return!!(e.isText&&t.isText&&S.sameSet(e.marks,t.marks))&&e.withText(e.text+t.text)}var Cee=function(){function e(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=S.none}return e.prototype.top=function(){return sc(this.stack)},e.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},e.prototype.addText=function(e){if(e){var t=this.top().content,n=sc(t),r=this.schema.text(e,this.marks),i=n&&Oee(n,r);i?t[t.length-1]=i:t.push(r)}},e.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},e.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},e.prototype.addNode=function(e,t,n){var r=e.createAndFill(t,n,this.marks);return r?(this.push(r),r):null},e.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},e.prototype.closeNode=function(){this.marks.length&&(this.marks=S.none);var e=this.stack.pop(),t=e.type,n=e.attrs,r=e.content;return this.addNode(t,n,r)},e.prototype.convertByDOMParser=function(e){var t=this,n=ve.fromSchema(this.schema).parse(e);n.content.forEach((function(e){return t.push(e)}))},e.prototype.convert=function(e,t){var n=e.walker(),r=n.next(),i=function(){var e=r.node,i=r.entering,a=o.convertors[e.type],s=!1;if(a){var l={entering:i,leaf:!Bc(e),getChildrenText:zc,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:"\n"},skipChildren:function(){s=!0}};if(a(o,e,l),(null===t||void 0===t?void 0:t.node)===e){var c=o.stack.reduce((function(e,t){return e+t.content.reduce((function(e,t){return e+t.nodeSize}),0)}),0)+1;t.setMappedPos(c)}}s&&(n.resumeAt(e,!1),n.next()),r=n.next()},o=this;while(r)i()},e.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},e}();function Eee(e,t,n){var r=n[0],i=n[1];e.write(r),e.convertInline(t),e.write(i)}function Mee(e,t,n){var r=t.node,i=t.parent,o=n[0],a=n[1];e.stopNewline=!0,e.write(o),e.convertNode(r),e.write(a),"doc"===(null===i||void 0===i?void 0:i.type.name)&&(e.closeBlock(r),e.stopNewline=!1)}function Aee(e,t){var n=e.length,r="",i="";return"left"===t?(r=":",n-=1):"right"===t?(i=":",n-=1):"center"===t&&(r=":",i=":",n-=2),""+r+tc("-",Math.max(n,3))+i}var Tee={text:function(e,t){var n,r=t.node;e.text(null!==(n=r.text)&&void 0!==n?n:"")},paragraph:function(e,t){var n=t.node,r=t.parent,i=t.index,o=void 0===i?0:i;if(e.stopNewline)e.convertInline(n);else{var a=0===o,s=!a&&r.child(o-1),l=s&&0===s.childCount,c=o<r.childCount-1&&r.child(o+1),u=c&&"paragraph"===c.type.name,f=0===n.childCount;f&&l?e.write("<br>\n"):!f||l||a?(e.convertInline(n),u?e.write("\n"):e.closeBlock(n)):e.write("\n")}},heading:function(e,t,n){var r=t.node,i=n.delim,o=r.attrs.headingType;"atx"===o?(e.write(i+" "),e.convertInline(r),e.closeBlock(r)):(e.convertInline(r),e.ensureNewLine(),e.write(i),e.closeBlock(r))},codeBlock:function(e,t,n){var r=t.node,i=n.delim,o=n.text,a=i,s=a[0],l=a[1];e.write(s),e.ensureNewLine(),e.text(o,!1),e.ensureNewLine(),e.write(l),e.closeBlock(r)},blockQuote:function(e,t,n){var r=t.node,i=t.parent,o=n.delim;(null===i||void 0===i?void 0:i.type.name)===r.type.name&&e.flushClose(1),e.wrapBlock(o,null,r,(function(){return e.convertNode(r)}))},bulletList:function(e,t,n){var r=t.node,i=n.delim;e.convertList(r,tc(" ",4),(function(){return i+" "}))},orderedList:function(e,t){var n=t.node,r=n.attrs.order||1;e.convertList(n,tc(" ",4),(function(e){var t=String(r+e);return t+". "}))},listItem:function(e,t){var n=t.node,r=n.attrs,i=r.task,o=r.checked;i&&e.write("["+(o?"x":" ")+"] "),e.convertNode(n)},image:function(e,t,n){var r=n.attrs;e.write("!["+(null===r||void 0===r?void 0:r.altText)+"]("+(null===r||void 0===r?void 0:r.imageUrl)+")")},thematicBreak:function(e,t,n){var r=t.node,i=n.delim;e.write(i),e.closeBlock(r)},table:function(e,t){var n=t.node;e.convertNode(n),e.closeBlock(n)},tableHead:function(e,t,n){var r=t.node,i=n.delim,o=r.firstChild;e.convertNode(r);var a=null!==i&&void 0!==i?i:"";!i&&o&&o.forEach((function(e){var t=e.textContent,n=e.attrs,r=Aee(t,n.align);a+="| "+r+" "})),e.write(a+"|"),e.ensureNewLine()},tableBody:function(e,t){var n=t.node;e.convertNode(n)},tableRow:function(e,t){var n=t.node;e.convertNode(n),e.write("|"),e.ensureNewLine()},tableHeadCell:function(e,t,n){var r=t.node,i=n.delim,o=void 0===i?"| ":i;e.write(o),e.convertTableCell(r),e.write(" ")},tableBodyCell:function(e,t,n){var r=t.node,i=n.delim,o=void 0===i?"| ":i;e.write(o),e.convertTableCell(r),e.write(" ")},customBlock:function(e,t,n){var r=t.node,i=n.delim,o=n.text,a=i,s=a[0],l=a[1];e.write(s),e.ensureNewLine(),e.text(o,!1),e.ensureNewLine(),e.write(l),e.closeBlock(r)},frontMatter:function(e,t,n){var r=t.node,i=n.text;e.text(i,!1),e.closeBlock(r)},widget:function(e,t,n){var r=n.text;e.write(r)},html:function(e,t,n){var r=n.text;e.write(r)}};function Pee(e,t){var n=t.state,r=t.nodeInfo,i=t.params,o=i.rawHTML;o?ul(e,["heading","codeBlock"])>-1?Eee(n,r.node,o):ul(e,["image","thematicBreak"])>-1?n.write(o):Mee(n,r,o):Tee[e](n,r,i)}function Ree(e,t){var n=e.text,r=/`+/g,i=0;if(e.isText&&n){var o=r.exec(n);while(o)i=Math.max(i,o[0].length),o=r.exec(n)}for(var a=i>0&&t>0?" `":"`",s=0;s<i;s+=1)a+="`";return i>0&&t<0&&(a+=" "),a}function Dee(e){return e?["<"+e+">","</"+e+">"]:null}function _ee(e){return e?"<"+e+">":null}function jee(e){return e?"</"+e+">":null}var Lee={heading:function(e){var t=e.node,n=t.attrs,r=n.level,i=tc("#",r);return"setext"===n.headingType&&(i=1===r?"===":"---"),{delim:i,rawHTML:Dee(n.rawHTML)}},codeBlock:function(e){var t=e.node,n=t,r=n.attrs,i=n.textContent;return{delim:["```"+(r.language||""),"```"],rawHTML:Dee(r.rawHTML),text:i}},blockQuote:function(e){var t=e.node;return{delim:"> ",rawHTML:Dee(t.attrs.rawHTML)}},bulletList:function(e,t){var n=e.node,r=t.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ul"),{delim:"*",rawHTML:Dee(i)}},orderedList:function(e,t){var n=e.node,r=t.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ol"),{rawHTML:Dee(i)}},listItem:function(e,t){var n=e.node,r=t.inTable,i=n.attrs,o=i.task,a=i.checked,s=n.attrs.rawHTML;r&&(s=s||"li");var l=o?' class="task-list-item'+(a?" checked":"")+'"':"",c=o?" data-task"+(a?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+c+">","</"+s+">"]:null}},table:function(e){var t=e.node;return{rawHTML:Dee(t.attrs.rawHTML)}},tableHead:function(e){var t=e.node;return{rawHTML:Dee(t.attrs.rawHTML)}},tableBody:function(e){var t=e.node;return{rawHTML:Dee(t.attrs.rawHTML)}},tableRow:function(e){var t=e.node;return{rawHTML:Dee(t.attrs.rawHTML)}},tableHeadCell:function(e){var t=e.node;return{rawHTML:Dee(t.attrs.rawHTML)}},tableBodyCell:function(e){var t=e.node;return{rawHTML:Dee(t.attrs.rawHTML)}},image:function(e){var t=e.node,n=t.attrs,r=rc(n.altText||""),i=rc(n.imageUrl),o=r?' alt="'+r+'"':"";return{rawHTML:n.rawHTML?"<"+n.rawHTML+' src="'+i+'"'+o+">":null,attrs:{altText:r,imageUrl:i}}},thematicBreak:function(e){var t=e.node;return{delim:"***",rawHTML:_ee(t.attrs.rawHTML)}},customBlock:function(e){var t=e.node,n=t,r=n.attrs,i=n.textContent;return{delim:["$$"+r.info,"$$"],text:i}},frontMatter:function(e){var t=e.node;return{text:t.textContent}},widget:function(e){var t=e.node;return{text:t.textContent}},strong:function(e,t){var n=e.node,r=t.entering,i=n.attrs.rawHTML;return{delim:"**",rawHTML:r?_ee(i):jee(i)}},emph:function(e,t){var n=e.node,r=t.entering,i=n.attrs.rawHTML;return{delim:"*",rawHTML:r?_ee(i):jee(i)}},strike:function(e,t){var n=e.node,r=t.entering,i=n.attrs.rawHTML;return{delim:"~~",rawHTML:r?_ee(i):jee(i)}},link:function(e,t){var n=e.node,r=t.entering,i=n.attrs,o=rc(i.linkUrl),a=i.rawHTML;if(r)return{delim:"[",rawHTML:a?"<"+a+' href="'+o+'">':null};var s=i.title?" "+ic(i.linkText):"";return{delim:"]("+s+o+")",rawHTML:jee(a)}},code:function(e,t){var n=e.node,r=e.parent,i=e.index,o=void 0===i?0:i,a=t.entering,s=a?Ree(r.child(o),-1):Ree(r.child(o-1),1),l=a?_ee(n.attrs.rawHTML):jee(n.attrs.rawHTML);return{delim:s,rawHTML:l}},html:function(e,t){var n=e.node,r=t.entering,i=n.type.name,o=n.attrs.htmlAttrs,a="<"+i,s="</"+i+">";return Object.keys(o).forEach((function(e){a+=" "+e+'="'+o[e]+'"'})),a+=">",n.attrs.htmlInline?{rawHTML:r?a:s}:{text:""+a+n.attrs.childrenHTML+s}}},Iee={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function Nee(e){var t={},n=Object.keys(Tee);return n.forEach((function(n){t[n]=function(t,r){var i=Tee[n];if(i){var o=e[n],a=o?o(r,{inTable:t.inTable}):{};Pee(n,{state:t,nodeInfo:r,params:a})}}})),t}function Bee(e){var t={},n=Object.keys(Iee);return n.forEach((function(n){t[n]=function(t,r){var i=Iee[n],o=e[n],a=o&&t&&!dl(r),s=a?o(t,{entering:r}):{};return Hs(Hs({},s),i)}})),t}function zee(e){var t=Object.keys(e);t.forEach((function(t){var n=Lee[t],r=e[t];Lee[t]=n?function(e,t){return t.origin=function(){return n(e,t)},r(e,t)}:r,delete e[t]}));var n=Nee(Lee),r=Bee(Lee);return{nodeTypeConvertors:n,markTypeConvertors:r}}var Hee=function(){function e(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return e.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},e.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},e.prototype.markText=function(e,t,n,r){var i=this.getMarkConvertor(e);if(i){var o=i({node:e,parent:n,index:r},t),a=o.delim,s=o.rawHTML;return s||a}return""},e.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+="\n"),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var r=1;r<e;r+=1)this.result+=t+"\n"}this.closed=!1}},e.prototype.wrapBlock=function(e,t,n,r){var i=this.delim;this.write(t||e),this.delim+=e,r(),this.delim=i,this.closeBlock(n)},e.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+="\n")},e.prototype.write=function(e){void 0===e&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},e.prototype.closeBlock=function(e){this.closed=e},e.prototype.text=function(e,t){void 0===t&&(t=!0);for(var n=e.split("\n"),r=0;r<n.length;r+=1)this.write(),this.result+=t?rc(n[r]):n[r],r!==n.length-1&&(this.result+="\n")},e.prototype.convertBlock=function(e,t,n){var r=e.type.name,i=this.nodeTypeConvertors[r],o={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},e.prototype.convertInline=function(e){var t=this,n=[],r="",i=function(i,o,a){var s=i?i.marks:[],l=r;r="";var c=i&&i.isText&&s.some((function(e){var n=t.getMarkConvertor(e),r=n&&n();return r&&r.removedEnclosingWhitespace}));if(c&&i&&i.text){var u=/^(\s*)(.*?)(\s*)$/m.exec(i.text),f=u[1],d=u[2],h=u[3];l+=f,r=h,(f||h)&&(i=d?i.withText(d):null,i||(s=n))}for(var p=s.length&&sc(s),v=p&&t.getMarkConvertor(p),m=v&&v(),y=m&&!1===m.escape,g=s.length-(y?1:0),b=0;b<g;b+=1){d=s[b];if(m&&!m.mixable)break;for(var w=0;w<n.length;w+=1){var x=n[w];if(m&&!m.mixable)break;if(d.eq(x)){b>w?s=s.slice(0,w).concat(d).concat(s.slice(w,b)).concat(s.slice(b+1,g)):w>b&&(s=s.slice(0,b).concat(s.slice(b+1,w)).concat(d).concat(s.slice(w,g)));break}}}var k=0;while(k<Math.min(n.length,g)&&s[k].eq(n[k]))k+=1;while(k<n.length){var S=n.pop();S&&t.text(t.markText(S,!1,e,a),!1)}if(l&&t.text(l),i){while(n.length<g){d=s[n.length];n.push(d),t.text(t.markText(d,!0,e,a),!1)}y&&i.isText?t.text(t.markText(p,!0,e,a)+i.text+t.markText(p,!1,e,a+1),!1):t.convertBlock(i,e,a)}};e.forEach(i),i(null,null,e.childCount)},e.prototype.convertList=function(e,t,n){var r,i=this;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=null===(r=e.attrs.tight)||void 0===r||r,a=this.tightList;this.tightList=o,e.forEach((function(r,a,s){s&&o&&i.flushClose(1),i.wrapBlock(t,n(s),e,(function(){return i.convertBlock(r,e,s)}))})),this.tightList=a},e.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach((function(n,r,i){if(Zl(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,i),t.closed=!1;else if(t.convertInline(n),i<e.childCount-1){var o=e.child(i+1);"paragraph"===o.type.name&&t.write("<br>")}})),this.stopNewline=!1,this.inTable=!1},e.prototype.convertNode=function(e,t){var n=this;return e.forEach((function(r,i,o){if(n.convertBlock(r,e,o),(null===t||void 0===t?void 0:t.node)===r){var a=n.result.split("\n");t.setMappedPos([a.length,sc(a).length+1])}})),this.result},e}(),Wee=function(){function e(e,t,n,r){var i=this;this.setMappedPos=function(e){i.mappedPosWhenConverting=e},this.schema=e,this.eventEmitter=r,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=See(n),this.toMdConvertors=zee(t||{}),this.eventEmitter.listen("setFocusedNode",(function(e){return i.focusedNode=e}))}return e.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},e.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},e.prototype.toWysiwygModel=function(e){var t=new Cee(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},e.prototype.toMarkdownText=function(e){var t=new Hee(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},e}();function Fee(e,t,n){var r={Plugin:cn,Selection:Ht,TextSelection:Vt},i={Decoration:Ao,DecorationSet:Ro},o={Fragment:b},a={eventEmitter:t,usageStatistics:n,pmState:r,pmView:i,pmModel:o,i18n:J9};if(Ks(e)){var s=e[0],l=e[1],c=void 0===l?{}:l;return s(a,c)}return e(a)}function Uee(e,t,n){return t.listen("mixinTableOffsetMapPrototype",P9),(null!==e&&void 0!==e?e:[]).reduce((function(e,r){var i=Fee(r,t,n);if(!i)throw new Error("The return value of the executed plugin is empty.");var o=i.markdownParsers,a=i.toHTMLRenderers,s=i.toMarkdownRenderers,l=i.markdownPlugins,c=i.wysiwygPlugins,u=i.wysiwygNodeViews,f=i.markdownCommands,d=i.wysiwygCommands,h=i.toolbarItems;return a&&(e.toHTMLRenderers=uc(e.toHTMLRenderers,a)),s&&(e.toMarkdownRenderers=uc(e.toMarkdownRenderers,s)),l&&(e.mdPlugins=e.mdPlugins.concat(l)),c&&(e.wwPlugins=e.wwPlugins.concat(c)),u&&(e.wwNodeViews=Hs(Hs({},e.wwNodeViews),u)),f&&(e.mdCommands=Hs(Hs({},e.mdCommands),f)),d&&(e.wwCommands=Hs(Hs({},e.wwCommands),d)),h&&(e.toolbarItems=e.toolbarItems.concat(h)),o&&(e.markdownParsers=Hs(Hs({},e.markdownParsers),o)),e}),{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var Vee="data-task",qee="data-task-disabled",Yee="checked",$ee=function(){function e(e){var t=this;this.options=Ys({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new cee;var n=ec(this.options.linkAttributes),r=Uee(this.options.plugins,this.eventEmitter,this.options.usageStatistics)||{},i=r.toHTMLRenderers,o=r.markdownParsers,a=this.options,s=a.customHTMLRenderer,l=a.extendedAutolinks,c=a.referenceDefinition,u=a.frontMatter,f=a.customHTMLSanitizer,d={linkAttributes:n,customHTMLRenderer:Hs(Hs({},i),s),extendedAutolinks:l,referenceDefinition:c,frontMatter:u,sanitizer:f||y6};this.options.events&&Vs(this.options.events,(function(e,n){t.on(n,e)}));var h=this.options,p=h.el,v=h.initialValue,m=h.theme,y=p.innerHTML;"light"!==m&&p.classList.add(Fu(m)),p.innerHTML="",this.toastMark=new K8("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:l,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:u,customParser:o}),this.preview=new Q6(this.eventEmitter,Hs(Hs({},d),{isViewer:!0})),Uh(this.preview.el,"mousedown",this.toggleTask.bind(this)),v?this.setMarkdown(v):y&&this.preview.setHTML(y),p.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return e.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(qee)&&t.hasAttribute(Vee)&&Hu(n,e.offsetX,e.offsetY)&&Zu(t,Yee)},e.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,r=sc(t),i=[n,r.length+1],o=this.toastMark.editMarkdown([1,1],i,e||"");this.eventEmitter.emit("updatePreview",o)},e.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},e.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},e.prototype.destroy=function(){Ih(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},e.prototype.isViewer=function(){return!0},e.prototype.isMarkdownMode=function(){return!1},e.prototype.isWysiwygMode=function(){return!1},e}();function Gee(e){return e instanceof V}function Xee(e){var t=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Zl(t,e)}function Kee(e){var t=e.attrs,n=e.type,r=n.name,i={type:r,wysiwygNode:!0,literal:!Xee(r)&&Gee(e)?e.textContent:null},o={heading:{level:t.level},link:{destination:t.linkUrl,title:t.linkText},image:{destination:t.imageUrl},codeBlock:{info:t.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:t.order}},listItem:{type:"item",listData:{task:t.task,checked:t.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:t.align},tableBodyCell:{type:"tableCell",cellType:"body",align:t.align},customBlock:{info:t.info}},a=o[r],s=Hs(Hs({},i),a),l=e.attrs,c=l.htmlAttrs,u=l.childrenHTML;return c?Hs(Hs({},s),{attrs:c,childrenHTML:u}):s}var Zee={openTag:function(e,t){var n=e,r=n.tagName,i=n.classNames,o=n.attributes,a=document.createElement(r),s={};i&&(a.className=i.join(" ")),o&&(s=Hs(Hs({},s),o)),rf(s,a),t.push(a)},closeTag:function(e,t){if(t.length>1){var n=t.pop();sc(t).appendChild(n)}},html:function(e,t){sc(t).insertAdjacentHTML("beforeend",e.content)},text:function(e,t){var n=document.createTextNode(e.content);sc(t).appendChild(n)}},Jee=function(){function e(e,t){var n=R6(e,t),r=Hs(Hs({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(r)),this.renderer=new i6({gfm:!0,convertors:Hs(Hs({},n),r)}),this.convertors=this.renderer.getConvertors()}return e.prototype.generateTokens=function(e){var t=Kee(e),n={entering:!0,leaf:!!Gee(e)&&e.isLeaf,options:this.renderer.getOptions(),getChildrenText:function(){return Gee(e)?e.textContent:""},skipChildren:function(){return!1}},r=this.convertors[e.type.name],i=r(t,n,this.convertors),o=Ks(i)?i:[i];return(Xee(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Gee(e)?e.textContent:""}),o=o.concat(r(t,n,this.convertors))),o},e.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach((function(e){return Zee[e.type](e,n)})),n[0]},e.prototype.getToDOMNode=function(e){return Zl(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},e}(),Qee=100,ete=15,tte=null,nte=null;function rte(e,t){var n=t.syncScrollTop,r=t.releaseEventBlock;nte&&clearTimeout(nte),n(e),nte=setTimeout((function(){r()}),ete)}function ite(e,t,n){var r=t-e,i=Date.now(),o=function(){var a,s=Date.now(),l=(s-i)/Qee;tte&&clearTimeout(tte),l<1?(a=e+r*Math.cos((1-l)*Math.PI/2),rte(Math.ceil(a),n),tte=setTimeout(o,1)):(rte(t,n),tte=null)};o()}var ote=18,ate=function(){function e(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0;var r=t.previewContent,i=t.el;this.previewRoot=r,this.previewEl=i,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return e.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",(function(){setTimeout((function(){e.syncPreviewScrollTop(!0)}),200)})),this.eventEmitter.listen("scroll",(function(t,n){e.active&&("editor"===t&&"editor"!==e.blockedScroll?e.syncPreviewScrollTop():"preview"===t&&"preview"!==e.blockedScroll&&e.syncEditorScrollTop(n))})),this.eventEmitter.listen("toggleScrollSync",(function(t){e.active=t}))},e.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),r=n.index;return this.toastMark.findFirstNodeAtLine(r+1)},e.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,r=F6(t).el,i=B6(r,this.previewRoot)||r.offsetTop,o=r.clientHeight,a=i+o-.5*n;this.latestEditorScrollTop=null;var s=r.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return s<n?null:a},e.prototype.syncPreviewScrollTop=function(e){void 0===e&&(e=!1);var t=this,n=t.editorView,r=t.previewEl,i=t.previewRoot,o=n.dom.getBoundingClientRect(),a=o.left,s=o.top,l=n.posAtCoords({left:a,top:s}),c=n.state.doc,u=this.getMdNodeAtPos(c,l);if(u&&!Cc(u)){var f=r.scrollTop,d=n.dom,h=d.scrollTop,p=d.scrollHeight,v=d.clientHeight,m=d.children,y=p-h<=v+ote,g=y?r.scrollHeight:0;if(h&&!y){if(e){var b=this.getScrollTopByCaretPos();if(!b)return;g=b}else{var w=F6(u),x=w.el,k=w.mdNode,S=L6(c,k,m),O=S.height,C=S.rect,E=B6(x,i)||x.offsetTop,M=x.clientHeight,A=s>C.top?Math.min((s-C.top)/O,1):0;g=E+M*A}g=this.getResolvedScrollTop("editor",h,g,f),this.latestEditorScrollTop=h}g!==f&&this.run("editor",g,f)}},e.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,r=t.editorView,i=t.previewRoot,o=t.previewEl,a=r.dom,s=r.state,l=o.scrollTop,c=o.clientHeight,u=o.scrollHeight,f=u-l<=c,d=a.scrollTop,h=f?a.scrollHeight:0;if(l&&e&&!f){if(e=N6(e,i),!e.getAttribute("data-nodeid"))return;var p=a.children,v=Number(e.getAttribute("data-nodeid")),m=F6(n.findNodeById(v)),y=m.mdNode,g=m.el,b=xc(y);h=p[b-1].offsetTop;var w=L6(s.doc,y,p).height,x=K6(g,i,v),k=x.nodeHeight,S=x.offsetTop;h+=W6(l,S,k,w),h=this.getResolvedScrollTop("preview",l,h,d),this.latestPreviewScrollTop=l}h!==d&&this.run("preview",h,d)},e.prototype.getResolvedScrollTop=function(e,t,n,r){var i="editor"===e?this.latestEditorScrollTop:this.latestPreviewScrollTop;return null===i?n:i<t?Math.max(n,r):Math.min(n,r)},e.prototype.run=function(e,t,n){var r,i=this;"editor"===e?(r=this.previewEl,this.blockedScroll="preview"):(r=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(e){return r.scrollTop=e},releaseEventBlock:function(){return i.blockedScroll=null}};ite(n,t,o)},e.prototype.destroy=function(){this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},e}(),ste=function(){function e(e){var t=this;this.initialHtml=e.el.innerHTML,e.el.innerHTML="",this.options=Ys({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light"},e);var n=this.options,r=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,a=n.frontMatter,s=n.customMarkdownRenderer,l=n.useCommandShortcut,c=n.initialEditType,u=n.widgetRules,f=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.eventEmitter=new cee,$c(u);var d=ec(this.options.linkAttributes);this.pluginInfo=Uee(this.options.plugins,this.eventEmitter,this.options.usageStatistics);var h=this.pluginInfo,p=h.toHTMLRenderers,v=h.toMarkdownRenderers,m=h.mdPlugins,y=h.wwPlugins,g=h.wwNodeViews,b=h.mdCommands,w=h.wwCommands,x=h.markdownParsers,k={linkAttributes:d,customHTMLRenderer:uc(p,r),extendedAutolinks:i,referenceDefinition:o,frontMatter:a,sanitizer:f||y6},S=new Jee(d,k.customHTMLRenderer),O=A6(k.customHTMLRenderer,k.sanitizer,S);this.i18n=J9,this.i18n.setCode(this.options.language),this.toastMark=new K8("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:a,customParser:x}),this.mdEditor=new Eh(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:l,mdPlugins:m}),this.preview=new Q6(this.eventEmitter,Hs(Hs({},k),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new Z7(this.eventEmitter,{toDOMAdaptor:S,useCommandShortcut:l,htmlSchemaMap:O,linkAttributes:d,wwPlugins:y,wwNodeViews:g}),this.convertor=new Wee(this.wwEditor.getSchema(),Hs(Hs({},v),s),R6(d,k.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHtml,!1),this.commandManager=new uee(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,(function(){return t.mode})),this.options.usageStatistics&&Kl(),this.scrollSync=new ate(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(b,w),this.options.hooks&&Vs(this.options.hooks,(function(e,n){return t.addHook(n,e)})),this.options.events&&Vs(this.options.events,(function(e,n){return t.on(n,e)})),this.eventEmitter.emit("load",this),this.moveCursorToStart()}return e.prototype.addInitEvent=function(){this.on("needChangeMode",this.changeMode.bind(this)),ou(this.eventEmitter)},e.prototype.addInitCommand=function(e,t){var n=this,r=function(e,t){Object.keys(t).forEach((function(r){n.addCommand(e,r,t[r])}))};this.addCommand("markdown","toggleScrollSync",(function(e){return n.eventEmitter.emit("toggleScrollSync",e.active),!0})),r("markdown",e),r("wysiwyg",t)},e.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},e.factory=function(t){return t.viewer?new $ee(t):new e(t)},e.setLanguage=function(e,t){J9.setLanguage(e,t)},e.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},e.prototype.exec=function(e,t){this.commandManager.exec(e,t)},e.prototype.addCommand=function(e,t,n){var r=this,i=function(t){void 0===t&&(t={});var i=("markdown"===e?r.mdEditor:r.wwEditor).view;n(t,i.state,i.dispatch,i)};this.commandManager.addCommand(e,t,i)},e.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},e.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},e.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},e.prototype.focus=function(){this.getCurrentModeEditor().focus()},e.prototype.blur=function(){this.getCurrentModeEditor().blur()},e.prototype.moveCursorToEnd=function(){this.getCurrentModeEditor().moveCursorToEnd()},e.prototype.moveCursorToStart=function(){this.getCurrentModeEditor().moveCursorToStart()},e.prototype.setMarkdown=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r,t)}},e.prototype.setHTML=function(e,t){void 0===e&&(e=""),void 0===t&&(t=!0);var n=document.createElement("div");n.innerHTML=of(e);var r=ve.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),t):this.wwEditor.setModel(r,t)},e.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},e.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke((function(){e.isWysiwygMode()&&e.mdEditor.setMarkdown(e.convertor.toMarkdownText(e.wwEditor.getModel()))}));var t=this.toastMark.getRootNode(),n=this.preview.getRenderer();return n.render(t).replace(/\sdata-nodeid="\d{1,}"/g,"").trim()},e.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},e.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},e.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},e.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},e.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},e.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},e.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},e.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},e.prototype.setHeight=function(e){var t=this.options.el;Gs(e)&&("auto"===e?(Cl(t,"auto-height"),this.setMinHeight(this.getMinHeight())):(Rl(t,"auto-height"),this.setMinHeight(e))),sl(t,{height:e}),this.height=e},e.prototype.getHeight=function(){return this.height},e.prototype.setMinHeight=function(e){var t;this.minHeight=e;var n=this.options.el.clientHeight,r=(null===(t=document.querySelector("."+Fu("main")))||void 0===t?void 0:t.clientHeight)||0,i=n-r,o=parseInt(e,10);o=Math.max(o-i,0),this.wwEditor.setMinHeight(o),this.mdEditor.setMinHeight(o),this.preview.setMinHeight(o)},e.prototype.getMinHeight=function(){return this.minHeight},e.prototype.isMarkdownMode=function(){return"markdown"===this.mode},e.prototype.isWysiwygMode=function(){return"wysiwyg"===this.mode},e.prototype.isViewer=function(){return!1},e.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},e.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r)}else{r=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&_l(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},e.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach((function(t,n){return e.off(n)}))},e.prototype.hide=function(){this.eventEmitter.emit("hide")},e.prototype.show=function(){this.eventEmitter.emit("show")},e.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},e.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},e.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},e.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},e.prototype.setPlaceholder=function(e){this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},e.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},e}();function lte(e){for(var t,n,r=arguments,i=1,o="",a="",s=[0],l=function(e){1===i&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(e?r[e]:o):3===i&&(e||o)?(s[1]=e?r[e]:o,i=2):2===i&&"..."===o&&e?s[2]=hc(s[2]||{},r[e]):2===i&&o&&!e?(s[2]=s[2]||{})[o]=!0:i>=5&&(5===i?((s[2]=s[2]||{})[n]=e?o?o+r[e]:r[e]:o,i=6):(e||o)&&(s[2][n]+=e?o+r[e]:o)),o=""},c=0;c<e.length;c++){c&&(1===i&&l(),l(c));for(let r=0;r<e[c].length;r++)t=e[c][r],1===i?"<"===t?(l(),s=[s,"",null],i=3):o+=t:4===i?"--"===o&&">"===t?(i=1,o=""):o=t+o[0]:a?t===a?a="":o+=t:'"'===t||"'"===t?a=t:">"===t?(l(),i=1):i&&("="===t?(i=5,n=o,o=""):"/"===t&&(i<5||">"===e[c][r+1])?(l(),3===i&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),i=2):o+=t),3===i&&"!--"===o&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function cte(e){return"boolean"===typeof e||e instanceof Boolean}var ute=cte,fte=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},e}(),dte=function(){function e(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return e.prototype.walker=function(){return new fte(this)},e.removalNodes=[],e}();function hte(e){return new dte("TEXT_NODE",{nodeValue:e},[])}function pte(e,t){var n=e;ute(e)||null==e?n=null:(Gs(e)||_l(e))&&(n=hte(String(e))),n&&t.push(n)}function vte(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=[];return n.forEach((function(e){Array.isArray(e)?e.forEach((function(e){pte(e,i)})):pte(e,i)})),new dte(e,t||{},i)}var mte=lte.bind(vte);function yte(e){return e===Object(e)}var gte=yte;function bte(e){var t;return"TEXT_NODE"===e.type?t=document.createTextNode(e.props.nodeValue):(t=document.createElement(e.type),Ste(t,{},e.props)),t}function wte(e,t){e.node?t.removeChild(e.node):wte(e.firstChild,t)}function xte(e,t,n){Object.keys(t).forEach((function(r){if(/^on/.test(r)){if(!n[r]||t[r]!==n[r]){var i=r.slice(2).toLowerCase();e.removeEventListener(i,t[r])}}else"children"===r||n[r]||Vu(e)||e.removeAttribute(r)})),Ste(e,t,n,(function(e){return!ac(t[e],n[e])}))}var kte=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Ste(e,t,n,r){Object.keys(n).forEach((function(i){if(!r||r(i))if(/^on/.test(i)){var o=i.slice(2).toLowerCase();e.addEventListener(o,n[i])}else"nodeValue"===i?e[i]=n[i]:"style"===i&&gte(n[i])?Ote(e,t[i],n[i]):"children"!==i&&(!1===n[i]?e.removeAttribute(i):e.setAttribute(i,n[i]))}))}function Ote(e,t,n){t&&Object.keys(t).forEach((function(t){e.style[t]=""})),Object.keys(n).forEach((function(t){var r=n[t];e.style[t]=_l(r)&&!kte.test(t)?r+"px":r}))}function Cte(e){if(dte.removalNodes.forEach((function(e){return Mte(e)})),e){var t=void 0,n=e.walker();while(t=n.walk())if(e=t.vnode,t.entering)Mte(e);else if(vu(e.type)){var r=e.component;if(!e.old&&r.mounted&&r.mounted(),e.old&&r.updated){var i=r.prevProps||{};r.updated(i)}}}}function Ete(e){var t=e.parent;while(!t.node)t=t.parent;return t.node}function Mte(e){if(e&&e.parent){if(e.node){var t=Ete(e);"A"===e.effect?t.appendChild(e.node):"U"===e.effect&&xte(e.node,e.old.props,e.props)}if("D"===e.effect){var n=void 0,r=e.walker();while(n=r.walk())if(e=n.vnode,!n.entering)if(vu(e.type)){var i=e.component;i.beforeDestroy&&i.beforeDestroy()}else{t=Ete(e);wte(e,t)}}e.ref&&(e.component?e.ref(e.component):e.node&&e.ref(e.node))}}function Ate(e,t){var n=t.props,r=t.component;return r?(r.prevProps=r.props,r.props=t.props,r):new e(n)}function Tte(e){var t=e;while(e&&!e.skip){if(vu(e.type)){var n=Ate(e.type,e);n.vnode=e,e.component=n,e.props.children=e.children=[n.render()],Rte(e)}else e.node||(e.node=bte(e)),Rte(e);if(e.firstChild)e=e.firstChild;else{while(e&&e.parent&&!e.next)if(e=e.parent,e===t)break;e=e.next}}}function Pte(e,t){return e&&t&&t.type===e.type&&(!t.key||t.key===e.key)}function Rte(e){var t=e.children,n=e.old?e.old.firstChild:null,r=null;t.forEach((function(t,i){var o=Pte(n,t);o&&(t.old=n,t.parent=e,t.node=n.node,t.component=n.component,t.effect="U"),t&&!o&&(t.old=null,t.parent=e,t.node=null,t.effect="A"),n&&!o&&(dte.removalNodes.push(n),n.effect="D"),n&&(n=n.next),0===i?e.firstChild=t:t&&(r.next=t),r=t}));var i=sc(t);if(!t.length)while(n)dte.removalNodes.push(n),n.effect="D",n=n.next;while(n&&i)n&&i.old!==n&&(dte.removalNodes.push(n),n.effect="D",n=n.next)}function Dte(e){e.effect="D",dte.removalNodes=[e],Cte(),dte.removalNodes=[]}function _te(e){var t=e.vnode;t.effect="U",t.old=t,t.next&&(t.next.skip=!0),dte.removalNodes=[],Tte(t),Cte(t),t.next&&(t.next.skip=!1)}function jte(e,t){var n=new dte(e.tagName.toLowerCase(),{},[t]);return n.node=e,dte.removalNodes=[],Tte(n),Cte(n),function(){return Dte(n.firstChild)}}var Lte,Ite=function(){function e(e){this.props=e,this.state={},this.refs={}}return e.prototype.setState=function(e){var t=Hs(Hs({},this.state),e);ac(this.state,t)||(this.state=t,_te(this))},e}(),Nte=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hide:!1},n}return zs(t,e),t.prototype.show=function(){this.setState({hide:!1})},t.prototype.hide=function(){this.setState({hide:!0})},t.prototype.render=function(){var e=this.props,t=e.editorType,n=e.eventEmitter;return mte(Lte||(Lte=Fs(['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "])),Fu("mode-switch"),this.state.hide?"none":"block","markdown"===t?" active":"",(function(){n.emit("needChangeMode","markdown")}),J9.get("Markdown"),"wysiwyg"===t?" active":"",(function(){n.emit("needChangeMode","wysiwyg")}),J9.get("WYSIWYG"))},t}(Ite);function Bte(e,t){var n,r;function i(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,r)}),t)}return t=t||0,i}var zte=Bte,Hte=zte;function Wte(e,t){var n,r,i,o,a=!0,s=function(t){e.apply(null,t),n=null};function l(){if(o=Array.prototype.slice.call(arguments),a)return s(o),void(a=!1);i=Number(new Date),n=n||i,r(o),i-n>=t&&s(o)}function c(){a=!0,n=null}return t=t||0,r=Hte(s,t),l.reset=c,l}var Fte,Ute,Vte,qte,Yte,$te,Gte,Xte,Kte,Zte,Jte,Qte,ene,tne,nne,rne,ine=Wte,one=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),t.prototype.execCommand=function(e){var t=ef(e.target,"li");this.props.execCommand("heading",{level:Number(t.getAttribute("data-level"))})},t.prototype.render=function(){var e=this;return mte(Ute||(Ute=Fs(["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "],["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "])),(function(t){return e.execCommand(t)}),J9.get("Headings"),[1,2,3,4,5,6].map((function(e){return mte(Fte||(Fte=Fs(['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "],['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "])),e,"h"+e,J9.get("Heading"),e)})),J9.get("Paragraph"))},t}(Ite),ane=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),t.prototype.toggleTab=function(e,t){this.props.onClick(e,t)},t.prototype.render=function(){var e=this;return mte(qte||(qte=Fs(['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "],['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "])),Fu("tabs"),this.props.tabs.map((function(t){var n=t.name,r=t.text,i=e.props.activeTab===n;return mte(Vte||(Vte=Fs(['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "],['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "])),i?" active":"",(function(t){return e.toggleTab(t,n)}),J9.get(r),i?"true":"false",i?"0":"-1",J9.get(r))})))},t}(Ite),sne="ui",lne=function(e){function t(t){var n=e.call(this,t)||this;return n.initialize=function(e){void 0===e&&(e="file");var t=n.refs.url;t.value="",n.refs.altText.value="",n.refs.file.value="",Rl(t,"wrong"),n.setState({activeTab:e,file:null,fileNameElClassName:""})},n.execCommand=function(){"file"===n.state.activeTab?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(e,t){t!==n.state.activeTab&&n.initialize(t)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(e){var t=e.target.files;(null===t||void 0===t?void 0:t.length)&&n.setState({file:t[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return zs(t,e),t.prototype.emitAddImageBlob=function(){var e=this,t=this.refs.file.files,n=this.refs.altText,r=" wrong";if(null===t||void 0===t?void 0:t.length){r="";var i=t.item(0),o=function(t,r){return e.props.execCommand("addImage",{imageUrl:t,altText:r||n.value})};this.props.eventEmitter.emit("addImageBlobHook",i,o,sne)}this.setState({fileNameElClassName:r})},t.prototype.emitAddImage=function(){var e=this.refs.url,t=this.refs.altText,n=e.value,r=t.value||"image";Rl(e,"wrong"),n.length?n&&this.props.execCommand("addImage",{imageUrl:n,altText:r}):Cl(e,"wrong")},t.prototype.preventSelectStart=function(e){e.preventDefault()},t.prototype.updated=function(){this.props.show||this.initialize()},t.prototype.render=function(){var e=this,t=this.state,n=t.activeTab,r=t.file,i=t.fileNameElClassName;return mte(Yte||(Yte=Fs(['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),J9.get("Insert image"),ane,this.tabs,n,this.toggleTab,"url"===n?"block":"none",J9.get("Image URL"),(function(t){return e.refs.url=t}),"file"===n?"block":"none",J9.get("Select image file"),Fu("file-name"),r?" has-file":i,this.showFileSelectBox,this.preventSelectStart,r?r.name:J9.get("No file"),Fu("file-select-button"),this.showFileSelectBox,J9.get("Choose a file"),this.changeFile,(function(t){return e.refs.file=t}),J9.get("Description"),(function(t){return e.refs.altText=t}),Fu("button-container"),Fu("close-button"),this.props.hidePopup,J9.get("Cancel"),Fu("ok-button"),this.execCommand,J9.get("OK"))},t}(Ite),cne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.execCommand=function(){var e=t.refs.url,n=t.refs.text;if(Rl(e,"wrong"),Rl(n,"wrong"),e.value.length<1)Cl(e,"wrong");else{var r=dl(t.props.initialValues.linkUrl);r&&n.value.length<1?Cl(n,"wrong"):t.props.execCommand("addLink",{linkUrl:e.value,linkText:n.value})}},t}return zs(t,e),t.prototype.initialize=function(){var e=this.props.initialValues,t=e.linkUrl,n=e.linkText,r=this.refs.url,i=this.refs.text;Rl(r,"wrong"),Rl(i,"wrong","disabled"),i.removeAttribute("disabled"),t&&(Cl(i,"disabled"),i.setAttribute("disabled","disabled")),r.value=t||"",i.value=n||""},t.prototype.mounted=function(){this.initialize()},t.prototype.updated=function(e){!e.show&&this.props.show&&this.initialize()},t.prototype.render=function(){var e=this;return mte($te||($te=Fs(['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),J9.get("Insert link"),J9.get("URL"),(function(t){return e.refs.url=t}),J9.get("Link text"),(function(t){return e.refs.text=t}),Fu("button-container"),Fu("close-button"),this.props.hidePopup,J9.get("Cancel"),Fu("ok-button"),this.execCommand,J9.get("OK"))},t}(Ite),une=20,fne=20,dne=5,hne=14,pne=5,vne=9,mne=1,yne=1,gne=1,bne=function(e){function t(t){var n=e.call(this,t)||this;return n.extendSelectionRange=function(e){var t=e.pageX,r=e.pageY,i=t-n.offsetRect.left,o=r-n.offsetRect.top,a=n.getSelectionRangeByOffset(i,o);n.setState(Hs({},a))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return zs(t,e),t.prototype.getDescription=function(){return-1===this.state.colIdx?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},t.prototype.getBoundByRange=function(e,t){return{width:(e+1)*une,height:(t+1)*fne}},t.prototype.getRangeByOffset=function(e,t){return{colIdx:Math.floor(e/une),rowIdx:Math.floor(t/fne)}},t.prototype.getTableRange=function(){var e=this.state,t=e.colIdx,n=e.rowIdx,r=Math.max(t,pne),i=Math.max(n,dne);return t>=pne&&r<vne&&(r+=1),n>=dne&&i<hne&&(i+=1),{colIdx:r+1,rowIdx:i+1}},t.prototype.getSelectionAreaBound=function(){var e=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),t=e.width,n=e.height;return t||n?{width:t-gne,height:n-gne,display:"block"}:{display:"none"}},t.prototype.getSelectionRangeByOffset=function(e,t){var n=this.getRangeByOffset(e,t);return n.rowIdx=Math.min(Math.max(n.rowIdx,mne),hne),n.colIdx=Math.min(Math.max(n.colIdx,yne),vne),n},t.prototype.mounted=function(){var e=this.refs.tableEl.getBoundingClientRect(),t=e.left,n=e.top;this.offsetRect={left:window.pageXOffset+t,top:window.pageYOffset+n}},t.prototype.updated=function(){this.props.show||this.setState({colIdx:-1,rowIdx:-1})},t.prototype.createTableArea=function(e){for(var t=e.colIdx,n=e.rowIdx,r=[],i=0;i<n;i+=1){for(var o=[],a=0;a<t;a+=1){var s=Fu("table-cell")+(i>0?"":" header");o.push(mte(Gte||(Gte=Fs(['<div class="','"></div>'],['<div class="','"></div>'])),s))}r.push(mte(Xte||(Xte=Fs(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Fu("table-row"),o))}return mte(Kte||(Kte=Fs(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Fu("table"),r)},t.prototype.render=function(){var e=this,t=this.getTableRange(),n=this.getSelectionAreaBound();return mte(Zte||(Zte=Fs(['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "],['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "])),J9.get("Insert table"),Fu("table-selection"),(function(t){return e.refs.tableEl=t}),this.extendSelectionRange,this.execCommand,this.createTableArea(t),Fu("table-selection-layer"),n,Fu("table-description"),this.getDescription())},t}(Ite),wne=function(e){function t(t){var n=e.call(this,t)||this;return t.eventEmitter.listen("closePopup",n.props.hidePopup),n}return zs(t,e),t.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},t.prototype.render=function(){var e=this;return mte(Jte||(Jte=Fs(["<div ref=","></div>"],["<div ref=","></div>"])),(function(t){return e.refs.el=t}))},t}(Ite);function xne(e){return Gs(e)?Sne(e):e}function kne(){var e=document.createElement("label"),t=document.createElement("input"),n=document.createElement("span");e.className="scroll-sync active",t.type="checkbox",t.checked=!0,n.className="switch";var r=function(n){return t.addEventListener("change",(function(t){var r=t.target.checked;r?Cl(e,"active"):Rl(e,"active"),n("toggleScrollSync",{active:r})}))};return e.appendChild(t),e.appendChild(n),{name:"scrollSync",el:e,onMounted:r}}function Sne(e){var t;switch(e){case"heading":t={name:"heading",className:"heading",tooltip:J9.get("Headings"),state:"heading"};break;case"bold":t={name:"bold",className:"bold",command:"bold",tooltip:J9.get("Bold"),state:"strong"};break;case"italic":t={name:"italic",className:"italic",command:"italic",tooltip:J9.get("Italic"),state:"emph"};break;case"strike":t={name:"strike",className:"strike",command:"strike",tooltip:J9.get("Strike"),state:"strike"};break;case"hr":t={name:"hr",className:"hrline",command:"hr",tooltip:J9.get("Line"),state:"thematicBreak"};break;case"quote":t={name:"quote",className:"quote",command:"blockQuote",tooltip:J9.get("Blockquote"),state:"blockQuote"};break;case"ul":t={name:"ul",className:"bullet-list",command:"bulletList",tooltip:J9.get("Unordered list"),state:"bulletList"};break;case"ol":t={name:"ol",className:"ordered-list",command:"orderedList",tooltip:J9.get("Ordered list"),state:"orderedList"};break;case"task":t={name:"task",className:"task-list",command:"taskList",tooltip:J9.get("Task"),state:"taskList"};break;case"table":t={name:"table",className:"table",tooltip:J9.get("Insert table"),state:"table"};break;case"image":t={name:"image",className:"image",tooltip:J9.get("Insert image")};break;case"link":t={name:"link",className:"link",tooltip:J9.get("Insert link")};break;case"code":t={name:"code",className:"code",command:"code",tooltip:J9.get("Code"),state:"code"};break;case"codeblock":t={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:J9.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":t={name:"indent",className:"indent",command:"indent",tooltip:J9.get("Indent")};break;case"outdent":t={name:"outdent",className:"outdent",command:"outdent",tooltip:J9.get("Outdent")};break;case"scrollSync":t=kne();break;case"more":t={name:"more",className:"more",tooltip:J9.get("More")};break}return"scrollSync"!==t.name&&(t.className+=" "+Fu("toolbar-icons")),t}function One(e,t){var n=t.el,r=t.pos,i=t.popup,o=t.initialValues;switch(e){case"heading":return{render:function(e){return mte(Qte||(Qte=Fs(["<"," ..."," />"],["<"," ..."," />"])),one,e)},className:Fu("popup-add-heading"),fromEl:n,pos:r};case"link":return{render:function(e){return mte(ene||(ene=Fs(["<"," ..."," />"],["<"," ..."," />"])),cne,e)},className:Fu("popup-add-link"),fromEl:n,pos:r,initialValues:o};case"image":return{render:function(e){return mte(tne||(tne=Fs(["<"," ..."," />"],["<"," ..."," />"])),lne,e)},className:Fu("popup-add-image"),fromEl:n,pos:r};case"table":return{render:function(e){return mte(nne||(nne=Fs(["<"," ..."," />"],["<"," ..."," />"])),bne,e)},className:Fu("popup-add-table"),fromEl:n,pos:r};case"customPopupBody":return i?Hs({render:function(e){return mte(rne||(rne=Fs(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),wne,e,i.body)},fromEl:n,pos:r},i):null;default:return null}}function Cne(e){e.hidden=e.length===e.filter((function(e){return e.hidden})).length}function Ene(e,t){var n=function(e){return e.hidden="scrollSync"===e.name&&t,e};return e.reduce((function(e,t){e.push(t.map((function(e){return n(xne(e))})));var r=e[(e.length||1)-1];return r&&Cne(r),e}),[])}function Mne(e,t){e.forEach((function(e){e.forEach((function(e){return e.hidden="scrollSync"===e.name&&t})),Cne(e)}))}var Ane,Tne,Pne=20,Rne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMousedown=function(e){ef(e.target,"."+Fu("popup"))||ef(e.target,t.props.info.fromEl)||t.props.hidePopup()},t}return zs(t,e),t.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown)},t.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},t.prototype.updated=function(e){var t=this.props,n=t.show,r=t.info;if(n&&r.pos&&e.show!==n){var i=Hs({},r.pos),o=this.refs.el.offsetWidth,a=ef(this.refs.el,"."+Fu("toolbar")),s=a.offsetWidth;i.left+o>=s&&(i.left=s-o-Pne),ac(this.state.popupPos,i)||this.setState({popupPos:i})}},t.prototype.render=function(){var e=this,t=this.props,n=t.info,r=t.show,i=t.hidePopup,o=t.eventEmitter,a=t.execCommand,s=n||{},l=s.className,c=void 0===l?"":l,u=s.style,f=s.render,d=s.initialValues,h=void 0===d?{}:d,p=Hs(Hs({display:r?"block":"none"},u),this.state.popupPos);return mte(Ane||(Ane=Fs(['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "],['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "])),Fu("popup"),c,p,(function(t){return e.refs.el=t}),Fu("popup-body"),f&&f({eventEmitter:o,show:r,hidePopup:i,execCommand:a,initialValues:h}))},t}(Ite),Dne=6;function _ne(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.showTooltip=function(e){var t=n.props.item.tooltip;if(!n.props.disabled&&t){var r=n.getBound(e),i=r.left+Dne+"px",o=r.top+Dne+"px";sl(n.props.tooltipRef.current,{display:"block",left:i,top:o}),n.props.tooltipRef.current.querySelector(".text").textContent=t}},n.hideTooltip=function(){sl(n.props.tooltipRef.current,"display","none")},n.state={active:!1},n.addEvent(),n}return zs(n,t),n.prototype.addEvent=function(){var e=this,t=this.props,n=t.item,r=t.eventEmitter;n.state&&r.listen("changeToolbarState",(function(t){var r=t.toolbarState,i=!!r[n.state];e.setState({active:i})}))},n.prototype.getBound=function(e){var t=tf(e,ef(e,"."+Fu("toolbar"))),n=t.offsetLeft,r=t.offsetTop;return{left:n,top:e.offsetHeight+r}},n.prototype.render=function(){return mte(Tne||(Tne=Fs(["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n        />\n      "],["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n        />\n      "])),e,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound)},n}(Ite)}var jne,Lne,Ine,Nne,Bne,zne,Hne,Wne,Fne,Une,Vne,qne,Yne,$ne,Gne=80,Xne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var e=t.props,n=e.item,r=e.execCommand,i=e.setPopupInfo,o=e.getBound,a=n.command,s=n.name,l=n.popup;if(a)r(a);else{var c=l?"customPopupBody":s,u=One(c,{el:t.refs.el,pos:o(t.refs.el),popup:l});u&&i(u)}},t}return zs(t,e),t.prototype.mounted=function(){this.setItemWidth()},t.prototype.updated=function(e){e.item.name!==this.props.item.name&&this.setItemWidth()},t.prototype.setItemWidth=function(){var e=this.props,t=e.setItemWidth,n=e.item;t&&t(n.name,Qu(this.refs.el)+(n.hidden?Gne:0))},t.prototype.render=function(){var e=this,t=this.props,n=t.hideTooltip,r=t.disabled,i=t.item,o=t.active,a=Hs({display:i.hidden?"none":null},i.style),s=(i.className||"")+(o?" active":"");return mte(jne||(jne=Fs(["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "],["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "])),(function(t){return e.refs.el=t}),a,s,this.execCommand,this.showTooltip,n,!!r,i.text||i.tooltip||"",i.text||"")},t}(Ite),Kne=_ne(Xne),Zne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var e=One("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});e&&t.props.setPopupInfo(e)},t}return zs(t,e),t.prototype.mounted=function(){var e=this.props,t=e.setItemWidth,n=e.item;this.refs.el.appendChild(n.el),t&&t(n.name,Qu(this.refs.el)),n.onMounted&&n.onMounted(this.props.execCommand)},t.prototype.updated=function(e){var t,n=this.props,r=n.item,i=n.active,o=n.disabled;e.active===i&&e.disabled===o||null===(t=r.onUpdated)||void 0===t||t.call(r,{active:i,disabled:o})},t.prototype.render=function(){var e=this,t=this.props,n=t.disabled,r=t.item,i={display:r.hidden?"none":"inline-block"},o=function(e){return n?null:e};return mte(Lne||(Lne=Fs(["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "],["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "])),(function(t){return e.refs.el=t}),i,Fu("toolbar-item-wrapper"),o(this.showPopup),o(this.showTooltip),o(this.props.hideTooltip))},t}(Ite),Jne=_ne(Zne),Qne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zs(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.group,r=t.hiddenDivider,i=n.hidden?{display:"none"}:null,o=r?{display:"none"}:null;return mte(Nne||(Nne=Fs(['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "])),Fu("toolbar-group"),i,n.map((function(t){var n=t.el?Jne:Kne;return mte(Ine||(Ine=Fs(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),n,t.name,e.props,t)})),Fu("toolbar-divider"),o)},t}(Ite),ere=4,tre=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickDocument=function(e){var t=e.target;ef(t,"."+Fu("dropdown-toolbar"))||ef(t,".more")||n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return zs(t,e),t.prototype.getBound=function(){var e=this.props.getBound(this.refs.el);return e.top+=ere,Hs(Hs({},e),{left:null,right:10})},t.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},t.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},t.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},t.prototype.render=function(){var e=this,t=this.state,n=t.showDropdown,r=t.dropdownPos,i=this.props,o=i.disabled,a=i.item,s=i.items,l=i.hideTooltip,c=s.filter((function(e){return!e.hidden})),u=c.length?null:{display:"none"},f=n?null:{display:"none"};return mte(zne||(zne=Fs(['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "])),Fu("toolbar-group"),u,(function(t){return e.refs.el=t}),a.className,(function(){return e.setState({showDropdown:!0})}),this.showTooltip,l,o,Fu("dropdown-toolbar"),Hs(Hs({},f),r),(function(t){return e.refs.dropdownEl=t}),c.length?c.map((function(t,n){var r;return mte(Bne||(Bne=Fs(["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "],["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "])),Qne,t,n===c.length-1||(null===(r=c[n+1])||void 0===r?void 0:r.hidden),e.props)})):null)},t}(Ite),nre=_ne(tre),rre=120,ire=80,ore=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleTab=function(e,t){var r=n.props.eventEmitter;if(n.state.activeTab!==t){var i="write"===t?"changePreviewTabWrite":"changePreviewTabPreview";r.emit(i),n.setState({activeTab:t})}},n.setItemWidth=function(e,t){n.itemWidthMap[e]=t},n.setPopupInfo=function(e){n.setState({showPopup:!0,popupInfo:e})},n.openPopup=function(e,t){void 0===t&&(t={});var r=document.querySelector("."+Fu("toolbar-group")+" ."+e);if(r){var i=tf(r,ef(r,"."+Fu("toolbar"))),o=i.offsetLeft,a=i.offsetTop,s=One(e,{el:r,pos:{left:o,top:r.offsetHeight+a},initialValues:t});s&&n.setPopupInfo(s)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(e,t){var r=n.props.eventEmitter;r.emit("command",e,t),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=Ene(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.addEvent(),n}return zs(t,e),t.prototype.insertToolbarItem=function(e,t){var n=e.groupIndex,r=e.itemIndex,i=this.initialItems[n];t=xne(t),i?i.splice(r,0,t):this.initialItems.push([t]),this.setState(this.classifyToolbarItems())},t.prototype.removeToolbarItem=function(e){var t=this;Js(this.initialItems,(function(n){var r=!1;return Js(n,(function(i,o){return i.name!==e||(r=!0,n.splice(o,1),t.setState(t.classifyToolbarItems()),!1)})),!r}))},t.prototype.addEvent=function(){var e=this;this.props.eventEmitter.listen("openPopup",this.openPopup),this.handleResize=ine((function(){return e.setState(e.classifyToolbarItems())}),200),window.addEventListener("resize",this.handleResize)},t.prototype.appendTooltipToRoot=function(){var e='<div class="'+Fu("tooltip")+'" style="display:none">\n        <div class="arrow"></div>\n        <span class="text"></span>\n      </div>';this.tooltipRef.current=Ju(e,this.refs.el)},t.prototype.hiddenScrollSync=function(){return"wysiwyg"===this.props.editorType||"tab"===this.props.previewStyle},t.prototype.classifyToolbarItems=function(){var e=this,t=0,n=this.refs.el.clientWidth,r=this.refs.el.querySelector("."+Fu("toolbar-divider")),i=r?Qu(r):0,o=[],a=[];return this.initialItems.forEach((function(r,s){var l=[],c=[];r.forEach((function(r){t+=e.itemWidthMap[r.name]||ire;var i=t>=n-rre?c:l;i.push(r)})),l.length&&(Cne(l),o.push(l)),c.length&&(Cne(c),a.push(c)),s<e.state.items.length-1&&(t+=i)})),{items:o,dropdownItems:a}},t.prototype.mounted=function(){"tab"===this.props.previewStyle&&this.props.eventEmitter.emit("changePreviewTabWrite"),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot()},t.prototype.updated=function(e){var t=this.props,n=t.editorType,r=t.previewStyle,i=t.eventEmitter,o=r!==e.previewStyle,a=n!==e.editorType;if(o||a){Mne(this.initialItems,this.hiddenScrollSync());var s=this.classifyToolbarItems();(o||"tab"===r&&"markdown"===n)&&(i.emit("changePreviewTabWrite"),s.activeTab="write"),this.setState(s)}},t.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),Xu(this.tooltipRef.current)},t.prototype.render=function(){var e=this,t=this.props,n=t.previewStyle,r=t.eventEmitter,i=t.editorType,o=this.state,a=o.popupInfo,s=o.showPopup,l=o.activeTab,c=o.items,u=o.dropdownItems,f={eventEmitter:r,tooltipRef:this.tooltipRef,disabled:"markdown"===i&&"tab"===n&&"preview"===l,execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},d="tab"===n?{borderTopLeftRadius:0}:null;return mte(Wne||(Wne=Fs(['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "],['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "])),Fu("toolbar"),Fu("md-tab-container"),"wysiwyg"===i||"vertical"===n?"none":"block",ane,this.tabs,l,this.toggleTab,Fu("defaultUI-toolbar"),(function(t){return e.refs.el=t}),d,c.map((function(t,n){var r;return mte(Hne||(Hne=Fs(["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "],["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "])),Qne,t,n===c.length-1||(null===(r=c[n+1])||void 0===r?void 0:r.hidden),e.setItemWidth,f)})),nre,xne("more"),u,f,Rne,a,s,r,this.hidePopup,this.execCommand)},t}(Ite),are=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickDocument=function(e){ef(e.target,"."+Fu("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return zs(t,e),t.prototype.addEvent=function(){var e=this;this.props.eventEmitter.listen("contextmenu",(function(t){var n=t.pos,r=t.menuGroups;e.setState({pos:n,menuGroups:r})}))},t.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},t.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},t.prototype.getMenuGroupElements=function(){var e=this,t=this.state,n=t.pos,r=t.menuGroups;return n?r.reduce((function(t,n){var r=[];return n.forEach((function(t){var n=t.label,i=t.className,o=void 0!==i&&i,a=t.disabled,s=t.onClick,l=function(){a||(s(),e.setState({pos:null}))};r.push(mte(Fne||(Fne=Fs(["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "],["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "])),l,a?" disabled":"",o,n))})),t.push(mte(Une||(Une=Fs(['<ul class="menu-group">\n              ',"\n            </ul>"],['<ul class="menu-group">\n              ',"\n            </ul>"])),r)),t}),[]):[]},t.prototype.render=function(){var e=Hs({display:this.state.pos?"block":"none"},this.state.pos);return mte(Vne||(Vne=Fs(['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"],['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"])),Fu("context-menu"),e,this.getMenuGroupElements())},t}(Ite),sre=function(e){function t(t){var n=e.call(this,t)||this;n.changeMode=function(e){e!==n.state.editorType&&n.setState({editorType:e})},n.changePreviewStyle=function(e){e!==n.state.previewStyle&&n.setState({previewStyle:e})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var r=t.editorType,i=t.previewStyle;return n.state={editorType:r,previewStyle:i,hide:!1},n.addEvent(),n}return zs(t,e),t.prototype.mounted=function(){var e=this.props.slots,t=e.wwEditor,n=e.mdEditor,r=e.mdPreview;this.refs.wwContainer.appendChild(t),this.refs.mdContainer.insertAdjacentElement("afterbegin",n),this.refs.mdContainer.appendChild(r)},t.prototype.insertToolbarItem=function(e,t){this.toolbar.insertToolbarItem(e,t)},t.prototype.removeToolbarItem=function(e){this.toolbar.removeToolbarItem(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.eventEmitter,r=t.hideModeSwitch,i=t.toolbarItems,o=t.theme,a=this.state,s=a.hide,l=a.previewStyle,c=a.editorType,u=s?" hidden":"",f=Fu("markdown"===c?"md-mode":"ww-mode"),d=Fu("md")+"-"+l+"-style",h=Fu(["light"!==o,o+" "]);return mte(Yne||(Yne=Fs(['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div\n            class="'," ",'"\n            ref=','\n          >\n            <div class="','"></div>\n          </div>\n          <div\n            class="','"\n            ref=',"\n          />\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "],['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div\n            class="'," ",'"\n            ref=','\n          >\n            <div class="','"></div>\n          </div>\n          <div\n            class="','"\n            ref=',"\n          />\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "])),h,Fu("defaultUI"),u,(function(t){return e.refs.el=t}),ore,(function(t){return e.toolbar=t}),n,l,i,c,Fu("main"),f,(function(t){return e.refs.editorSection=t}),Fu("md-container"),d,(function(t){return e.refs.mdContainer=t}),Fu("md-splitter"),Fu("ww-container"),(function(t){return e.refs.wwContainer=t}),!r&&mte(qne||(qne=Fs(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),Nte,n,c),are,n)},t.prototype.addEvent=function(){var e=this.props.eventEmitter;e.listen("hide",this.hide),e.listen("show",this.show),e.listen("changeMode",this.changeMode),e.listen("changePreviewStyle",this.changePreviewStyle)},t}(Ite),lre=function(e){function t(t){var n,r,i=e.call(this,t)||this,o=jte(i.options.el,mte($ne||($ne=Fs(["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "],["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "])),sre,(function(e){return r=e}),i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:r.insertToolbarItem.bind(r),removeToolbarItem:r.removeToolbarItem.bind(r),destroy:o},null===(n=i.pluginInfo.toolbarItems)||void 0===n||n.forEach((function(e){var t=e.groupIndex,n=e.itemIndex,r=e.item;i.defaultUI.insertToolbarItem({groupIndex:t,itemIndex:n},r)})),i}return zs(t,e),t.factory=function(e){return e.viewer?new $ee(e):new t(e)},t.prototype.insertToolbarItem=function(e,t){this.defaultUI.insertToolbarItem(e,t)},t.prototype.removeToolbarItem=function(e){this.defaultUI.removeToolbarItem(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.defaultUI.destroy()},t}(ste);ste.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var cre=lre;cre.setLanguage("zh-CN",{Markdown:"Markdown",WYSIWYG:"所见即所得",Write:"编辑",Preview:"预览",Headings:"标题",Paragraph:"文本",Bold:"加粗",Italic:"斜体字",Strike:"删除线",Code:"内嵌代码",Line:"水平线",Blockquote:"引用块","Unordered list":"无序列表","Ordered list":"有序列表",Task:"任务",Indent:"缩进",Outdent:"减少缩进","Insert link":"插入链接","Insert CodeBlock":"插入代码块","Insert table":"插入表格","Insert image":"插入图片",Heading:"标题","Image URL":"图片网址","Select image file":"选择图片文件","Choose a file":"选择一个文件","No file":"没有文件",Description:"说明",OK:"确认",More:"更多",Cancel:"取消",File:"文件",URL:"URL","Link text":"链接文本","Add row to up":"向上添加行","Add row to down":"在下方添加行","Add column to left":"在左侧添加列","Add column to right":"在右侧添加列","Remove row":"删除行","Remove column":"删除列","Align column to left":"左对齐","Align column to center":"居中对齐","Align column to right":"右对齐","Remove table":"删除表格","Would you like to paste as table?":"需要粘贴为表格吗?","Text color":"文字颜色","Auto scroll enabled":"自动滚动已启用","Auto scroll disabled":"自动滚动已禁用","Choose language":"选择语言"}),cre.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var ure=n(65),fre=n(8676),dre=n(3611),hre=n.n(dre),pre=n(9351),vre=n.n(pre),mre=n(3267),yre=n.n(mre),gre=n(1931),bre=n.n(gre),wre=n(2387),xre=n.n(wre);function kre(e,t,n){let i;const o=(0,ure.oR)();function a(e){i=new cre({el:e,height:"500px",previewStyle:"vertical",language:"zh"===o.getters.language?"zh-CN":"en",plugins:[hre(),vre(),yre(),bre(),xre()],initialValue:t.modelValue}),i.on("change",s)}function s(){n.emit("update:modelValue",i.getMarkdown())}function l(){i.off("change"),i.destroy()}return(0,r.bv)((()=>{a(e.value)})),(0,r.YP)((()=>t.modelValue),(e=>{i&&e&&i.setMarkdown(e)}),{immediate:!0}),(0,fre.B)((()=>{if(!e.value)return;const t=i.getMarkdown();l(),a(e.value),i.setMarkdown(t)})),(0,r.Ah)((()=>{l()})),{editor:i}}var Sre={props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,t){const n=(0,p.iH)(),{editor:r}=kre(n,e,t);return{editorRef:n,editor:r}}},Ore=n(89);const Cre=(0,Ore.Z)(Sre,[["render",h]]);var Ere=Cre,Mre=n(8918),Are=n(4329),Tre=n(2807),Pre=n(678),Rre={name:"CreateArticle",components:{MarkdownEditor:Ere},setup(){const e=(0,Are.QT)(),t=(0,p.iH)(!1),n=(0,p.iH)({id:"",title:"",content:""}),r=(0,p.iH)(),i=(0,Pre.yj)(),o=(0,Pre.tv)(),a=(0,ure.oR)(),s=(0,p.iH)(!1);async function l(){try{s.value=!0;const e=await(0,Mre.PQ)(i.params.id);n.value={title:e.title,content:e.content,id:e._id}}finally{s.value=!1}}async function c(){try{s.value=!0,i.params.id?(await(0,Mre.OD)(n.value),Tre.z8.success(e.t("article.editorSuccess"))):(await(0,Mre.tu)(n.value),Tre.z8.success(e.t("article.createSuccess")),a.commit("app/removeTagView",{type:"current",tagView:a.getters.currentTagView}),o.push({name:"articleRanking"}))}finally{s.value=!1}}return i.params.id&&l(),{onSubmitClick:c,detail:n,markdown:r,loading:s,saving:t}}};const Dre=(0,Ore.Z)(Rre,[["render",u],["__scopeId","data-v-66873b48"]]);var _re=Dre}}]);
//# sourceMappingURL=607.33c742fb.js.map